<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extraction extraction-result-1733 - Theorizer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <div class="header">
        <a href="../index.html"><i class="fas fa-flask"></i> Theorizer</a>
    </div>

    <div class="content">
        <h1>Extracted Data Details for extraction-result-1733</h1>

        <div class="section">
            <h2>Extracted Data (Header)</h2>
            <div class="info-section">
                <p><strong>Extraction ID:</strong> extraction-result-1733</p>
                <p><strong>Extraction Schema Used (ID):</strong> <a href="../schemas/extraction-schema-31.html">extraction-schema-31</a></p>
                <div class="extraction-query"><strong>Extraction Query:</strong> Extract any mentions of genetic/evolutionary algorithms that use crossover and mutation operations on code, programs, or literature to generate new solutions, with particular attention to measures of novelty, diversity, executability, and functionality.</div>
                <p><strong>Paper ID:</strong> paper-dc19aacbaaeed6a2b410bfad3f77f1fc2242be54</p>
                <p><strong>Paper Title:</strong> <a href="https://www.semanticscholar.org/paper/dc19aacbaaeed6a2b410bfad3f77f1fc2242be54" target="_blank">Evolutionary Model Discovery of Factors for Farm Selection by the Artificial Anasazi</a></p>
                <p><strong>Paper Venue:</strong> arXiv.org</p>
                <p><strong>Paper TL;DR:</strong> It is demonstrated that when coupled with evolutionary computation techniques, agent-based models can be used to evolve plausible agent behaviors that are able to recreate patterns observed in real-world data, from which valuable insights into candidate explanations of the macro-phenomenon can be drawn.</p>
                <p><strong>Paper Abstract:</strong> Agent-based modeling has been criticized for its apparent lack of establishing causality of social phenomena. However, we demonstrate that when coupled with evolutionary computation techniques, agent-based models can be used to evolve plausible agent behaviors that are able to recreate patterns observed in real-world data, from which valuable insights into candidate explanations of the macro-phenomenon can be drawn. Existing methodologies have suggested the manual assembly and comparison or automated selection of pre-built models on their ability to fit patterns in data. We discuss the cons of existing manual approaches and how evolutionary model discovery, an evolutionary approach to explore the space of agent behaviors for plausible rule-sets, can overcome these issues. We couple evolutionary model discovery with concepts from the Agent\_Zero framework, ensuring social connectivity, emotional theory components and rational mechanisms. In this study, we revisit the farm-seeking strategy of the Artificial Anasazi model, originally designed to simply select the closest potential farm plot as their next farming location. We use evolutionary model discovery to explore plausible farm seeking strategies, extending our previous study by testing four social connectivity strategies, four emotional theory components and five rational mechanisms for a more complex human-like approach towards farm plot selection. Our results confirm that, plot quality, dryness and community presence were more important in the farm selection process of the Anasazi than distance, and discover farm selection strategies that generate simulations that produce a closer fit to the archaeological data.</p>
                <p><strong>Cost:</strong> 0.011</p>
            </div>
        </div>

        <div class="section">
            <h2>Extracted Data (Details)</h2>
            <div class="extraction-instance-container" id="e1733.0">
                <h3 class="extraction-instance">Extracted Data Instance 0 (e1733.0)</h3>
                <div class="extraction-query"><strong>Extraction Query:</strong> Extract any mentions of genetic/evolutionary algorithms that use crossover and mutation operations on code, programs, or literature to generate new solutions, with particular attention to measures of novelty, diversity, executability, and functionality.</div>
                <table>
                    <thead>
                        <tr>
                            <th style="width: 30%;">Field</th>
                            <th style="width: 70%;">Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>name_short</strong></td>
                            <td>Evolutionary Model Discovery (EMD-GP)</td>
                        </tr>
                        <tr>
                            <td><strong>name_full</strong></td>
                            <td>Evolutionary model discovery (genetic programming combined with random forest factor analysis)</td>
                        </tr>
                        <tr>
                            <td><strong>brief_description</strong></td>
                            <td>A framework that evolves agent decision-rule programs via genetic programming (syntax-tree GP with crossover and mutation) and then quantifies the importance of hypothesized causal factors by training random-forest regressors on 'factor presence' extracted from the evolved programs to explain simulation fitness (RMSE). Used to discover and validate improved farm-plot selection rules in the Artificial Anasazi ABM.</td>
                        </tr>
                        <tr>
                            <td><strong>citation_title</strong></td>
                            <td>here</td>
                        </tr>
                        <tr>
                            <td><strong>mention_or_use</strong></td>
                            <td>use</td>
                        </tr>
                        <tr>
                            <td><strong>system_name</strong></td>
                            <td>Evolutionary Model Discovery (Genetic Programming + Random Forest)</td>
                        </tr>
                        <tr>
                            <td><strong>system_description</strong></td>
                            <td>EMD-GP evolves agent behavior rules implemented as typed syntax trees composed from a modeler's set of hypothesized factors and combining operators using genetic programming (GP). Populations of candidate rule programs are evolved over generations with selection driven by simulation fitness (minimizing RMSE between simulated and empirical household counts). The GP representation is a tree of primitives/terminals (factors/operators), with minimum and maximum depths enforced and initialization via the Half-and-Half tree builder. After GP exploration, each evolved program is characterized by the presence/coefficients of factors it contains; a random forest regressor is trained on these factor-presence → fitness datapoints to estimate main and joint importance of factors. Joint contribution (tree-interpreter) is used to quantify interactions, while gini and permutation importance provide complementary global importance measures. Insights from the importance analysis are used to construct new, human-interpretable agent rules which are then evaluated for robustness.</td>
                        </tr>
                        <tr>
                            <td><strong>input_type</strong></td>
                            <td>programs (agent behavior rules represented as typed syntax trees of primitives and terminals)</td>
                        </tr>
                        <tr>
                            <td><strong>crossover_operation</strong></td>
                            <td>Applied on the GP syntax-tree representation: parents' program trees are recombined to form offspring by exchanging substructures (subtrees of primitives/terminals) between two parent trees (tree-based crossover as performed in the GP implementation). The paper states that crossover is used on the syntax-tree representation but does not provide low-level operator parameters (e.g., crossover probability or exact subtree selection heuristics).</td>
                        </tr>
                        <tr>
                            <td><strong>mutation_operation</strong></td>
                            <td>Local edits applied to GP syntax trees: the paper reports mutation is used to perturb individuals' program trees (replacing or altering primitives/terminals or subtrees), but does not give exact mutation operators or probabilities. Mutation is described only at the level of 'mutation operators performed on the representation consisting of primitives and terminals'.</td>
                        </tr>
                        <tr>
                            <td><strong>uses_literature</strong></td>
                            <td>False</td>
                        </tr>
                        <tr>
                            <td><strong>uses_code</strong></td>
                            <td>True</td>
                        </tr>
                        <tr>
                            <td><strong>novelty_metric</strong></td>
                            <td><span class="empty-note">null</span></td>
                        </tr>
                        <tr>
                            <td><strong>novelty_results</strong></td>
                            <td><span class="empty-note">null</span></td>
                        </tr>
                        <tr>
                            <td><strong>executability_metric</strong></td>
                            <td>Simulation fitness (RMSE): the executability/functionality of an evolved program is measured by running the ABM with that program as the farm-selection rule and computing the root-mean-square error (RMSE) between the simulated annual household-count time series and the empirical household-count time series over 550 ticks.</td>
                        </tr>
                        <tr>
                            <td><strong>executability_results</strong></td>
                            <td>Quantitative fitness results reported across 20 GP runs (population 50, 100 generations): best-run RMSE values are listed in Table 1 (examples: run 12 best RMSE = 687.122260; run 9 best RMSE = 701.208243; run 19 best RMSE = 701.300934). The paper reports 15 of 20 runs produced RMSE lower than the literature best for the original (distance-based) farm-selection (733.6). Constructed rules using discovered important factors also showed significantly lower RMSE than the original rule in 100-run robustness tests (numbers for constructed-rule distributions are shown in figures; best single-run numeric RMSEs are as in Table 1).</td>
                        </tr>
                        <tr>
                            <td><strong>diversity_metric</strong></td>
                            <td>No explicit genotypic/phenotypic diversity metric is reported; variation is characterized indirectly via distributions of 'factor presence' observed across evolved programs (counts of presence values, RMSE vs factor-presence plots) rather than through a formal diversity statistic.</td>
                        </tr>
                        <tr>
                            <td><strong>diversity_results</strong></td>
                            <td><span class="empty-note">null</span></td>
                        </tr>
                        <tr>
                            <td><strong>novelty_executability_tradeoff</strong></td>
                            <td><span class="empty-note">null</span></td>
                        </tr>
                        <tr>
                            <td><strong>frontier_characterization</strong></td>
                            <td><span class="empty-note">null</span></td>
                        </tr>
                        <tr>
                            <td><strong>benchmark_or_domain</strong></td>
                            <td>Agent-based model behavior-rule discovery (Artificial Anasazi socio-agricultural farm-plot selection domain / ABM behavioral rule synthesis and validation).</td>
                        </tr>
                        <tr>
                            <td><strong>comparison_baseline</strong></td>
                            <td>Original Artificial Anasazi farm-selection rule (minimize distance; argmax over -F_Dist), literature-calibrated parameterization best RMSE = 733.6; comparisons also across social connectivity configurations (S_All, S_Fam, S_Neigh, S_Perf) and to newly constructed rules derived from top factors.</td>
                        </tr>
                        <tr>
                            <td><strong>key_findings</strong></td>
                            <td>Genetic programming (with crossover and mutation on syntax-tree programs) successfully explored the space of agent decision-rule programs and produced rules with substantially better executability (lower RMSE) than the original distance-based rule: 15 of 20 GP runs found rules with RMSE < 733.6, with the best-evolved rule reaching RMSE ≈ 687.12. The paper does not provide separate quantitative analyses isolating the effects of crossover vs mutation on novelty/diversity/executability; instead GP is treated as a combined stochastic search mechanism. Novelty and diversity are not explicitly measured—analysis focuses on factor-presence distributions and feature-importance (gini, permutation, and joint-contribution) derived from random forests trained on factor-presence → fitness data. The most important factors discovered (in order) are F_Qual (land quality), F_Soc (social presence), F_Dist (distance, but with positive presence indicating selecting farther plots), F_Mig (inter-zone migration), and F_Dry (dryness; important via interactions). Rules constructed from these insights produced more robust ABM behavior under parameter randomization.</td>
                        </tr>
                        <tr>
                            <td><strong>additional_implementation_details</strong></td>
                            <td>GP implementation: DEAP library; parallelized with SCOOP; 20 independent GP runs; each run: population size = 50, generations = 100, min tree depth = 4, max tree depth = 10, initialization = Half-and-Half tree builder. Factor presence (coefficients in evolved rules) extracted per program and used as features for a random forest regressor (Scikit-learn) with 520 trees; importance estimated via gini, permutation (ELI5), and joint contribution (tree-interpreter).</td>
                        </tr>
                        <tr>
                            <td><strong>source_info</strong></td>
                            <td>{'paper_title': 'Evolutionary Model Discovery of Factors for Farm Selection by the Artificial Anasazi', 'publication_date_yy_mm': '2018-02'}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="section">
            <h2>Potentially Relevant New Papers (mentioned by this paper)</h2>
            <ol>
                <li>Genetic programming: on the programming of computers by means of natural selection <em>(Rating: 2)</em></li>
                <li>Agent-based modeling and genetic programming for modeling land change in the Southern Yucatan Peninsular Region of Mexico <em>(Rating: 2)</em></li>
                <li>Bounded rationality in agent-based models: experiments with evolutionary programs <em>(Rating: 2)</em></li>
                <li>Automatic rule identification for agent-based crowd models through gene expression programming <em>(Rating: 2)</em></li>
                <li>Optimizing existing software with genetic programming <em>(Rating: 2)</em></li>
                <li>Genetic improvement of software: a comprehensive survey <em>(Rating: 2)</em></li>
                <li>DEAP: Evolutionary Algorithms Made Easy <em>(Rating: 2)</em></li>
                <li>Evolutionary Robustness Checking in the Artificial Anasazi Model <em>(Rating: 2)</em></li>
            </ol>
        </div>

        <div class="section">
            <h2>Extracted Data (Debug)</h2>
            <pre><code>{
    "id": "extraction-result-1733",
    "paper_id": "paper-dc19aacbaaeed6a2b410bfad3f77f1fc2242be54",
    "extraction_schema_id": "extraction-schema-31",
    "extracted_data": [
        {
            "name_short": "Evolutionary Model Discovery (EMD-GP)",
            "name_full": "Evolutionary model discovery (genetic programming combined with random forest factor analysis)",
            "brief_description": "A framework that evolves agent decision-rule programs via genetic programming (syntax-tree GP with crossover and mutation) and then quantifies the importance of hypothesized causal factors by training random-forest regressors on 'factor presence' extracted from the evolved programs to explain simulation fitness (RMSE). Used to discover and validate improved farm-plot selection rules in the Artificial Anasazi ABM.",
            "citation_title": "here",
            "mention_or_use": "use",
            "system_name": "Evolutionary Model Discovery (Genetic Programming + Random Forest)",
            "system_description": "EMD-GP evolves agent behavior rules implemented as typed syntax trees composed from a modeler's set of hypothesized factors and combining operators using genetic programming (GP). Populations of candidate rule programs are evolved over generations with selection driven by simulation fitness (minimizing RMSE between simulated and empirical household counts). The GP representation is a tree of primitives/terminals (factors/operators), with minimum and maximum depths enforced and initialization via the Half-and-Half tree builder. After GP exploration, each evolved program is characterized by the presence/coefficients of factors it contains; a random forest regressor is trained on these factor-presence → fitness datapoints to estimate main and joint importance of factors. Joint contribution (tree-interpreter) is used to quantify interactions, while gini and permutation importance provide complementary global importance measures. Insights from the importance analysis are used to construct new, human-interpretable agent rules which are then evaluated for robustness.",
            "input_type": "programs (agent behavior rules represented as typed syntax trees of primitives and terminals)",
            "crossover_operation": "Applied on the GP syntax-tree representation: parents' program trees are recombined to form offspring by exchanging substructures (subtrees of primitives/terminals) between two parent trees (tree-based crossover as performed in the GP implementation). The paper states that crossover is used on the syntax-tree representation but does not provide low-level operator parameters (e.g., crossover probability or exact subtree selection heuristics).",
            "mutation_operation": "Local edits applied to GP syntax trees: the paper reports mutation is used to perturb individuals' program trees (replacing or altering primitives/terminals or subtrees), but does not give exact mutation operators or probabilities. Mutation is described only at the level of 'mutation operators performed on the representation consisting of primitives and terminals'.",
            "uses_literature": false,
            "uses_code": true,
            "novelty_metric": null,
            "novelty_results": null,
            "executability_metric": "Simulation fitness (RMSE): the executability/functionality of an evolved program is measured by running the ABM with that program as the farm-selection rule and computing the root-mean-square error (RMSE) between the simulated annual household-count time series and the empirical household-count time series over 550 ticks.",
            "executability_results": "Quantitative fitness results reported across 20 GP runs (population 50, 100 generations): best-run RMSE values are listed in Table 1 (examples: run 12 best RMSE = 687.122260; run 9 best RMSE = 701.208243; run 19 best RMSE = 701.300934). The paper reports 15 of 20 runs produced RMSE lower than the literature best for the original (distance-based) farm-selection (733.6). Constructed rules using discovered important factors also showed significantly lower RMSE than the original rule in 100-run robustness tests (numbers for constructed-rule distributions are shown in figures; best single-run numeric RMSEs are as in Table 1).",
            "diversity_metric": "No explicit genotypic/phenotypic diversity metric is reported; variation is characterized indirectly via distributions of 'factor presence' observed across evolved programs (counts of presence values, RMSE vs factor-presence plots) rather than through a formal diversity statistic.",
            "diversity_results": null,
            "novelty_executability_tradeoff": null,
            "frontier_characterization": null,
            "benchmark_or_domain": "Agent-based model behavior-rule discovery (Artificial Anasazi socio-agricultural farm-plot selection domain / ABM behavioral rule synthesis and validation).",
            "comparison_baseline": "Original Artificial Anasazi farm-selection rule (minimize distance; argmax over -F_Dist), literature-calibrated parameterization best RMSE = 733.6; comparisons also across social connectivity configurations (S_All, S_Fam, S_Neigh, S_Perf) and to newly constructed rules derived from top factors.",
            "key_findings": "Genetic programming (with crossover and mutation on syntax-tree programs) successfully explored the space of agent decision-rule programs and produced rules with substantially better executability (lower RMSE) than the original distance-based rule: 15 of 20 GP runs found rules with RMSE &lt; 733.6, with the best-evolved rule reaching RMSE ≈ 687.12. The paper does not provide separate quantitative analyses isolating the effects of crossover vs mutation on novelty/diversity/executability; instead GP is treated as a combined stochastic search mechanism. Novelty and diversity are not explicitly measured—analysis focuses on factor-presence distributions and feature-importance (gini, permutation, and joint-contribution) derived from random forests trained on factor-presence → fitness data. The most important factors discovered (in order) are F_Qual (land quality), F_Soc (social presence), F_Dist (distance, but with positive presence indicating selecting farther plots), F_Mig (inter-zone migration), and F_Dry (dryness; important via interactions). Rules constructed from these insights produced more robust ABM behavior under parameter randomization.",
            "additional_implementation_details": "GP implementation: DEAP library; parallelized with SCOOP; 20 independent GP runs; each run: population size = 50, generations = 100, min tree depth = 4, max tree depth = 10, initialization = Half-and-Half tree builder. Factor presence (coefficients in evolved rules) extracted per program and used as features for a random forest regressor (Scikit-learn) with 520 trees; importance estimated via gini, permutation (ELI5), and joint contribution (tree-interpreter).",
            "uuid": "e1733.0",
            "source_info": {
                "paper_title": "Evolutionary Model Discovery of Factors for Farm Selection by the Artificial Anasazi",
                "publication_date_yy_mm": "2018-02"
            }
        }
    ],
    "potentially_relevant_new_papers": [
        {
            "paper_title": "Genetic programming: on the programming of computers by means of natural selection",
            "rating": 2
        },
        {
            "paper_title": "Agent-based modeling and genetic programming for modeling land change in the Southern Yucatan Peninsular Region of Mexico",
            "rating": 2
        },
        {
            "paper_title": "Bounded rationality in agent-based models: experiments with evolutionary programs",
            "rating": 2
        },
        {
            "paper_title": "Automatic rule identification for agent-based crowd models through gene expression programming",
            "rating": 2
        },
        {
            "paper_title": "Optimizing existing software with genetic programming",
            "rating": 2
        },
        {
            "paper_title": "Genetic improvement of software: a comprehensive survey",
            "rating": 2
        },
        {
            "paper_title": "DEAP: Evolutionary Algorithms Made Easy",
            "rating": 2
        },
        {
            "paper_title": "Evolutionary Robustness Checking in the Artificial Anasazi Model",
            "rating": 2
        }
    ],
    "cost": 0.0108315,
    "model_str": "gpt-5-mini"
}</code></pre>
        </div>
        <div class="section">
            <h2>Paper</h2>
            <div class="paper-content"><h1>Evolutionary model discovery of causal factors behind the socio-agricultural behavior of the ancestral Pueblo</h1>
<p>Chathika Gunaratne ${ }^{1}$, Ivan Garibay ${ }^{1}$, Nguyen Dang ${ }^{2}$<br>1 Complex Adaptive Systems Lab, Department of Industrial Engineering and Management Systems, University of Central Florida, Orlando, Florida, USA<br>2 AI group, School of Computer Science, University of St Andrews, St Andrews, UK<br>* Corressponding authors<br>Email: chathika@knights.ucf.edu (CG)<br>Email: ivan.garibay@ucf.edu (IG)</p>
<h2>Abstract</h2>
<p>Agent-based modeling of artificial societies offers a platform to test human-interpretable, causal explanations of human behavior that generate society-scale phenomena. However, parameter calibration is insufficient to conduct an adequate data-driven exploration of the importance of causal factors that constitute agent rules, resulting in models with limited causal accuracy and robustness. We introduce evolutionary model discovery, a framework that combines genetic programming and random forest regression to evaluate the importance of a set of causal factors hypothesized to affect the individual's decision-making process. We investigated the farm plot seeking behavior of the ancestral Pueblo of the Long House Valley simulated in the Artificial Anasazi model our proposed framework. We evaluated the importance of causal factors not considered in the original model that we hypothesized to have affected the decision-making process. Contrary to the original model, where closeness was the sole factor driving farm plot selection, selection of higher quality land and desire for social presence are shown to be more important. In fact, model performance is improved when agents select farm plots further away from their failed farm plot. Farm selection strategies designed using these insights into the socio-agricultural behavior of the ancestral Pueblo significantly improved the model's accuracy and robustness.</p>
<h2>Introduction</h2>
<p>Exposing the mechanics of the human decision-making processes that cause complex, society-scale phenomena is a difficult endeavor. These decision-making processes are often driven by multiple causal factors [1] with researchers having no direct means of measuring how these factors contribute to society-scale phenomena. Abductive reasoning via data-driven modeling and simulation techniques can overcome these issues by 'growing' artificial societies [2] and adjusting their configurations until adequate matches between simulation results and real world data are achieved. Agent-based modeling (ABM) in particular, offers the benefit of representing behaviors as human-interpretable rules. These rules are driven by the agent's autonomous evaluation of a variety of factors that are hypothesized by the modeler to be important in the decision-making process being modeled, indicated by the ability of</p>
<p>ABM to simulate real world observations. However, a particular behavior rule only represents a single hypothetical decision-making process contained within a large space of possible, alternate decision-making processes. Exploring this vast space of rules requires the repeated re-implementation of multiple versions of the same ABM with different embedded decision-making processes [3]; this is a tedious task, involving the comparison of a massive number of combinations of causal factors. Thus, researchers often resort to modeling the most intuitive decision-making processes, if not process, which risks a subjective and inaccurate representation of the actual individual behavior [4].</p>
<p>The current standard of ABM exploration, parameter calibration, is a black-box technique and does not perform white-box rule exploration. Parameter calibration works on the assumption of the correctness of a predefined rule and fine tunes the coefficients of its constituent factors, but cannot it easily experiment between different structures and operators through which these factors combine. Unless the importance of factors and how they are structured in the behavior rule are established, the underlying behavior rule merely remains an untested hypothesis of the actual individual behavior [2-4]. Parameter calibration tools are readily available for ABM frameworks, such as BehaviorSearch [5] for NetLogo [6], and OptQuest [7] for AnyLogic [8]. Inductive games have been used to infer the decision-making of societies via game theory [9], yet no established methodology exists for ABMs. As ABM rules are implemented as program instructions, genetic programming [10] is a highly suitable technique for model discovery. However, research into using genetic programming with ABMs for exploration of causality has been limited [11, 13, 14].</p>
<p>To meet this need, we introduce evolutionary model discovery, a technique for agent rule exploration and causal factor importance measurement, which combines the automated program generation capability of genetic programming [10] with the factor importance evaluation capability of random forest regression [15-20]. Unlike current standard techniques like pattern-oriented modeling [3] and model selection [21], evolutionary model discovery has the advantage of avoiding manual and repetitive re-implementation of models through automated program generation, resulting in a greatly reduced risk of implementation errors. Agent rules generated through genetic programming consist of functions of primitives that are easily comparable, as they follow a common representation. Using this representation, differences between candidate models are isolated to the code implementing the decision under scrutiny, to facilitate factor analysis and to avoid the need to compare two completely different implementations. The comparability of candidate models is important in drawing insights into the causes of the society-level phenomena being simulated. The stochasticity of genetic programming allows for the exploration of a vast space of possible agent rules, while selection of fitter models for breeding the next generation of rules ensures the exploitation of stronger factor interactions. Assumptions on agent behavior can be relaxed and rules with deeper factor interactions evaluated. Genetic programming, random forest training, and factor importance evaluation are all easily parallelizable techniques, which is important considering the large search space that can result even from a simple factor set.</p>
<p>In this study, we employ evolutionary model discovery to discover plausible interactions of causal factors by comparing their importance in the farm plot selection of the ancestral Pueblo community modeled in the Artificial Anasazi [22, 24]. The ABM simulates the population dynamics of the Long House Valley between the years 800 AD to 1400 AD during which there was a sudden population collapse around 1350 AD. The original model demonstrated that this collapse was not caused by environmental factors alone. The model is data driven and simulations attempt to match the annual population time-series measuring households in the valley, which</p>
<p>was estimated through data gathered from archaeological digs [22]. The agents in the model represent households, and are dependent on the agricultural success of their farm plot for sustenance and reproduction. The farm plot selection strategy originally implemented dictates that upon depletion of a household's current farm plot, the agent moves to the next closest available plot of land. In other words, the sole factor influencing this decision is the minimization of distance over the complete set of available plots of land in the valley.</p>
<p>We argue that this behavior is not entirely human-like, and could have been influenced by factors other than distance. Instead, we hypothesize that nine different factors and four different social structures governing information flow may have driven the farm plot seeking behavior of the modeled Pueblo society. Specifically, we hypothesize that the following factors could have had significant importance: distance $\left(F_{\text {Dist }}\right)$, dryness of the farm-land $\left(F_{\text {Dry }}\right)$, quality of farm-land $\left(F_{\text {Qual }}\right)$, yield of the land in the previous year $\left(F_{\text {Yield }}\right)$, water availability $\left(F_{\text {Water }}\right)$, social presence near the potential farm land $\left(F_{\text {Soc }}\right)$, homophily by age $\left(F_{\text {Age }}\right)$, homophily by agricultural success $\left(F_{\text {Agri }}\right)$, and inter-zone migration $\left(F_{\text {Mig }}\right)$, under the following possible social connectivity configurations: full information of the valley $\left(S_{\text {All }}\right)$, information provided by family immediate family members $\left(S_{F a m}\right)$, information provided by the most productive households $\left(S_{\text {Perf }}\right)$, or information from the nearest neighbors $\left(S_{N h b r}\right)$. We consider the coefficients of these factors in the evolved agent behavior rules as the factors' 'presence' in that particular behavior rule. Each factor's presence is then analyzed for its importance at predicting the ABM's fitness through feature importance analysis on a random forest trained on data generated by the genetic program. Utilizing a random forest for this purpose allowed us to measure both main effects of the factors' presence and the joint contributions of factors towards the ABM's fitness. After identifying the most important factors, we determined the optimal presence for them. With these insights we were able to construct causally accurate and robust farm selection procedures.</p>
<p>Our results falsify the original assumption [22,24] that closeness was the sole causal factor governing farm plot selection of the ancestral Pueblo society. Instead, evolutionary model discovery reports the most important factors as quality, social presence, migration from zone, distance, and dryness in order of decreasing importance. In particular, the selection of higher quality land that either had a higher social presence or was located in a different zone was shown to be more likely behavior and versions of the Artificial Anasazi with these farm selection strategies were significantly more robust against random initialization of parameters. Our results indicate that the farm selection strategy was likely more human-like than that implemented in original version of the model [22,24].</p>
<h1>Methodology</h1>
<h2>Farm Plot Selection in the Artificial Anasazi</h2>
<p>The Artificial Anasazi is an agent-based model of the Kayenta Anasazi during the years of 800 AD to 1350 AD [22,24]. This model was initially developed as part of a larger effort to study the ancestral Pueblo civilization that occupied the Long House Valley region. The ABM is implemented in NetLogo [6,24]. Archaeological excavations provide annual population time series data as estimated counts of households that existed in the valley during the period of study. Annual data on water sources and estimated soil dryness (Adjusted Palmer Drought Severity Index) for each grid location on the map are provided. The model used a normal distribution to map relative quality of soil over the map. The agent-based model simulates the rise and fall</p>
<p>of households over a geographic map of the valley over time and produces a time series of annual household count. The original purpose of the Artificial Anasazi was to test if environmental factors could have triggered the sudden disappearance of the Anasazi from the Long House Valley around 1350 AD.</p>
<p>Critics of the Artificial Anasazi have argued that the agent-based model itself is but a single candidate explanation of the social phenomenon at hand, the rise and fall of the Anasazi population over time [4]. However, we view this as an advantage as the Artificial Anasazi can be used as a test-bed to discover multiple plausible explanations of the population dynamics of the Long Valley at the time. Testing combinations of hypothesized factors that may have influenced actual decision-making processes of the individuals results in a vast search space of plausible Artificial Anasazi behavior results.</p>
<p>We concentrated on a particular sub-model of the Artificial Anasazi: the farm plot selection strategy. The households perform farm plot selection under two conditions: 1) when a new child household is hatched by a household that has enough resources to increase its family size, or 2) when the current farm plot is unable to produce enough yield to satisfy the nutrition needs of the household anymore. The original model, hypothesizes that the households simply selected the next closest available farm plot to the household's current farm plot during farm plot selection, i.e., minimizing over distance. A patch must be free of farms or households and not be located inside a water body to be available. Consequently, the original farm selection strategy ignores other sensory data available to the households regarding the land and the state of other households in the valley.</p>
<h1>Hypothesized Alternate Factors Influencing Farm Plot Selection</h1>
<p>Human social behavior is rarely entirely rational. Accordingly, our hypothesis proposed that the farm selection decisions of the ancestral Pueblo were complex, and took into account the state of the potential farm plots available to them and the social influences of other households around them. Agent_Zero [2] models the human decision making process into three dimensions: social, emotional and rational. Similarly, we defined factors that we hypothesized to influence the farm plot selection process within these dimensions. The social component is expressed through four mutually exclusive social connectivity configurations through which the agent could receive information on a subset of potential farm plots, $s$, out of the entire set of potential farm plots in the valley, $S_{\text {All }}$. The received information is then processed through a utility function $f(x)$ defined as a combination of factors and operators, $F$, which consider both the internal state of the household and the conditions of the farm plot and its surroundings in order to determine the next farm plot $x^{\prime} \in \mathrm{s} \subset S_{\text {All }}$ as in Eq (1).</p>
<p>$$
x^{\prime}=\underset{x \in s \subset S_{A l l}}{\operatorname{argmax}} f(x)
$$</p>
<p>Households in the original Artificial Anasazi model consider a single factor, distance, which we will refer to as $F_{\text {Dist }}$, and choose the potential farm plot with minimal distance to their current farm location. No further factors are considered in the decision making process. Furthermore, the original model assumes that the households have complete information of the valley, and every potential farm plot is compared. Therefore, the farm selection process of the original Artificial Anasazi can be represented as in $\operatorname{Eq}(1)$.</p>
<p>$$
x^{\prime}=\underset{x \in S_{A l l}}{\operatorname{argmax}}\left(-F_{\text {Dist }}(x)\right)
$$</p>
<p>Arguing that the farm selection decision may have been more complex, considering a variety of other factors, we proposed an extended factor set consisting of four social</p>
<p>and five rational factors, namely: homophily by age $\left(F_{H A g e}\right)$, homophily by agricultural productivity $\left(F_{H A g r i}\right)$, social presence $\left(F_{S o c}\right)$, migration from current zone $\left(F_{M i g}\right)$, comparison of quality $\left(F_{Q u a l}\right)$, comparison of dryness $\left(F_{D r y}\right)$, comparison of yield $\left(F_{Y e i l d}\right)$, comparison of water availability $\left(F_{W a t e r}\right)$, and comparison of distance $\left(F_{D i s t}\right)$. Additionally, the numerical operators + and - are included in $F$, for the aggregation of sub-scores reported by the social/emotional and rational factors.</p>
<p>Four hypothesized configurations of social connectivity were included $F$. These configurations determined the subset of all viable farm plots that were to be considered by the households for comparison. 1) Full information $\left(S_{A l l}\right)$ : Households had complete knowledge of all potential farm plots in the valley. Full information was used by agents in the original version of the model, assuming that each household knew and compared every potential farm plot in the Long House Valley. 2) Family inherited information $\left(S_{F a m}\right)$ : Households solely depended on information available through their 'family'. Families are defined as a household's parent household, sibling households, any surviving grandparents, and the household itself. 3) Nearest-neighbor information $\left(S_{\text {Neigh }}\right)$ : agents only consider the farm plots known to their neighboring households within a fixed radius of their current location. 4) Best performers $S_{P e r f}$ : Households only consider potential farm plots known to the best performing households, demonstrating a leadership dynamic.</p>
<p>Four social/emotional factors were included in $F$ : two types of homophily (the tendency for social entities to congregate among those with similar traits), need for social presence, and one of fleeing/migration. Each social/emotional factor returned a sub-score representing the desirability of each evaluated farm plot. Sub-scores were normalized within the factors, to lie in the range of 0 to 1 , for fair comparison. 1) Homophily by age $\left(F_{H A g e}\right)$ : Households prefer to select farm plots near other households that are of similar age, where age is measured as the number of simulation steps the household has survived since splitting from its parent. 2) Homophily by agricultural productivity $\left(F_{H A g r i}\right)$ : Households tend to select farm plots near other households with a similar corn stock to itself. 3) Social presence $\left(F_{S o c}\right)$ : Agents score potential farm plots with many nearby households higher than those in isolation. 4) Fleeing/migration $\left(F_{M i g}\right)$ : Agents score potential farm plots that are in a completely different zone than the current one with a full sub-score, while patches in the same zone receive a sub-score of zero.</p>
<p>Five Rational factors considered for the farm selection process were logical comparisons of sensory data on the potential farm plots already available to the households in the original model. Similar to the social/emotional factors, rational factors also returned a normalized sub-score of farm plot desirability between 0 and 1. 1) Comparison of quality $\left(F_{Q u a l}\right)$ : Higher sub-scores were reported for potential farm plots with higher quality of land. 2) Comparison of dryness $\left(F_{D r y}\right)$ : Higher sub-scores were reported for potential farm plots with higher dryness of land. 3) Comparison of yield $\left(F_{Y e i l d}\right)$ : Higher sub-scores were reported for potential farm plots that were known to have higher yield in the previous year. 4) Water availability $\left(F_{W a t e r}\right)$ : Higher sub-scores were reported for potential farm plots with more nearby water sources. 5) Comparison of distance $\left(F_{D i s t}\right)$ : Higher sub-scores were reported for potential farm plots that were closer to the current farm plot location.</p>
<h1>Evolutionary model discovery</h1>
<p>Evolutionary model discovery allows agent-based modelers to explore the importance of a hypothesized set of factors affecting individual-level decision making towards a macro, society-level outcome. Accordingly, evolutionary model discovery requires the modeler to identify the particular agent behavior rule being evaluated within the original agent-based model. The modeler must also provide a set of hypothesized</p>
<p>factors and combining operators that the modeler hypothesizes to affect the decision-making process represented by the agent behavior rule.</p>
<p>A factor $F_{i} \in F$, where $F$ is the modeler's set of hypothetical factors and operators, is defined as in Eq (3). Where $C$ is the set of commands defined within $F$ that are applied on the $n$ number of input parameters $P$ to produce an output return value $R$, where the type of each parameter $t_{P_{j}}$ and the type of the return value $t_{R}$ are each an element of the set $T$ of all possible parameter and return types defined by the modeler. A factor is considered an operator if $C$ resembles an operation on one or more factors, which it accepts as parameters, rather than resembling a decision-making step. In order for a factor or operator $F_{i}$ to accept another $F_{j}$ as an input, the condition Eq (4) must be met.</p>
<p>$$
\begin{gathered}
F_{i}=\left(\begin{array}{lll}
C, R, P &amp; \mid &amp; t_{R}, t_{P_{k}} \in T \
\end{array} \quad \forall k=1 \ldots n\right) \
\exists k, t_{R_{f_{i}}}=t_{P_{f_{j}, k}}
\end{gathered}
$$</p>
<p>An agent behavior rule $b \in B$ is represented as a tree of factors combined under this condition. Depending on $T$ and the factor definitions, the space of behavior rules $B$ can be infinitely large. To prevent the construction of such undesirably large trees, we specify a maximum depth for all $b$. There must be at least one $F_{i}$ of which $t_{R_{F_{i}}}$ is the return type expected by the entire agent behavior rule.</p>
<p>Given the ABM and $F$, evolutionary model discovery performs two stages of analysis. First, models driven by alternate decision making processes consisting of combinations of elements of $F$ are evolved through genetic programming [10, 25, 26]. Genetic programming performs automated program implementation and is a suitable approach towards automating the rule discovery process [11-14]. Genetic programming evolves generations of programs through crossover and mutation operators performed on a representation consisting of primitives and terminals that combine to define program statements. Primitives are defined as a set of functions that encode program statements and may be strongly typed to only accept child and parent primitives that are compatible with the arguments and return statements accepted by its program statement. Primitives with no arguments are considered terminals. The syntax tree representation is perhaps the most common representation used in genetic programming, and arranges the primitives and terminals into a tree structure, a representation compatible with $b$. Programs in a generation that have a closer fit to data are more likely to be selected for reproduction through crossover and mutation to populate the next generation of programs.</p>
<p>Second, factor and factor interaction importance was assessed by random forest feature importance measurement. A random forest regressor was trained on the factor presence to fitness data produced by the genetic program. Random forests are an ensemble learning algorithm consisting of a forest of randomized decision trees [15-17]. The two most common factor importance measurement techniques for random forests are gini importance (or mean decrease in impurity), and permutation importance (or mean decrease in accuracy) [15-17]. However, both gini importance and permutation importance are unable to quantify the importance of factor interactions, as they consider the global importance each factor has for the random forest. Functional analysis of variance $[20,27]$ is able to quantify the importance of factor interactions, yet lacked precision considering the inherent heteroskedasticity of the data produced by the genetic program, caused by its tendency to explore and test models of higher fitness. Instead, joint contribution $[18,19]$ was used for this purpose as it has been successfully used to assess the importance of variable interactions in a large number of recent studies [28-34].</p>
<p>Twenty genetic programming runs were executed with the objective of minimizing the (RMSE) between the simulated household count to the actual household count over 550 simulation ticks of the Artificial Anasazi. Details on the RMSE calculation can be found in [14]. In order to ensure robustness of the evolved rules, the parameters of the ABM were randomly initialized with values $\pm 5 \%$ about the optimal parameter values found through Stonedahl's calibration of the Artificial Anazasi through a genetic algorithm [5] (ie: water source distance $=(10.925,12.075)$, death age span $=$ $(9.5,10.5)$, min fertility $=(0.1615,0.1785)$, base nutrition need $=(175.75,194.25)$, fertility span $=(0.0285,0.0315)$, min fertility ends age $=(27.55,30.45)$, harvest variance $=(0.418,0.462)$, harvest adjustment $=(0.608,0.672)$, maize gift to child $=$ $(0.4465,0.4935)$, min death age $=(38.0,42.0)$, fertility ends age span $=(4.75,5.25))$. The genetic program was implemented with the Distributed Evolutionary Algorithms in Python library (DEAP) [35] and parallelized by SCOOP [36]. Each genetic program run was executed for 100 generations over populations of 50 individuals. Syntax trees of minimum depth 4 and maximum depth 10 were used to avoid trees exhibiting bloat. The Half-and-Half tree builder was used for initialization [10]. To accommodate the high computational cost, the genetic program runs were distributed across a 48 vcpu Amazon Web Services EC2 instance. The random forest and gini importance algorithm of Scikit-learn [37] were used, while ELI5 [38] was used for permutation accuracy importance, and tree interpreter [19] for joint contribution measurement.</p>
<p>Finally, new farm selection strategies were designed taking into account the insights gained through evolutionary model discovery. The robustness of the Artificial Anasazi with these new strategies were tested against the original model by comparing the RMSE of 100 runs of each model under randomized initialization of parameters within the ranges above.</p>
<h1>Results</h1>
<p>The resulting best farm selection strategies evolved by the genetic program by run are provided in Table 1 along with their respective RMSE values. 15 of the runs produced RMSE values lower than the current best RMSE in the literature obtained through parameter calibration of the Artificial Anasazi model with the original farm plot selection by closeness (733.6) [39]. All best scoring rules for each run utilized $S_{A l l}$, i.e., the model produced best results when the agents had full information regarding available farm plots as shown in Fig. 1, comparing $S_{A l l}, S_{F a m}, S_{\text {Neigh }}$, and $S_{P e r f}$ over the complete factor presence to fitness data. One-tailed Mann-Whitney U tests comparing the fitness of all rules by their social connectivity configurations confirmed that rules with $S_{A l l}$ had significantly $(\alpha=0.05)$ lower RMSE than the other three configurations: $\operatorname{argmax}<em A="A" l="l">{x \in S</em>}} f(x)&lt;\operatorname{argmax<em F="F" a="a" m="m">{x \in S</em>}} f(x)\left(p=2.045 \times 10^{-113}\right)$, $\operatorname{argmax<em A="A" l="l">{x \in S</em>}} f(x)&lt;\operatorname{argmax<em _Neigh="{Neigh" _text="\text">{x \in S</em>}}} f(x)\left(p=4.856 \times 10^{-154}\right)$, $\operatorname{argmax<em A="A" l="l">{x \in S</em>}} f(x)&lt;\operatorname{argmax<em P="P" e="e" f="f" r="r">{x \in S</em>}} f(x)\left(p=1.983 \times 10^{-57}\right)$. Also, rules with $S_{\text {Neigh }}$ were shown to have significantly (alpha $=0.05$ ) lower RMSE than those with $S_{F a m}$ and $S_{\text {Perf }}: \operatorname{argmax<em _Neigh="{Neigh" _text="\text">{x \in S</em>}}} f(x)&lt;\operatorname{argmax<em F="F" a="a" m="m">{x \in S</em>}} f(x)\left(p=3.535 \times 10^{-14}\right)$, $\operatorname{argmax<em _Neigh="{Neigh" _text="\text">{x \in S</em>}}} f(x)&lt;\operatorname{argmax<em _Perf="{Perf" _text="\text">{x \in S</em>}}} f(x)\left(p=2.339^{-24}\right)$. Finally, rules with $S_{F a m}$ were shown to have significantly (alpha $=0.05$ ) lower RMSE than rules with $S_{P e r f}$ : $\operatorname{argmax<em F="F" a="a" m="m">{x \in S</em>}} f(x)&lt;\operatorname{argmax<em P="P" e="e" f="f" r="r">{x \in S</em>$.}} f(x)(p=0.012)$. Accordingly, the rest of the analyses detailed in this paper were performed on rules where the social connectivity configuration was $S_{A l l</p>
<p>Fig. 2 displays the distribution of RMSE against factor presence, for presence values that were recorded in at least 200 rules across the 20 genetic program runs. Negative correlations to RMSE (higher fitness) are seen between $F_{\text {Dist }}, F_{\text {Qual }}, F_{\text {Water }}$, $F_{\text {Yield }}, F_{\text {Mig }}, F_{\text {Soc }}$, and $F_{\text {Age }}$, and in general the genetic program favored the positive</p>
<p><img alt="img-0.jpeg" src="img-0.jpeg" /></p>
<p>Fig 1. Best fit to data was obtained under $\mathbf{S}<em A="A" l="l">{\text {All }}$. Comparison of the RMSE produced by the Artificial Anasazi model when agents had full information $\left(S</em>}\right)$, information through family households ( $S_{F a m}$ ), information through the households with most agricultural success $\left(S_{P e r f}\right)$, or information through neighboring households $\left(S_{\text {Neigh }}\right)$. Models that used $S_{\text {All }}$ produced the lowest RMSE overall $\operatorname{argmax<em _All="{All" _text="\text">{x \in S</em>}}} f(x)&lt;\operatorname{argmax<em _Fam="{Fam" _text="\text">{x \in S</em>}}} f(x)\left(p=2.045 \times 10^{-113}\right)$, $\operatorname{argmax<em _All="{All" _text="\text">{x \in S</em>}}} f(x)&lt;\operatorname{argmax<em _Neigh="{Neigh" _text="\text">{x \in S</em>}}} f(x)\left(p=4.856 \times 10^{-154}\right)$, $\operatorname{argmax<em _All="{All" _text="\text">{x \in S</em>}}} f(x)&lt;\operatorname{argmax<em _Perf="{Perf" _text="\text">{x \in S</em>\right)$.
presence of these factors, and evolved more rules with these factors having a positive effect on farm selection. $F_{\text {Dry }}$ on the other hand had a negative correlation to RMSE for presence less than 2 .
}}} f(x)\left(p=1.983 \times 10^{-57<img alt="img-1.jpeg" src="img-1.jpeg" /></p>
<p>Fig 2. RMSE vs Factor Presence under $\mathbf{S}<em _All="{All" _text="\text">{\text {All }}$. RMSE distributions by factor presence produced by evolutionary model discovery of the farm selection strategy of the Artificial Anasazi under $S</em>$ shows a positive correlation.}}$. Only presence values that appeared at least 200 times in the genetic program are displayed. Most factors display negative correlations to RMSE, while $F_{\text {Dry }</p>
<p>The random forest fit the factor presence to fitness data best for a forest of 520</p>
<p>Table 1. The candidate farm selection strategies of models produced by the evolutionary model discovery process along with their best fitness as reported by the genetic programming search.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">GP Run</th>
<th style="text-align: center;">Best scoring rule</th>
<th style="text-align: center;">Best Fitness</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">0</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(F_{M i g}(x)\right)$</td>
<td style="text-align: center;">753.430820</td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(-F_{\text {Dist }}(x)-F_{\text {Dry }}(x)+2 * F_{\text {Mig }}(x)\right)$</td>
<td style="text-align: center;">755.270812</td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(F_{Y i e l d}(x)+F_{H A g r i}(x)\right)$</td>
<td style="text-align: center;">709.502643</td>
</tr>
<tr>
<td style="text-align: center;">3</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(F_{M i g}(x)-F_{H A g r i}(x)\right)$</td>
<td style="text-align: center;">738.949931</td>
</tr>
<tr>
<td style="text-align: center;">4</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(F_{M i g}(x)\right)$</td>
<td style="text-align: center;">730.475188</td>
</tr>
<tr>
<td style="text-align: center;">5</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(F_{\text {Dist }}(x)\right)$</td>
<td style="text-align: center;">752.519767</td>
</tr>
<tr>
<td style="text-align: center;">6</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(F_{\text {Dist }}(x)\right)$</td>
<td style="text-align: center;">728.293210</td>
</tr>
<tr>
<td style="text-align: center;">7</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(F_{Y i e l d}(x)\right)$</td>
<td style="text-align: center;">714.205153</td>
</tr>
<tr>
<td style="text-align: center;">8</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(F_{\text {Dist }}(x)-F_{\text {Dry }}(x)\right)$</td>
<td style="text-align: center;">734.249957</td>
</tr>
<tr>
<td style="text-align: center;">9</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(4 * F_{\text {Dist }}(x)+F_{\text {Dry }}(x)+F_{\text {Qual }}(x)+F_{\text {Water }}(x)+F_{\text {Soc }}(x)+F_{\text {HAge }}(x)\right)$</td>
<td style="text-align: center;">701.208243</td>
</tr>
<tr>
<td style="text-align: center;">10</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(F_{\text {Dist }}(x)+F_{\text {Qual }}(x)+F_{\text {Water }}(x)-F_{\text {Yield }}(x)+F_{\text {Mig }}(x)+F_{\text {Soc }}(x)\right)$</td>
<td style="text-align: center;">720.281195</td>
</tr>
<tr>
<td style="text-align: center;">11</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(F_{\text {Mig }}(x)\right)$</td>
<td style="text-align: center;">723.633194</td>
</tr>
<tr>
<td style="text-align: center;">12</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(F_{\text {Dist }}(x)+F_{\text {Qual }}(x)+2 * F_{\text {Yield }}(x)+2 * F_{\text {Mig }}(x)+F_{\text {Soc }}(x)+F_{\text {HAgri }}(x)\right)$</td>
<td style="text-align: center;">687.122260</td>
</tr>
<tr>
<td style="text-align: center;">13</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(F_{\text {Dist }}(x)+F_{\text {Soc }}(x)\right)$</td>
<td style="text-align: center;">732.189183</td>
</tr>
<tr>
<td style="text-align: center;">14</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(F_{\text {Qual }}(x)\right)$</td>
<td style="text-align: center;">728.772255</td>
</tr>
<tr>
<td style="text-align: center;">15</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(F_{\text {Qual }}(x)\right)$</td>
<td style="text-align: center;">706.282521</td>
</tr>
<tr>
<td style="text-align: center;">16</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(F_{\text {Dist }}(x)+2 * F_{\text {Qual }}(x)+F_{\text {Yield }}(x)+F_{\text {Soc }}(x)+3 * F_{\text {HAge }}(x)\right)$</td>
<td style="text-align: center;">715.957401</td>
</tr>
<tr>
<td style="text-align: center;">17</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(F_{\text {Mig }}(x)\right)$</td>
<td style="text-align: center;">715.468378</td>
</tr>
<tr>
<td style="text-align: center;">18</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(-F_{\text {Dist }}(x)+F_{\text {Soc }}(x)-F_{\text {HAgri }}(x)\right)$</td>
<td style="text-align: center;">701.438522</td>
</tr>
<tr>
<td style="text-align: center;">19</td>
<td style="text-align: center;">$\underset{\sigma \in S_{A l l}}{\operatorname{argmax}}\left(F_{\text {Qual }}(x)+F_{\text {Mig }}(x)+F_{\text {Soc }}(x)\right)$</td>
<td style="text-align: center;">701.300934</td>
</tr>
</tbody>
</table>
<p>regression trees, testing from 10 to 1000 trees with a train/test split $90 \%-10 \%$. Accordingly, a forest of 520 trees was used for factor importance determination. Factor importance under $S_{A l l}$ obtained through both the gini importance and permutation accuracy importance techniques can be seen in Fig. 3. Gini importance generally had less precise estimations than permutation accuracy importance. Yet both techniques indicated $F_{\text {Qual }}$ as the factor of highest importance towards RMSE prediction. $F_{\text {Soc }}$, $F_{\text {Mig }}$, and $F_{\text {Dist }}$ also scored higher importance values than the other factors hypothesized. Fig. 4 displays the p-values of one-tailed Mann Whitney U tests (alpha $=0.05$ ), comparing the permutation importance of each factor $A$ against every other factor $B$, testing the alternate hypothesis: importance of $A \downarrow$ importance of $B$. According to the results, 7 of the 9 factors showed significant difference and could be ordered in terms of permutation accuracy importance as $F_{\text {Qual }}, F_{\text {Soc }}, F_{\text {Dist }}, F_{\text {Mig }}$, $F_{\text {Water }}, F_{\text {Yield }}, F_{\text {HAgri }}, F_{\text {HAge }}$, and $F_{\text {Dry }}$.</p>
<p>Fig. 5 compares the top ten joint contributions towards RMSE prediction of the random forest by individual factors, and joint contributions of factors considered in</p>
<p><img alt="img-2.jpeg" src="img-2.jpeg" /></p>
<p>Fig 3. $F_{\text {Qual }}, F_{\text {Soc }}, F_{\text {Dist }}$, and $F_{\text {Mig }}$ have highest Gini and Permutation Accuracy Importance. Gini importance and permutation accuracy importance of the hypothesized factors towards a random forest's ability to predict the models' RMSE. Gini importance results are less decisive than permutation accuracy importance. Both techniques agree that $F_{\text {Qual }}, F_{\text {Soc }}, F_{\text {Dist }}$, and $F_{\text {Mig }}$ are the most important factors.
<img alt="img-3.jpeg" src="img-3.jpeg" /></p>
<p>Fig 4. Statistical confirmation of the existence of order by importance among causal factors. Results from systematic Mann-Whitney U tests on the permutation accuracy importance results. The cells contain p-values for the alternate hypothesis that $A&gt;B$ (null hypothesis $A=B$ ). Green cells indicate agreement of the alternate hypothesis. The results indicate a clear ordering of the factors by importance.
pairs and triples. Again, $F_{\text {Qual }}$ demonstrates far higher importance than any other factor or factor interaction. The factor pairs $\left(F_{\text {Qual }}, F_{\text {Mig }}\right)$ and $\left(F_{\text {Qual }}, F_{\text {Soc }}\right)$ also demonstrate high importance, followed by $\left(F_{\text {Qual }}, F_{\text {Mig }}, F_{\text {Soc }}\right),\left(F_{\text {Dry }}, F_{\text {Qual }}, F_{\text {Mig }}\right)$, and $\left(F_{\text {Dist }}, F_{\text {Qual }}, F_{\text {Soc }}\right)$. Overall, $F_{Q}$ ual is present in all highest scoring joint contributions. Despite $F_{\text {Dry }}$ having very low individual importance, $F_{\text {Dry }}$ showed higher importance when considered in combination with $F_{\text {Qual }}$ and $F_{\text {Mig }}$.</p>
<p><img alt="img-4.jpeg" src="img-4.jpeg" /></p>
<p>Fig 5. $\mathbf{F}<em _Qual="{Qual" _text="\text">{\text {Qual }},\left[\mathbf{F}</em>}}, \mathbf{F<em _Qual="{Qual" _text="\text">{\text {Mig }}\right]$, and $\left[\mathbf{F}</em>}} \mathbf{F<em A="A" l="l">{\text {Soc }}\right]$ have highest joint contribution to farm plot selection. Ordered barchart of highest normalized joint contribution scores of factors and interactions of three or less under $S</em>\right]$ also demonstrate high joint contribution.}$. Again, $F_{Q u a l}$ shows a far larger contribution to the random forest's ability to predict model RMSE than other factors and factor interactions, and is present in all of the highest contributing interactions. Interactions $\left[F_{Q u a l}, F_{M i g}\right]$ and $\left[F_{Q u a l}, F_{S o c</p>
<p>Considering the evidence of $F_{Q u a l}, F_{S o c}, F_{M i g}, F_{D i s t}$, and $F_{D r y}$ as important factors, Fig. 6 demonstrates Mann Whitney U tests conducted for each factor $F_{i}$, for the alternate hypothesis that RMSE when presence of $F_{i}$ was $A$, is less than the RMSE when presence of $F_{i}$ was $B$ in rules with $S_{A l l}$. Models with positive presence of $F_{Q u a l}, F_{S o c}, F_{D i s t}$, and $F_{M i g}$ showed significantly higher fitness (with the exception of when presence of $F_{M i g}=-2$ ). Models with strong positive or negative presence of $F_{D r y}$ showed lower RMSE overall, most likely a result of $F_{D r y}$ 's interaction with $F_{Q u a l}, F_{S o c}$, or $F_{M i g}$. The lowest median RMSE for $\left(F_{Q u a l}, F_{S o c}\right)$ was 985 at presence of $F_{S o c}$ at 5 and presence of $F_{Q u a l}$ at; the lowest median RMSE for $\left(F_{Q u a l}, F_{M i g}\right)$ was 997 at presence of $F_{M i g}$ at 3 and presence of $F_{Q u a l}$ at 5 .</p>
<p>Finally, rules following the three highest joint contributions were constructed using the best values for each factor concerned: $\operatorname{argmax}<em A="A" l="l">{x \in S</em>}}\left(F_{Q u a l}(x)\right)$, $\operatorname{argmax<em A="A" l="l">{x \in S</em>}}\left(5 F_{S o c}(x)+6 F_{Q u a l}(x)\right)$, and $\operatorname{argmax<em A="A" l="l">{x \in S</em>}}\left(3 F_{M i g}(x)+5 F_{Q u a l}(x)\right)$, and RMSE was compared against the original farm selection strategy $\operatorname{argmax<em A="A" l="l">{x \in S</em>(x)\right)$ for 100 runs each under random initialization of parameters within the ranges specified in section . Fig. 7 shows that all three of these rules derived through evolutionary model discovery have significantly lower RMSE than that of the original farm selection strategy under randomized parameter initialization.}}\left(-F_{D i s t</p>
<h1>Discussion and Conclusion</h1>
<p>Despite being an excellent tool for the construction and analysis of human-interpretable explanations of social phenomena, ABMs risk premature assumptions when modeling individuals' decision-making processes. Parameter calibration alone cannot adequately explore the causal factors and their possible interactions in order to infer more accurate decision-making processes. This is primarily due to the absence of a systematic method for behavior inference and discovery. We address this issue with the introduction of evolutionary model discovery, which is able to distinguish, out of a hypothesized set, the causal factors that are important to simulate the behavior of interest. By combining automated program generation of genetic programming with feature importance evaluation of random forests, evolutionary model discovery is able to quantify the importance of these factors</p>
<p><img alt="img-5.jpeg" src="img-5.jpeg" /></p>
<p>Fig 6. Optimal presence scores for causal factors with highest importance. Results from systematic one-tailed Mann-Whitney U tests between presence values of the 5 most important factors for the alternate hypothesis:
RMSE for presence $A&lt;$ RMSE for presence $B$ (null hypothesis:
RMSE for presence $A=$ RMSE for presence $B$ ) for $\alpha=0.05$. Green cells indicate agreement of the alternate hypothesis. Results indicate that for $F_{\text {Qual }}, F_{\text {Soc }}, F_{\text {Mig }}$, and $F_{\text {Dist }}$ RMSE is generally lower for higher, positive presence. For $F_{\text {Dry }}$, both negative and higher positive presence may provide low RMSE scores.
<img alt="img-6.jpeg" src="img-6.jpeg" /></p>
<p>Fig 7. Models designed through evolutionary model discovery insights are significantly more robust. Comparison between the RMSE of 100 runs of three models with farm selection strategies designed taking into consideration the insights from evolutionary model discovery, 1) $\operatorname{argmax}<em _Aii="{Aii" _text="\text">{x \in S</em>}}}\left(F_{\text {Qual }}(x)\right), 2$ ) $\operatorname{argmax<em _Aii="{Aii" _text="\text">{x \in S</em>}}}\left(5 F_{\text {Soc }}(x)+6 F_{\text {Qual }}(x)\right)$, and 3) $\operatorname{argmax<em _Aii="{Aii" _text="\text">{x \in S</em>}}}\left(3 F_{\text {Mig }}(x)+5 F_{\text {Qual }}(x)\right)$, against 100 runs of the original farm selection strategy $\operatorname{argmax<em _Aii="{Aii" _text="\text">{x \in S</em>(x)\right)$ in $[22-24,39]$, under random initialization of parameters. The three farm selection strategies derived from evolutionary model discovery are far more robust under random parameter initialization and show significantly better RMSE scores compared to the original model.
to the decision-making process that result in society-level phenomena simulated by the ABM. This allows for the construction of agent rules that more accurately represent the actual decision-making process of individuals and result in more robust models.}}}\left(-F_{\text {Dist }</p>
<p>Applying evolutionary model discovery on the Artificial Anasazi we show that the socio-agricultural behavior of the ancestral Pueblo of the Long House Valley was more deliberative and informed than originally assumed. Our results indicate that, contrary to the original farm selection behavior, where households would select the next closest possible plot of land once their present farm was depleted, the households most likely selected potential farming land with higher soil quality $\left(F_{\text {Qual }}\right)$. Further, it was highly likely that the households had good knowledge of the potential arable land throughout the valley, since $S_{\text {All }}$ was the best social connectivity configuration for information spread. Also, the desire to congregate into communities was indicated, as positive desire for social presence $\left(F_{\text {Soc }}\right)$ was the second most important factor, and acting on information on arable land known to neighboring households ( $S_{\text {Neigh }}$ ) was the second most successful social connectivity configuration. Further, instead of choosing closer potential farm plots $\left(-F_{\text {Dist }}\right)$, choosing farm plots that were further away from the households current farm plot $\left(F_{\text {Dist }}\right)$ or moving to a completely different zone in the region $\left(F_{\text {Mig }}\right)$ was found to be a more likely behavior. Finally, versions of the Artificial Anasazi where farm plot selection was driven by seeking higher quality land, higher quality land with more social presence, and higher quality land in different zones, all proved to be significantly more robust than the decision to move to the next closest available plot of land (Fig. 7).</p>
<h1>Supporting information</h1>
<p>S1 File. EvolutionaryModelDiscoveryArtificialAnasazi.zip This archive contains the Evolutionary Model Discovery Python source code. This Python package is also being actively maintained at:
https://github.com/chathika/evolutionarymodeldiscovery and documentation is available at https://evolutionarymodeldiscovery.readthedocs.io/en/latest/. NetLogo models of the Artificial Anasazi with the best .</p>
<p>S1 Table. FactorScores.csv Factor presence to model fitness data produced by the 20 genetic programming runs on the Artificial Anasazi.</p>
<h2>Acknowledgments</h2>
<p>This research was supported by DARPA SocialSim program HR001117S0018 and Amazon AWS Research Grant.</p>
<h2>References</h2>
<ol>
<li>Epstein JM. Agent Zero: Toward Neurocognitive Foundations for Generative Social Science. Princeton, NJ: Princeton University Press; 2013.</li>
<li>Epstein JM. Agent-based computational models and generative social science. Complexity. 1999;4(5): 41-60.</li>
<li>Grimm V, Revilla E, Berger U, Jeltsch F, Mooij WM, Railsback SF, et al. Pattern-oriented modeling of agent-based complex systems: lessons from ecology. Science. 2005;310(5750): 987-991.</li>
<li>
<p>Grüne-Yanoff T. The explanatory potential of artificial societies. Synthese. 2009;169(3): 539-555.</p>
</li>
<li>
<p>Stonedahl F, Wilensky U. BehaviorSearch [computer software]. Center for Connected Learning and Computer Based Modeling, Northwestern University, Evanston, IL Available online: http://www.behaviorsearch.org. 2010.</p>
</li>
<li>Wilensky U. NetLogo [computer software]. Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL. Available online: http://ccl.northwestern.edu/netlogo/. 1999.</li>
<li>Laguna M, Marti R. The OptQuest callable library. Optimization software class libraries. Springer; 2003. pp. 193-218.</li>
<li>Borshchev A. The big book of simulation modeling: multimethod modeling with AnyLogic 6. AnyLogic North America Chicago; 2013.</li>
<li>DeDeo S, Krakauer DC, Flack JC. Inductive game theory and the dynamics of animal conflict. PLoS computational biology. 2010;6(5): e1000782.</li>
<li>Koza JR. Genetic programming: on the programming of computers by means of natural selection. vol. 1. MIT press; 1992.</li>
<li>Manson SM. Agent-based modeling and genetic programming for modeling land change in the Southern Yucatan Peninsular Region of Mexico. Agriculture, ecosystems \&amp; environment. 2005;111(1): 47-62.</li>
<li>Manson SM. Bounded rationality in agent-based models: experiments with evolutionary programs. International Journal of Geographical Information Science. 2006;20(9): 991-1012.</li>
<li>Zhong J, Luo L, Cai W, Lees M. Automatic rule identification for agent-based crowd models through gene expression programming. In: Proceedings of the 2014 international conference on Autonomous agents and multi-agent systems. International Foundation for Autonomous Agents and Multi-agent Systems; 2014. pp. 1125-1132.</li>
<li>Gunaratne C, Garibay I. Alternate social theory discovery using genetic programming: towards better understanding the artificial anasazi. In: Proceedings of the Genetic and Evolutionary Computation Conference. ACM; 2017. pp. 115-122.</li>
<li>Breiman L. Manual on setting up, using, and understanding random forests v3. 1. Statistics Department University of California Berkeley, CA, USA. 2002;1.</li>
<li>Genuer R, Poggi JM, Tuleau-Malot C. Variable selection using random forests. Pattern Recognition Letters. 2010;31(14): 2225-2236.</li>
<li>Louppe G. Understanding Random Forests: From Theory to Practice. Ph.D. Thesis, The Université de Liège, Liège, Belgique; 2014.</li>
<li>Saabas A. Interpreting random forests. In: Diving into data, 24 [Internet] Available online:
https://blog.datadive.net/interpreting-random-forests/. 2014.</li>
<li>Saabas A. Treeinterpreter [computer software]. Available online: https://github.com/andosa/treeinterpreter. 2019.</li>
<li>
<p>Hutter F, Hoos H, Leyton-Brown K. An efficient approach for assessing hyperparameter importance. In: International Conference on Machine Learning; 2014. p. 754-762.</p>
</li>
<li>
<p>Stratton RJ. Automated theory selection using agent based models. Ph.D. Thesis, King's College London, UK; 2015.</p>
</li>
<li>Dean JS, Gumerman GJ, Epstein JM, Axtell RL, Swedlund AC, Parker MT, et al. Understanding Anasazi culture change through agent-based modeling. Dynamics in human and primate societies: Agent-based modeling of social and spatial processes. 2000;pp. 179-205.</li>
<li>Janssen M A. Understanding artificial anasazi. Journal of Artificial Societies and Social Simulation. 2009;12(4): 13</li>
<li>Stonedahl F, Wilensky U. Artificial Anasazi model [computer software] Available from:
http://ccl.northwestern.edu/netlogo/models/ArtificialAnasazi. 2010.</li>
<li>Langdon WB, Harman M. Optimizing existing software with genetic programming. IEEE Transactions on Evolutionary Computation. 2014;19(1): $118-135$.</li>
<li>Petke J, Haraldsson SO, Harman M, Langdon WB, White DR, Woodward JR. Genetic improvement of software: a comprehensive survey. IEEE Transactions on Evolutionary Computation. 2017;22(3): 415-432. f</li>
<li>Dang N, De Causmaecker P. Analysis of algorithm components and parameters: some case studies. In: International Conference on Learning and Intelligent Optimization. Springer. 2018; pp. 288-303 2018;.</li>
<li>Lundberg SM, Erion GG, Lee SI. Consistent individualized feature attribution for tree ensembles. arXiv preprint arXiv:180203888. 2018;.</li>
<li>Smith EM, Nantes A, Hogue A, Papas I. Forecasting customer behaviour in constrained E-commerce platforms. In: 8th International Conference of Pattern Recognition Systems (ICPRS 2017). IET; 2017. pp. 1-8.</li>
<li>Beillevaire M. Inside the Black Box: How to Explain Individual Predictions of a Machine Learning Model : How to automatically generate insights on predictive model outputs, and gain a better understanding on how the model predicts each individual data point. KTH, School of Electrical Engineering and Computer Science (EECS); 2018.</li>
<li>Rea C, Erickson K, Granetz R, Johnson R, Eidietis N, Montes K, et al. Initial Results of a Machine Learning-based Real Time Disruption Predictor on DIII-D. In: Proc. 45th EPS Conf. on Plasma Physics, Europhysics Conf. Abstracts. vol. 42; 2018.</li>
<li>Granetz R, Rea C, Montes K, Tinguely R, Eidietis N, Meneghini O, et al. Machine learning for disruption warning on ALCATOR C-MOD, DIII-D, and EAST tokamaks. In: Proc. 27th IAEA Fusion Energy Conference, IAEA, Vienna; 2018.</li>
<li>Morice-Atkinson X, Hoyle B, Bacon D. Learning from the machine: interpreting machine learning algorithms for point-and extended-source classification. Monthly Notices of the Royal Astronomical Society. 2018;481(3): $4194-4205$.</li>
<li>
<p>Bastrakova E. Improving interpretability of complex predictive models. Universitat Politècnica de Catalunya; 2017.</p>
</li>
<li>
<p>Fortin FA, De Rainville FM, Gardner MA, Parizeau M, Gagné C. DEAP: Evolutionary Algorithms Made Easy. Journal of Machine Learning Research. 2012;13: 2171-2175.</p>
</li>
<li>Hold-Geoffroy Y, Gagnon O, Parizeau M. Once you SCOOP, no need to fork. In: Proceedings of the 2014 Annual Conference on Extreme Science and Engineering Discovery Environment. ACM; 2014. p. 60.</li>
<li>Pedregosa F, Varoquaux G, Gramfort A, Michel V, Thirion B, Grisel O, et al. Scikit-learn: Machine Learning in Python. Journal of Machine Learning Research. 2011;12: 2825-2830.</li>
<li>Korobov M, Lopuhin K. Permutation Importance; Available from: https://eli5.readthedocs.io/en/latest/blackbox/permutation_importance.htm 2019.</li>
<li>Stonedahl F, Wilensky U. Evolutionary Robustness Checking in the Artificial Anasazi Model. In: AAAI Fall Symposium: Complex Adaptive Systems; 2010. pp. 120-129.</li>
</ol>            </div>
        </div>

    </div>
</body>
</html>