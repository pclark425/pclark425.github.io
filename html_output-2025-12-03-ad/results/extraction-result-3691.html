<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extraction extraction-result-3691 - Theorizer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <div class="header">
        <a href="../index.html"><i class="fas fa-flask"></i> Theorizer</a>
    </div>

    <div class="content">
        <h1>Extracted Data Details for extraction-result-3691</h1>

        <div class="section">
            <h2>Extracted Data (Header)</h2>
            <div class="info-section">
                <p><strong>Extraction ID:</strong> extraction-result-3691</p>
                <p><strong>Extraction Schema Used (ID):</strong> <a href="../schemas/extraction-schema-91.html">extraction-schema-91</a></p>
                <div class="extraction-query"><strong>Extraction Query:</strong> Extract any mentions of methods, systems, or studies that use large language models (LLMs) to distill theories or synthesize knowledge from large collections of scholarly papers, including details about the method, input corpus, topic/query specification, output, evaluation, results, and limitations.</div>
                <p><strong>Paper ID:</strong> paper-7e55d8701785818776323b4147cb13354c820469</p>
                <p><strong>Paper Title:</strong> <a href="https://www.semanticscholar.org/paper/7e55d8701785818776323b4147cb13354c820469" target="_blank">PaperQA: Retrieval-Augmented Generative Agent for Scientific Research</a></p>
                <p><strong>Paper Venue:</strong> arXiv.org</p>
                <p><strong>Paper TL;DR:</strong> PaperQA is an agent that performs information retrieval across full-text scientific articles, assesses the relevance of sources and passages, and uses RAG to provide answers, and exceeds performance of existing LLMs and LLM agents on current science QA benchmarks.</p>
                <p><strong>Paper Abstract:</strong> Large Language Models (LLMs) generalize well across language tasks, but suffer from hallucinations and uninterpretability, making it difficult to assess their accuracy without ground-truth. Retrieval-Augmented Generation (RAG) models have been proposed to reduce hallucinations and provide provenance for how an answer was generated. Applying such models to the scientific literature may enable large-scale, systematic processing of scientific knowledge. We present PaperQA, a RAG agent for answering questions over the scientific literature. PaperQA is an agent that performs information retrieval across full-text scientific articles, assesses the relevance of sources and passages, and uses RAG to provide answers. Viewing this agent as a question answering model, we find it exceeds performance of existing LLMs and LLM agents on current science QA benchmarks. To push the field closer to how humans perform research on scientific literature, we also introduce LitQA, a more complex benchmark that requires retrieval and synthesis of information from full-text scientific papers across the literature. Finally, we demonstrate PaperQA's matches expert human researchers on LitQA.</p>
                <p><strong>Cost:</strong> 0.019</p>
            </div>
        </div>

        <div class="section">
            <h2>Extracted Data (Details)</h2>
            <div class="extraction-instance-container" id="e3691.0">
                <h3 class="extraction-instance">Extracted Data Instance 0 (e3691.0)</h3>
                <div class="extraction-query"><strong>Extraction Query:</strong> Extract any mentions of methods, systems, or studies that use large language models (LLMs) to distill theories or synthesize knowledge from large collections of scholarly papers, including details about the method, input corpus, topic/query specification, output, evaluation, results, and limitations.</div>
                <table>
                    <thead>
                        <tr>
                            <th style="width: 30%;">Field</th>
                            <th style="width: 70%;">Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>name_short</strong></td>
                            <td>PaperQA</td>
                        </tr>
                        <tr>
                            <td><strong>name_full</strong></td>
                            <td>PaperQA: Retrieval-Augmented Generative Agent for Scientific Research</td>
                        </tr>
                        <tr>
                            <td><strong>brief_description</strong></td>
                            <td>An agent-based Retrieval-Augmented Generation (RAG) system that finds relevant full-text scientific papers, extracts and summarizes evidence with LLMs, and synthesizes answers with cited sources; designed to iteratively call search/gather/answer tools and to reduce hallucinations via provenance and LLM relevance scoring.</td>
                        </tr>
                        <tr>
                            <td><strong>citation_title</strong></td>
                            <td>here</td>
                        </tr>
                        <tr>
                            <td><strong>mention_or_use</strong></td>
                            <td>use</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_name</strong></td>
                            <td>PaperQA</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_description</strong></td>
                            <td>An agent that decomposes RAG into tools (search, gather_evidence, answer_question) orchestrated by an LLM agent. It uses a map (summarize + score) then reduce (synthesize answer) pipeline, LLM-generated relevance scores in addition to vector distances, iterative tool calls (search/gather/answer loops), and a priori/a posteriori prompting to leverage parametric knowledge while grounding answers in retrieved full-text evidence.</td>
                        </tr>
                        <tr>
                            <td><strong>input_corpus_description</strong></td>
                            <td>Full-text scientific articles accessed via online indices/APIs (ArXiv, PubMed/PMC, Google Scholar results, OpenAccess, local database). Papers are chunked into overlapping ~4,000 character blocks, embedded with text-embedding-ada-002, and stored in a vector DB; experiments used up to top-5 Google Scholar results per query and considered up to 20 chunks per gather step (final answer used up to 8 evidence chunks).</td>
                        </tr>
                        <tr>
                            <td><strong>topic_or_query_specification</strong></td>
                            <td>Natural language question prompts (including multiple-choice options for LitQA and benchmark prompts). The agent may rephrase or break the question into subqueries and supplies keyword strings to the search tool (optionally with year ranges).</td>
                        </tr>
                        <tr>
                            <td><strong>distillation_method</strong></td>
                            <td>Retrieval-augmented generation with an agent controller: iterative RAG calls, map-reduce summarization (summary LLM summarizes each chunk into evidence and scores relevance 1--10), maximal marginal relevance retrieval for diversity, LLM relevance-ranking (score-based re-ranking), and final answer synthesis by an answer LLM that cites supporting chunks; also includes an 'ask LLM' step to surface latent parametric knowledge before final synthesis.</td>
                        </tr>
                        <tr>
                            <td><strong>output_type_and_format</strong></td>
                            <td>Scholarly-tone answers with inline citations (paper citations appended to sentences), evidence summaries (context library of top-k chunks), and an uncertainty response ('I cannot answer' if insufficient); outputs include final answer text and provenance (citations + summarized evidence).</td>
                        </tr>
                        <tr>
                            <td><strong>evaluation_or_validation_method</strong></td>
                            <td>Automatic evaluation on new LitQA benchmark (50 expert-authored multiple-choice biomedical questions from papers published after Sep 2021), comparisons to humans (5 biomedical researchers with internet access, timed), comparisons to pre-trained LLMs (GPT-4, Claude-2), AutoGPT agent, and commercial literature tools (Elicit, Scite_, Perplexity), ablation studies, hallucination analysis of citations (manual verification), and evaluations on standard QA benchmarks (PubMedQA_blind, MedQA-USMLE, BioASQ).</td>
                        </tr>
                        <tr>
                            <td><strong>results_summary</strong></td>
                            <td>On LitQA PaperQA achieved ~69.5% accuracy and precision ~87.9%, comparable to human experts (human accuracy ~66.8%, precision ~87.9%). On PubMedQA_blind PaperQA achieved 86.3% (substantially outperforming GPT-4 alone at 57.9%). PaperQA produced zero observed hallucinated citations in manual checks (237 citations evaluated). Cost per question estimated at ~$0.18 (based on token usage and model prices in Sept 2023).</td>
                        </tr>
                        <tr>
                            <td><strong>limitations_or_challenges</strong></td>
                            <td>Relies on correctness of retrieved papers (no intrinsic paper quality verification beyond meta signals like journal/citation count), vulnerable to search/access/ parsing failures (PDF parsing failure rate discussed), dependent on prompt engineering (multiple prompts across components not guaranteed optimal), susceptible to dataset time-sensitivity (answers may change as literature evolves; LitQA limited to post-cutoff papers), and residual risks when secondary sources are cited but not accessible.</td>
                        </tr>
                        <tr>
                            <td><strong>comparison_to_baselines_or_humans</strong></td>
                            <td>PaperQA outperformed GPT-4 and other LLM agents on LitQA and matched or exceeded several commercial literature tools; performance is on par with human experts in accuracy, precision, time to complete (2.4 hours vs humans' 2.5 hours) and shows similar categorical agreement (Cramer's V human-human ~0.66, human-PaperQA ~0.67).</td>
                        </tr>
                        <tr>
                            <td><strong>source_info</strong></td>
                            <td>{'paper_title': 'PaperQA: Retrieval-Augmented Generative Agent for Scientific Research', 'publication_date_yy_mm': '2023-12'}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="extraction-instance-container" id="e3691.1">
                <h3 class="extraction-instance">Extracted Data Instance 1 (e3691.1)</h3>
                <div class="extraction-query"><strong>Extraction Query:</strong> Extract any mentions of methods, systems, or studies that use large language models (LLMs) to distill theories or synthesize knowledge from large collections of scholarly papers, including details about the method, input corpus, topic/query specification, output, evaluation, results, and limitations.</div>
                <table>
                    <thead>
                        <tr>
                            <th style="width: 30%;">Field</th>
                            <th style="width: 70%;">Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>name_short</strong></td>
                            <td>LitQA</td>
                        </tr>
                        <tr>
                            <td><strong>name_full</strong></td>
                            <td>LitQA dataset (Literature-based QA for full-text retrieval)</td>
                        </tr>
                        <tr>
                            <td><strong>brief_description</strong></td>
                            <td>A benchmark dataset introduced in this paper composed of 50 expert-authored biomedical multiple-choice questions derived from findings in full-text papers published after Sep 2021, designed to require retrieval and synthesis from full-text articles rather than relying on model pretraining.</td>
                        </tr>
                        <tr>
                            <td><strong>citation_title</strong></td>
                            <td>here</td>
                        </tr>
                        <tr>
                            <td><strong>mention_or_use</strong></td>
                            <td>use</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_name</strong></td>
                            <td>LitQA</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_description</strong></td>
                            <td>An evaluation dataset to test retrieval+generation systems' ability to find, extract, and synthesize evidence from full-text research papers; questions intentionally target novel findings not present in abstracts and are constructed so answers require locating full-text evidence.</td>
                        </tr>
                        <tr>
                            <td><strong>input_corpus_description</strong></td>
                            <td>Questions derived from full-text biomedical papers published after Sep 2021 (to avoid inclusion in common LLM pretraining cutoffs); distractor answers created by authors or LLMs; dataset contains 50 multiple-choice items of varying choice counts (2â€“7 options).</td>
                        </tr>
                        <tr>
                            <td><strong>topic_or_query_specification</strong></td>
                            <td>Each sample is a natural language question (often multiple-choice); evaluation provides the same prompt to candidate systems; human participants were allowed internet search for three minutes per question.</td>
                        </tr>
                        <tr>
                            <td><strong>distillation_method</strong></td>
                            <td>Not a distillation method itself; intended to evaluate systems that perform retrieval + LLM-based evidence summarization and answer synthesis (i.e., RAG/agent systems like PaperQA).</td>
                        </tr>
                        <tr>
                            <td><strong>output_type_and_format</strong></td>
                            <td>Correct multiple-choice selection (or 'unsure') plus supporting evidence citation(s) for systems that supply provenance.</td>
                        </tr>
                        <tr>
                            <td><strong>evaluation_or_validation_method</strong></td>
                            <td>Expert human baseline (5 biomedical researchers with internet access), automated scoring of correct/incorrect/unsure, and comparison of system outputs to ground truth derived from the originating paper; also used for ablation studies and hallucination/citation validity checks.</td>
                        </tr>
                        <tr>
                            <td><strong>results_summary</strong></td>
                            <td>Used to show PaperQA's strong retrieval+answering ability (69.5% accuracy) and to demonstrate that commercial tools and base LLMs underperform compared to PaperQA and humans on this retrieval-heavy dataset.</td>
                        </tr>
                        <tr>
                            <td><strong>limitations_or_challenges</strong></td>
                            <td>Time-sensitivity: answers may change as literature evolves; authors recommend freezing source papers to Sep 15, 2023 when using dataset. Small size (50 questions) and domain-limited (biomedical) may limit generality.</td>
                        </tr>
                        <tr>
                            <td><strong>comparison_to_baselines_or_humans</strong></td>
                            <td>PaperQA matched or outperformed other systems on LitQA and was comparable to human experts in accuracy and response time.</td>
                        </tr>
                        <tr>
                            <td><strong>source_info</strong></td>
                            <td>{'paper_title': 'PaperQA: Retrieval-Augmented Generative Agent for Scientific Research', 'publication_date_yy_mm': '2023-12'}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="extraction-instance-container" id="e3691.2">
                <h3 class="extraction-instance">Extracted Data Instance 2 (e3691.2)</h3>
                <div class="extraction-query"><strong>Extraction Query:</strong> Extract any mentions of methods, systems, or studies that use large language models (LLMs) to distill theories or synthesize knowledge from large collections of scholarly papers, including details about the method, input corpus, topic/query specification, output, evaluation, results, and limitations.</div>
                <table>
                    <thead>
                        <tr>
                            <th style="width: 30%;">Field</th>
                            <th style="width: 70%;">Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>name_short</strong></td>
                            <td>RAG</td>
                        </tr>
                        <tr>
                            <td><strong>name_full</strong></td>
                            <td>Retrieval-Augmented Generation (RAG)</td>
                        </tr>
                        <tr>
                            <td><strong>brief_description</strong></td>
                            <td>A paradigm combining retrieval from a document corpus with a generative LLM that conditions generation on retrieved passages to reduce hallucinations and ground outputs; retrieved passages are added to model context or combined via cross-attention.</td>
                        </tr>
                        <tr>
                            <td><strong>citation_title</strong></td>
                            <td>Retrieval-augmented generation for knowledge-intensive nlp tasks</td>
                        </tr>
                        <tr>
                            <td><strong>mention_or_use</strong></td>
                            <td>mention</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_name</strong></td>
                            <td>Retrieval-Augmented Generation (RAG)</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_description</strong></td>
                            <td>General method: retrieve documents (via vector or keyword search) from a corpus and include them in the LLM's context for generation; can be implemented as pipeline (retrieve->rank->generate) or integrated with agents to call retrieval conditionally.</td>
                        </tr>
                        <tr>
                            <td><strong>input_corpus_description</strong></td>
                            <td>Any document collection (papers, web pages, knowledge bases); paper discusses use in scientific literature contexts (full-text articles, abstracts).</td>
                        </tr>
                        <tr>
                            <td><strong>topic_or_query_specification</strong></td>
                            <td>Natural language queries or structured retrieval queries; retrieval may use embeddings, BM25, or trainable encoders.</td>
                        </tr>
                        <tr>
                            <td><strong>distillation_method</strong></td>
                            <td>Combines retrieval with LLM generation; variations include adding retrieved text to prompt, cross-attention processing of retrieved passages, relevance scoring, and multi-hop retrieval; RAG is the backbone used conceptually by PaperQA but PaperQA extends it with agentization and map-reduce summarization.</td>
                        </tr>
                        <tr>
                            <td><strong>output_type_and_format</strong></td>
                            <td>Answers conditioned on retrieved evidence; may include citations/provenance when implemented.</td>
                        </tr>
                        <tr>
                            <td><strong>evaluation_or_validation_method</strong></td>
                            <td>Benchmarked on knowledge-intensive NLP tasks; in this paper RAG variants are compared via ablations and LitQA/PubMedQA experiments showing retrieval improves accuracy and reduces hallucination.</td>
                        </tr>
                        <tr>
                            <td><strong>results_summary</strong></td>
                            <td>RAG improves LLM performance on QA and reduces hallucinations per cited literature; PaperQA's agentized RAG outperforms vanilla RAG baselines (ablation: 'Vanilla RAG' and 'No search' lowered performance on LitQA).</td>
                        </tr>
                        <tr>
                            <td><strong>limitations_or_challenges</strong></td>
                            <td>Standard linear RAG pipelines can be restrictive; retrieval quality depends on search engine and indexing; vector retrieval and prompt design affect results; still vulnerable to bad sources and parsing errors.</td>
                        </tr>
                        <tr>
                            <td><strong>comparison_to_baselines_or_humans</strong></td>
                            <td>PaperQA (agentized RAG) outperforms vanilla RAG on LitQA and matches human experts when augmented with iterative search and summarization steps.</td>
                        </tr>
                        <tr>
                            <td><strong>source_info</strong></td>
                            <td>{'paper_title': 'PaperQA: Retrieval-Augmented Generative Agent for Scientific Research', 'publication_date_yy_mm': '2023-12'}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="extraction-instance-container" id="e3691.3">
                <h3 class="extraction-instance">Extracted Data Instance 3 (e3691.3)</h3>
                <div class="extraction-query"><strong>Extraction Query:</strong> Extract any mentions of methods, systems, or studies that use large language models (LLMs) to distill theories or synthesize knowledge from large collections of scholarly papers, including details about the method, input corpus, topic/query specification, output, evaluation, results, and limitations.</div>
                <table>
                    <thead>
                        <tr>
                            <th style="width: 30%;">Field</th>
                            <th style="width: 70%;">Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>name_short</strong></td>
                            <td>Agent-based RAG / LLM agents</td>
                        </tr>
                        <tr>
                            <td><strong>name_full</strong></td>
                            <td>LLM Agent Frameworks (MRKL, ReAct, Toolformer, AutoGPT, HuggingGPT)</td>
                        </tr>
                        <tr>
                            <td><strong>brief_description</strong></td>
                            <td>Classes of systems that let an LLM orchestrate tool use (web search, retrieval, code execution, file I/O) iteratively to solve complex tasks; in PaperQA an agent LLM chooses when to call search/gather/answer tools and can iterate until sufficient evidence is found.</td>
                        </tr>
                        <tr>
                            <td><strong>citation_title</strong></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><strong>mention_or_use</strong></td>
                            <td>mention</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_name</strong></td>
                            <td>Agent-based RAG / LLM agents</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_description</strong></td>
                            <td>Agents augment LLMs with external tools (search engines, DBs, summarizers). The agent reasons about which tools to call and can loop (plan-act-observe) enabling multi-step retrieval and refinement; PaperQA implements this pattern with three explicit tools and an agent LLM prompt controlling iteration.</td>
                        </tr>
                        <tr>
                            <td><strong>input_corpus_description</strong></td>
                            <td>External tools' corpora (search engines, document stores). In PaperQA the agent queries Google Scholar and local/open APIs to populate a vector DB of full-text chunks.</td>
                        </tr>
                        <tr>
                            <td><strong>topic_or_query_specification</strong></td>
                            <td>Natural language instructions to the agent; the agent decomposes tasks into tool calls and subqueries as needed.</td>
                        </tr>
                        <tr>
                            <td><strong>distillation_method</strong></td>
                            <td>Iterative tool use guided by an LLM controller; map-reduce summarization of retrieved chunks; LLMs provide relevance scoring and synthesis.</td>
                        </tr>
                        <tr>
                            <td><strong>output_type_and_format</strong></td>
                            <td>Structured answers with provenance; intermediate scratchpad evidence and decision traces (agent accepts/rejects answers).</td>
                        </tr>
                        <tr>
                            <td><strong>evaluation_or_validation_method</strong></td>
                            <td>Compared empirically (PaperQA vs AutoGPT and vanilla RAG) on LitQA and other benchmarks; ablation shows agent loops improve retrieval and final performance.</td>
                        </tr>
                        <tr>
                            <td><strong>results_summary</strong></td>
                            <td>Agentized retrieval and iterative search improved recall and answer quality compared to linear RAG pipelines; PaperQA's agent surpassed AutoGPT and vanilla RAG baselines on LitQA.</td>
                        </tr>
                        <tr>
                            <td><strong>limitations_or_challenges</strong></td>
                            <td>Complex prompt engineering for multiple LLM instances (agent, summary, ask, answer) is nontrivial; stopping conditions and tool failure handling add engineering complexity; unpredictable behavior if tools fail or prompts are suboptimal.</td>
                        </tr>
                        <tr>
                            <td><strong>comparison_to_baselines_or_humans</strong></td>
                            <td>PaperQA (agentic) outperforms AutoGPT (as run in experiments) and vanilla RAG; agent decisions helped match human-level performance on LitQA.</td>
                        </tr>
                        <tr>
                            <td><strong>source_info</strong></td>
                            <td>{'paper_title': 'PaperQA: Retrieval-Augmented Generative Agent for Scientific Research', 'publication_date_yy_mm': '2023-12'}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="extraction-instance-container" id="e3691.4">
                <h3 class="extraction-instance">Extracted Data Instance 4 (e3691.4)</h3>
                <div class="extraction-query"><strong>Extraction Query:</strong> Extract any mentions of methods, systems, or studies that use large language models (LLMs) to distill theories or synthesize knowledge from large collections of scholarly papers, including details about the method, input corpus, topic/query specification, output, evaluation, results, and limitations.</div>
                <table>
                    <thead>
                        <tr>
                            <th style="width: 30%;">Field</th>
                            <th style="width: 70%;">Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>name_short</strong></td>
                            <td>GPT-4 + Google Scholar keyword pipeline</td>
                        </tr>
                        <tr>
                            <td><strong>name_full</strong></td>
                            <td>GPT-4 guided keyword generation + Google Scholar retrieval pipeline</td>
                        </tr>
                        <tr>
                            <td><strong>brief_description</strong></td>
                            <td>A retrieval pipeline used in the paper where GPT-4 generates keyword searches (and year ranges) which are executed via Google Scholar to find candidate full-text papers; retrieved PDFs are parsed, chunked, embedded, and indexed for downstream LLM summarization and synthesis.</td>
                        </tr>
                        <tr>
                            <td><strong>citation_title</strong></td>
                            <td>here</td>
                        </tr>
                        <tr>
                            <td><strong>mention_or_use</strong></td>
                            <td>use</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_name</strong></td>
                            <td>GPT-4 keyword-guided search + Google Scholar retrieval</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_description</strong></td>
                            <td>GPT-4 is prompted to produce multiple keyword search queries and year ranges for each question; queries are run against Google Scholar (top-5 papers collected), papers accessed via various APIs (ArXiv/PMC/OpenAccess/local DB), parsed into overlapping 4,000-char chunks, embedded with text-embedding-ada-002, and stored in a vector DB for retrieval.</td>
                        </tr>
                        <tr>
                            <td><strong>input_corpus_description</strong></td>
                            <td>Search targets are the web-accessible literature surfaced by Google Scholar (open-access PDFs, PubMed/PMC links, ArXiv), later parsed to full-text chunks for embedding and indexing.</td>
                        </tr>
                        <tr>
                            <td><strong>topic_or_query_specification</strong></td>
                            <td>Natural language question is converted into multiple keyword+year search strings by GPT-4; queries vary in breadth/narrowness per prompt guidance.</td>
                        </tr>
                        <tr>
                            <td><strong>distillation_method</strong></td>
                            <td>Retrieval via keyword search followed by vector embedding indexing; map step summarizes chunks and scores relevance; reduce step synthesizes the answer with citations.</td>
                        </tr>
                        <tr>
                            <td><strong>output_type_and_format</strong></td>
                            <td>A ranked set of candidate papers and indexed evidence chunks, used as provenance for final answer synthesis.</td>
                        </tr>
                        <tr>
                            <td><strong>evaluation_or_validation_method</strong></td>
                            <td>Crawled retrieval evaluated with custom retrieval AUC metrics on abstract and full-text tasks (Appendix C), showing Google Scholar+GPT-4 achieved the highest AUC for finding/accessing/parsing target papers compared to Semantic Scholar and CORE.</td>
                        </tr>
                        <tr>
                            <td><strong>results_summary</strong></td>
                            <td>Google Scholar + GPT-4 keyword generation provided superior retrieval performance (abstract AUC ~0.76 with GPT-4; full-text found/access/parse AUC up to ~0.66/0.47/0.47 with GPT-4) compared to Semantic Scholar and CORE in their experiments.</td>
                        </tr>
                        <tr>
                            <td><strong>limitations_or_challenges</strong></td>
                            <td>Search engine and PDF parsing failures affect pipeline recall; reliance on Google Scholar may bias toward text-searchable content and open-access links; retrieval effectiveness depends on quality of generated keywords.</td>
                        </tr>
                        <tr>
                            <td><strong>comparison_to_baselines_or_humans</strong></td>
                            <td>Outperformed Semantic Scholar and CORE in the paper's retrieval experiments (higher AUCs); improving keyword prompts can affect performance.</td>
                        </tr>
                        <tr>
                            <td><strong>source_info</strong></td>
                            <td>{'paper_title': 'PaperQA: Retrieval-Augmented Generative Agent for Scientific Research', 'publication_date_yy_mm': '2023-12'}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="extraction-instance-container" id="e3691.5">
                <h3 class="extraction-instance">Extracted Data Instance 5 (e3691.5)</h3>
                <div class="extraction-query"><strong>Extraction Query:</strong> Extract any mentions of methods, systems, or studies that use large language models (LLMs) to distill theories or synthesize knowledge from large collections of scholarly papers, including details about the method, input corpus, topic/query specification, output, evaluation, results, and limitations.</div>
                <table>
                    <thead>
                        <tr>
                            <th style="width: 30%;">Field</th>
                            <th style="width: 70%;">Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>name_short</strong></td>
                            <td>AutoGPT (baseline)</td>
                        </tr>
                        <tr>
                            <td><strong>name_full</strong></td>
                            <td>Auto-GPT: An experimental open-source attempt to make GPT-4 fully autonomous</td>
                        </tr>
                        <tr>
                            <td><strong>brief_description</strong></td>
                            <td>An open-source autonomous agent framework that chains planning, web search, and file operations under an LLM controller; used in the paper as a comparative agent baseline for literature question answering.</td>
                        </tr>
                        <tr>
                            <td><strong>citation_title</strong></td>
                            <td>auto-gpt: An experimental open-source attempt to make gpt-4 fully autonomous.</td>
                        </tr>
                        <tr>
                            <td><strong>mention_or_use</strong></td>
                            <td>use</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_name</strong></td>
                            <td>AutoGPT (as run in experiments)</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_description</strong></td>
                            <td>AutoGPT implementation (LangChain experimental) with GPT-4-0314 as agent LLM, tools for Google search, file read/write, and configured stopping after 10 searches; tasked to answer LitQA questions by iterative autonomous search and reasoning.</td>
                        </tr>
                        <tr>
                            <td><strong>input_corpus_description</strong></td>
                            <td>Web search results returned by Google search tool invoked by AutoGPT; exact internal corpora depend on Google search results at run-time.</td>
                        </tr>
                        <tr>
                            <td><strong>topic_or_query_specification</strong></td>
                            <td>Natural language prompts (the LitQA question); AutoGPT autonomously generates search queries and decides actions.</td>
                        </tr>
                        <tr>
                            <td><strong>distillation_method</strong></td>
                            <td>Agentic iterative web-search + internal reasoning chain, but not the PaperQA map-reduce summarization pipeline; AutoGPT was allowed up to 10 searches then produce an answer.</td>
                        </tr>
                        <tr>
                            <td><strong>output_type_and_format</strong></td>
                            <td>Multiple-choice answers (forced to choose an option for LitQA), occasional 'unsure' when configured differently.</td>
                        </tr>
                        <tr>
                            <td><strong>evaluation_or_validation_method</strong></td>
                            <td>Evaluated on LitQA alongside PaperQA and other tools; performance recorded in Table 2 (several runs).</td>
                        </tr>
                        <tr>
                            <td><strong>results_summary</strong></td>
                            <td>AutoGPT achieved ~41.4% accuracy on LitQA in the reported run (worse than PaperQA and humans), with higher 'unsure' rates in some configurations; AutoGPT + post-reasoning modestly improved PubMedQA results but underperformed PaperQA on LitQA.</td>
                        </tr>
                        <tr>
                            <td><strong>limitations_or_challenges</strong></td>
                            <td>AutoGPT can run indefinitely without fixed stopping conditions (paper imposed a limit); less specialized retrieval/summarization pipeline resulted in lower LitQA performance compared to PaperQA's curated toolset.</td>
                        </tr>
                        <tr>
                            <td><strong>comparison_to_baselines_or_humans</strong></td>
                            <td>Underperformed relative to PaperQA and human experts on LitQA; performed better than random but worse than GPT-4+PaperQA in benchmark comparisons.</td>
                        </tr>
                        <tr>
                            <td><strong>source_info</strong></td>
                            <td>{'paper_title': 'PaperQA: Retrieval-Augmented Generative Agent for Scientific Research', 'publication_date_yy_mm': '2023-12'}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="extraction-instance-container" id="e3691.6">
                <h3 class="extraction-instance">Extracted Data Instance 6 (e3691.6)</h3>
                <div class="extraction-query"><strong>Extraction Query:</strong> Extract any mentions of methods, systems, or studies that use large language models (LLMs) to distill theories or synthesize knowledge from large collections of scholarly papers, including details about the method, input corpus, topic/query specification, output, evaluation, results, and limitations.</div>
                <table>
                    <thead>
                        <tr>
                            <th style="width: 30%;">Field</th>
                            <th style="width: 70%;">Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>name_short</strong></td>
                            <td>Commercial literature tools (Elicit, Scite_, Perplexity)</td>
                        </tr>
                        <tr>
                            <td><strong>name_full</strong></td>
                            <td>Elicit.AI; Scite_ Assistant; Perplexity (academic mode / Co-pilot)</td>
                        </tr>
                        <tr>
                            <td><strong>brief_description</strong></td>
                            <td>Off-the-shelf commercial literature question-answering and research-assistant products that retrieve scientific literature and present summaries/answers; used as baselines in LitQA experiments with default settings.</td>
                        </tr>
                        <tr>
                            <td><strong>citation_title</strong></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><strong>mention_or_use</strong></td>
                            <td>use</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_name</strong></td>
                            <td>Commercial literature RAG tools (Elicit, Scite_, Perplexity)</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_description</strong></td>
                            <td>Proprietary systems that combine literature retrieval and summarization/answering; exact internals not detailed in the paper. Evaluated in default modes (Perplexity also evaluated in 'Co-pilot' academic mode).</td>
                        </tr>
                        <tr>
                            <td><strong>input_corpus_description</strong></td>
                            <td>Their proprietary indexes of the scientific literature (not fully specified); accessed via product interfaces/APIs in default configurations during Sept 2023 evaluations.</td>
                        </tr>
                        <tr>
                            <td><strong>topic_or_query_specification</strong></td>
                            <td>Natural language prompts (same prompt as PaperQA) per experiment; each question run in a fresh thread/context.</td>
                        </tr>
                        <tr>
                            <td><strong>distillation_method</strong></td>
                            <td>Commercial RAG and summarization pipelines (proprietary). PaperQA compared against them empirically but did not internalize their methods.</td>
                        </tr>
                        <tr>
                            <td><strong>output_type_and_format</strong></td>
                            <td>Answer responses with varying degrees of citation/provenance depending on the tool; outputs were judged correct/incorrect/unsure on LitQA.</td>
                        </tr>
                        <tr>
                            <td><strong>evaluation_or_validation_method</strong></td>
                            <td>Evaluated on LitQA (one run per tool in Table 2) and scored for correct/incorrect/unsure; citation hallucination analysis applied to LLMs, not directly to commercial tools in detail.</td>
                        </tr>
                        <tr>
                            <td><strong>results_summary</strong></td>
                            <td>On LitQA default-tool results: Elicit ~24.0% accuracy, Scite_ ~24.0%, Perplexity ~18.0% (Perplexity Co-pilot ~58.0%). PaperQA outperformed these tools overall and had lower incorrect-answer rates.</td>
                        </tr>
                        <tr>
                            <td><strong>limitations_or_challenges</strong></td>
                            <td>Black-box internals prevent detailed analysis; performance depends on each tool's retrieval index and summarization; evaluated only at particular time point (Sept 27, 2023) which may affect reproducibility.</td>
                        </tr>
                        <tr>
                            <td><strong>comparison_to_baselines_or_humans</strong></td>
                            <td>PaperQA outperformed these commercial tools in LitQA experiments and achieved fewer incorrect answers; some modes (Perplexity Co-pilot) performed competitively but PaperQA still had higher aggregate accuracy.</td>
                        </tr>
                        <tr>
                            <td><strong>source_info</strong></td>
                            <td>{'paper_title': 'PaperQA: Retrieval-Augmented Generative Agent for Scientific Research', 'publication_date_yy_mm': '2023-12'}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="extraction-instance-container" id="e3691.7">
                <h3 class="extraction-instance">Extracted Data Instance 7 (e3691.7)</h3>
                <div class="extraction-query"><strong>Extraction Query:</strong> Extract any mentions of methods, systems, or studies that use large language models (LLMs) to distill theories or synthesize knowledge from large collections of scholarly papers, including details about the method, input corpus, topic/query specification, output, evaluation, results, and limitations.</div>
                <table>
                    <thead>
                        <tr>
                            <th style="width: 30%;">Field</th>
                            <th style="width: 70%;">Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>name_short</strong></td>
                            <td>Active RAG</td>
                        </tr>
                        <tr>
                            <td><strong>name_full</strong></td>
                            <td>Active Retrieval-Augmented Generation</td>
                        </tr>
                        <tr>
                            <td><strong>brief_description</strong></td>
                            <td>A retrieval+generation variant that actively regenerates outputs or re-retrieves when the model emits low-probability tokens, aiming to improve factuality by requerying relevant evidence.</td>
                        </tr>
                        <tr>
                            <td><strong>citation_title</strong></td>
                            <td>Active retrieval augmented generation</td>
                        </tr>
                        <tr>
                            <td><strong>mention_or_use</strong></td>
                            <td>mention</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_name</strong></td>
                            <td>Active RAG</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_description</strong></td>
                            <td>A method where the generation process is monitored and retrieval is triggered adaptively when uncertain or low-probability generations occur, enabling dynamic augmentation of context during generation.</td>
                        </tr>
                        <tr>
                            <td><strong>input_corpus_description</strong></td>
                            <td>General document collections used for retrieval; paper cites Active RAG as a related RAG variant but does not implement it directly.</td>
                        </tr>
                        <tr>
                            <td><strong>topic_or_query_specification</strong></td>
                            <td>Natural language queries; retrieval is adaptively invoked based on generation signals.</td>
                        </tr>
                        <tr>
                            <td><strong>distillation_method</strong></td>
                            <td>Adaptive retrieval during generation to improve factual grounding.</td>
                        </tr>
                        <tr>
                            <td><strong>output_type_and_format</strong></td>
                            <td>Regenerated, more grounded answers conditioned on newly retrieved evidence when necessary.</td>
                        </tr>
                        <tr>
                            <td><strong>evaluation_or_validation_method</strong></td>
                            <td>Mentioned as related work (ref 60); PaperQA discusses similar goals (reducing hallucinations) but implements agent iteration and map-reduce instead of Active RAG's exact mechanism.</td>
                        </tr>
                        <tr>
                            <td><strong>results_summary</strong></td>
                            <td>Cited as a promising RAG variant to reduce hallucination; no direct experimental results reported in this paper.</td>
                        </tr>
                        <tr>
                            <td><strong>limitations_or_challenges</strong></td>
                            <td>Not implemented in PaperQA; potential computational overhead and need for reliable uncertainty signals to trigger retrieval.</td>
                        </tr>
                        <tr>
                            <td><strong>source_info</strong></td>
                            <td>{'paper_title': 'PaperQA: Retrieval-Augmented Generative Agent for Scientific Research', 'publication_date_yy_mm': '2023-12'}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="extraction-instance-container" id="e3691.8">
                <h3 class="extraction-instance">Extracted Data Instance 8 (e3691.8)</h3>
                <div class="extraction-query"><strong>Extraction Query:</strong> Extract any mentions of methods, systems, or studies that use large language models (LLMs) to distill theories or synthesize knowledge from large collections of scholarly papers, including details about the method, input corpus, topic/query specification, output, evaluation, results, and limitations.</div>
                <table>
                    <thead>
                        <tr>
                            <th style="width: 30%;">Field</th>
                            <th style="width: 70%;">Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>name_short</strong></td>
                            <td>Demonstrate-Search-Predict</td>
                        </tr>
                        <tr>
                            <td><strong>name_full</strong></td>
                            <td>Demonstrate-Search-Predict: Composing retrieval and language models for knowledge-intensive NLP</td>
                        </tr>
                        <tr>
                            <td><strong>brief_description</strong></td>
                            <td>A composition approach that sequences demonstration, search, and prediction steps to improve knowledge-intensive tasks by combining retrieval and language modeling in a modular way.</td>
                        </tr>
                        <tr>
                            <td><strong>citation_title</strong></td>
                            <td>Demonstrate-search-predict: Composing retrieval and language models for knowledge-intensive nlp</td>
                        </tr>
                        <tr>
                            <td><strong>mention_or_use</strong></td>
                            <td>mention</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_name</strong></td>
                            <td>Demonstrate-Search-Predict</td>
                        </tr>
                        <tr>
                            <td><strong>system_or_method_description</strong></td>
                            <td>A retrieval-composition approach where retrieval and LM prediction are combined through staged steps (demonstration of format, search for evidence, prediction conditioned on evidence); cited as related work on composing retrieval and LMs for multi-step tasks.</td>
                        </tr>
                        <tr>
                            <td><strong>input_corpus_description</strong></td>
                            <td>Any document collections used for retrieval; mentioned as related prior work (ref 58) but not used in PaperQA experiments.</td>
                        </tr>
                        <tr>
                            <td><strong>topic_or_query_specification</strong></td>
                            <td>Natural language queries with staged design.</td>
                        </tr>
                        <tr>
                            <td><strong>distillation_method</strong></td>
                            <td>Compositional retrieval + LM prediction pipeline.</td>
                        </tr>
                        <tr>
                            <td><strong>output_type_and_format</strong></td>
                            <td>Answers grounded on retrieved evidence, designed for multi-hop or knowledge-intensive tasks.</td>
                        </tr>
                        <tr>
                            <td><strong>evaluation_or_validation_method</strong></td>
                            <td>Referenced as relevant literature; PaperQA's agent design shares high-level goals but differs in implementation details (map-reduce, LLM scoring).</td>
                        </tr>
                        <tr>
                            <td><strong>results_summary</strong></td>
                            <td>Not directly evaluated in this paper; cited to position PaperQA among retrieval-composition methods.</td>
                        </tr>
                        <tr>
                            <td><strong>limitations_or_challenges</strong></td>
                            <td>No experimental comparisons presented within this paper.</td>
                        </tr>
                        <tr>
                            <td><strong>source_info</strong></td>
                            <td>{'paper_title': 'PaperQA: Retrieval-Augmented Generative Agent for Scientific Research', 'publication_date_yy_mm': '2023-12'}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="section">
            <h2>Potentially Relevant New Papers (mentioned by this paper)</h2>
            <ol>
                <li>Retrieval-augmented generation for knowledge-intensive nlp tasks <em>(Rating: 2)</em></li>
                <li>Active retrieval augmented generation <em>(Rating: 2)</em></li>
                <li>Demonstrate-search-predict: Composing retrieval and language models for knowledge-intensive nlp <em>(Rating: 2)</em></li>
                <li>Mrkl systems: A modular, neuro-symbolic architecture that combines large language models, external knowledge sources and discrete reasoning <em>(Rating: 1)</em></li>
                <li>React: Synergizing reasoning and acting in language models <em>(Rating: 1)</em></li>
                <li>auto-gpt: An experimental open-source attempt to make gpt-4 fully autonomous. <em>(Rating: 1)</em></li>
            </ol>
        </div>

        <div class="section">
            <h2>Extracted Data (Debug)</h2>
            <pre><code>{
    "id": "extraction-result-3691",
    "paper_id": "paper-7e55d8701785818776323b4147cb13354c820469",
    "extraction_schema_id": "extraction-schema-91",
    "extracted_data": [
        {
            "name_short": "PaperQA",
            "name_full": "PaperQA: Retrieval-Augmented Generative Agent for Scientific Research",
            "brief_description": "An agent-based Retrieval-Augmented Generation (RAG) system that finds relevant full-text scientific papers, extracts and summarizes evidence with LLMs, and synthesizes answers with cited sources; designed to iteratively call search/gather/answer tools and to reduce hallucinations via provenance and LLM relevance scoring.",
            "citation_title": "here",
            "mention_or_use": "use",
            "system_or_method_name": "PaperQA",
            "system_or_method_description": "An agent that decomposes RAG into tools (search, gather_evidence, answer_question) orchestrated by an LLM agent. It uses a map (summarize + score) then reduce (synthesize answer) pipeline, LLM-generated relevance scores in addition to vector distances, iterative tool calls (search/gather/answer loops), and a priori/a posteriori prompting to leverage parametric knowledge while grounding answers in retrieved full-text evidence.",
            "input_corpus_description": "Full-text scientific articles accessed via online indices/APIs (ArXiv, PubMed/PMC, Google Scholar results, OpenAccess, local database). Papers are chunked into overlapping ~4,000 character blocks, embedded with text-embedding-ada-002, and stored in a vector DB; experiments used up to top-5 Google Scholar results per query and considered up to 20 chunks per gather step (final answer used up to 8 evidence chunks).",
            "topic_or_query_specification": "Natural language question prompts (including multiple-choice options for LitQA and benchmark prompts). The agent may rephrase or break the question into subqueries and supplies keyword strings to the search tool (optionally with year ranges).",
            "distillation_method": "Retrieval-augmented generation with an agent controller: iterative RAG calls, map-reduce summarization (summary LLM summarizes each chunk into evidence and scores relevance 1--10), maximal marginal relevance retrieval for diversity, LLM relevance-ranking (score-based re-ranking), and final answer synthesis by an answer LLM that cites supporting chunks; also includes an 'ask LLM' step to surface latent parametric knowledge before final synthesis.",
            "output_type_and_format": "Scholarly-tone answers with inline citations (paper citations appended to sentences), evidence summaries (context library of top-k chunks), and an uncertainty response ('I cannot answer' if insufficient); outputs include final answer text and provenance (citations + summarized evidence).",
            "evaluation_or_validation_method": "Automatic evaluation on new LitQA benchmark (50 expert-authored multiple-choice biomedical questions from papers published after Sep 2021), comparisons to humans (5 biomedical researchers with internet access, timed), comparisons to pre-trained LLMs (GPT-4, Claude-2), AutoGPT agent, and commercial literature tools (Elicit, Scite_, Perplexity), ablation studies, hallucination analysis of citations (manual verification), and evaluations on standard QA benchmarks (PubMedQA_blind, MedQA-USMLE, BioASQ).",
            "results_summary": "On LitQA PaperQA achieved ~69.5% accuracy and precision ~87.9%, comparable to human experts (human accuracy ~66.8%, precision ~87.9%). On PubMedQA_blind PaperQA achieved 86.3% (substantially outperforming GPT-4 alone at 57.9%). PaperQA produced zero observed hallucinated citations in manual checks (237 citations evaluated). Cost per question estimated at ~$0.18 (based on token usage and model prices in Sept 2023).",
            "limitations_or_challenges": "Relies on correctness of retrieved papers (no intrinsic paper quality verification beyond meta signals like journal/citation count), vulnerable to search/access/ parsing failures (PDF parsing failure rate discussed), dependent on prompt engineering (multiple prompts across components not guaranteed optimal), susceptible to dataset time-sensitivity (answers may change as literature evolves; LitQA limited to post-cutoff papers), and residual risks when secondary sources are cited but not accessible.",
            "comparison_to_baselines_or_humans": "PaperQA outperformed GPT-4 and other LLM agents on LitQA and matched or exceeded several commercial literature tools; performance is on par with human experts in accuracy, precision, time to complete (2.4 hours vs humans' 2.5 hours) and shows similar categorical agreement (Cramer's V human-human ~0.66, human-PaperQA ~0.67).",
            "uuid": "e3691.0",
            "source_info": {
                "paper_title": "PaperQA: Retrieval-Augmented Generative Agent for Scientific Research",
                "publication_date_yy_mm": "2023-12"
            }
        },
        {
            "name_short": "LitQA",
            "name_full": "LitQA dataset (Literature-based QA for full-text retrieval)",
            "brief_description": "A benchmark dataset introduced in this paper composed of 50 expert-authored biomedical multiple-choice questions derived from findings in full-text papers published after Sep 2021, designed to require retrieval and synthesis from full-text articles rather than relying on model pretraining.",
            "citation_title": "here",
            "mention_or_use": "use",
            "system_or_method_name": "LitQA",
            "system_or_method_description": "An evaluation dataset to test retrieval+generation systems' ability to find, extract, and synthesize evidence from full-text research papers; questions intentionally target novel findings not present in abstracts and are constructed so answers require locating full-text evidence.",
            "input_corpus_description": "Questions derived from full-text biomedical papers published after Sep 2021 (to avoid inclusion in common LLM pretraining cutoffs); distractor answers created by authors or LLMs; dataset contains 50 multiple-choice items of varying choice counts (2â€“7 options).",
            "topic_or_query_specification": "Each sample is a natural language question (often multiple-choice); evaluation provides the same prompt to candidate systems; human participants were allowed internet search for three minutes per question.",
            "distillation_method": "Not a distillation method itself; intended to evaluate systems that perform retrieval + LLM-based evidence summarization and answer synthesis (i.e., RAG/agent systems like PaperQA).",
            "output_type_and_format": "Correct multiple-choice selection (or 'unsure') plus supporting evidence citation(s) for systems that supply provenance.",
            "evaluation_or_validation_method": "Expert human baseline (5 biomedical researchers with internet access), automated scoring of correct/incorrect/unsure, and comparison of system outputs to ground truth derived from the originating paper; also used for ablation studies and hallucination/citation validity checks.",
            "results_summary": "Used to show PaperQA's strong retrieval+answering ability (69.5% accuracy) and to demonstrate that commercial tools and base LLMs underperform compared to PaperQA and humans on this retrieval-heavy dataset.",
            "limitations_or_challenges": "Time-sensitivity: answers may change as literature evolves; authors recommend freezing source papers to Sep 15, 2023 when using dataset. Small size (50 questions) and domain-limited (biomedical) may limit generality.",
            "comparison_to_baselines_or_humans": "PaperQA matched or outperformed other systems on LitQA and was comparable to human experts in accuracy and response time.",
            "uuid": "e3691.1",
            "source_info": {
                "paper_title": "PaperQA: Retrieval-Augmented Generative Agent for Scientific Research",
                "publication_date_yy_mm": "2023-12"
            }
        },
        {
            "name_short": "RAG",
            "name_full": "Retrieval-Augmented Generation (RAG)",
            "brief_description": "A paradigm combining retrieval from a document corpus with a generative LLM that conditions generation on retrieved passages to reduce hallucinations and ground outputs; retrieved passages are added to model context or combined via cross-attention.",
            "citation_title": "Retrieval-augmented generation for knowledge-intensive nlp tasks",
            "mention_or_use": "mention",
            "system_or_method_name": "Retrieval-Augmented Generation (RAG)",
            "system_or_method_description": "General method: retrieve documents (via vector or keyword search) from a corpus and include them in the LLM's context for generation; can be implemented as pipeline (retrieve-&gt;rank-&gt;generate) or integrated with agents to call retrieval conditionally.",
            "input_corpus_description": "Any document collection (papers, web pages, knowledge bases); paper discusses use in scientific literature contexts (full-text articles, abstracts).",
            "topic_or_query_specification": "Natural language queries or structured retrieval queries; retrieval may use embeddings, BM25, or trainable encoders.",
            "distillation_method": "Combines retrieval with LLM generation; variations include adding retrieved text to prompt, cross-attention processing of retrieved passages, relevance scoring, and multi-hop retrieval; RAG is the backbone used conceptually by PaperQA but PaperQA extends it with agentization and map-reduce summarization.",
            "output_type_and_format": "Answers conditioned on retrieved evidence; may include citations/provenance when implemented.",
            "evaluation_or_validation_method": "Benchmarked on knowledge-intensive NLP tasks; in this paper RAG variants are compared via ablations and LitQA/PubMedQA experiments showing retrieval improves accuracy and reduces hallucination.",
            "results_summary": "RAG improves LLM performance on QA and reduces hallucinations per cited literature; PaperQA's agentized RAG outperforms vanilla RAG baselines (ablation: 'Vanilla RAG' and 'No search' lowered performance on LitQA).",
            "limitations_or_challenges": "Standard linear RAG pipelines can be restrictive; retrieval quality depends on search engine and indexing; vector retrieval and prompt design affect results; still vulnerable to bad sources and parsing errors.",
            "comparison_to_baselines_or_humans": "PaperQA (agentized RAG) outperforms vanilla RAG on LitQA and matches human experts when augmented with iterative search and summarization steps.",
            "uuid": "e3691.2",
            "source_info": {
                "paper_title": "PaperQA: Retrieval-Augmented Generative Agent for Scientific Research",
                "publication_date_yy_mm": "2023-12"
            }
        },
        {
            "name_short": "Agent-based RAG / LLM agents",
            "name_full": "LLM Agent Frameworks (MRKL, ReAct, Toolformer, AutoGPT, HuggingGPT)",
            "brief_description": "Classes of systems that let an LLM orchestrate tool use (web search, retrieval, code execution, file I/O) iteratively to solve complex tasks; in PaperQA an agent LLM chooses when to call search/gather/answer tools and can iterate until sufficient evidence is found.",
            "citation_title": "",
            "mention_or_use": "mention",
            "system_or_method_name": "Agent-based RAG / LLM agents",
            "system_or_method_description": "Agents augment LLMs with external tools (search engines, DBs, summarizers). The agent reasons about which tools to call and can loop (plan-act-observe) enabling multi-step retrieval and refinement; PaperQA implements this pattern with three explicit tools and an agent LLM prompt controlling iteration.",
            "input_corpus_description": "External tools' corpora (search engines, document stores). In PaperQA the agent queries Google Scholar and local/open APIs to populate a vector DB of full-text chunks.",
            "topic_or_query_specification": "Natural language instructions to the agent; the agent decomposes tasks into tool calls and subqueries as needed.",
            "distillation_method": "Iterative tool use guided by an LLM controller; map-reduce summarization of retrieved chunks; LLMs provide relevance scoring and synthesis.",
            "output_type_and_format": "Structured answers with provenance; intermediate scratchpad evidence and decision traces (agent accepts/rejects answers).",
            "evaluation_or_validation_method": "Compared empirically (PaperQA vs AutoGPT and vanilla RAG) on LitQA and other benchmarks; ablation shows agent loops improve retrieval and final performance.",
            "results_summary": "Agentized retrieval and iterative search improved recall and answer quality compared to linear RAG pipelines; PaperQA's agent surpassed AutoGPT and vanilla RAG baselines on LitQA.",
            "limitations_or_challenges": "Complex prompt engineering for multiple LLM instances (agent, summary, ask, answer) is nontrivial; stopping conditions and tool failure handling add engineering complexity; unpredictable behavior if tools fail or prompts are suboptimal.",
            "comparison_to_baselines_or_humans": "PaperQA (agentic) outperforms AutoGPT (as run in experiments) and vanilla RAG; agent decisions helped match human-level performance on LitQA.",
            "uuid": "e3691.3",
            "source_info": {
                "paper_title": "PaperQA: Retrieval-Augmented Generative Agent for Scientific Research",
                "publication_date_yy_mm": "2023-12"
            }
        },
        {
            "name_short": "GPT-4 + Google Scholar keyword pipeline",
            "name_full": "GPT-4 guided keyword generation + Google Scholar retrieval pipeline",
            "brief_description": "A retrieval pipeline used in the paper where GPT-4 generates keyword searches (and year ranges) which are executed via Google Scholar to find candidate full-text papers; retrieved PDFs are parsed, chunked, embedded, and indexed for downstream LLM summarization and synthesis.",
            "citation_title": "here",
            "mention_or_use": "use",
            "system_or_method_name": "GPT-4 keyword-guided search + Google Scholar retrieval",
            "system_or_method_description": "GPT-4 is prompted to produce multiple keyword search queries and year ranges for each question; queries are run against Google Scholar (top-5 papers collected), papers accessed via various APIs (ArXiv/PMC/OpenAccess/local DB), parsed into overlapping 4,000-char chunks, embedded with text-embedding-ada-002, and stored in a vector DB for retrieval.",
            "input_corpus_description": "Search targets are the web-accessible literature surfaced by Google Scholar (open-access PDFs, PubMed/PMC links, ArXiv), later parsed to full-text chunks for embedding and indexing.",
            "topic_or_query_specification": "Natural language question is converted into multiple keyword+year search strings by GPT-4; queries vary in breadth/narrowness per prompt guidance.",
            "distillation_method": "Retrieval via keyword search followed by vector embedding indexing; map step summarizes chunks and scores relevance; reduce step synthesizes the answer with citations.",
            "output_type_and_format": "A ranked set of candidate papers and indexed evidence chunks, used as provenance for final answer synthesis.",
            "evaluation_or_validation_method": "Crawled retrieval evaluated with custom retrieval AUC metrics on abstract and full-text tasks (Appendix C), showing Google Scholar+GPT-4 achieved the highest AUC for finding/accessing/parsing target papers compared to Semantic Scholar and CORE.",
            "results_summary": "Google Scholar + GPT-4 keyword generation provided superior retrieval performance (abstract AUC ~0.76 with GPT-4; full-text found/access/parse AUC up to ~0.66/0.47/0.47 with GPT-4) compared to Semantic Scholar and CORE in their experiments.",
            "limitations_or_challenges": "Search engine and PDF parsing failures affect pipeline recall; reliance on Google Scholar may bias toward text-searchable content and open-access links; retrieval effectiveness depends on quality of generated keywords.",
            "comparison_to_baselines_or_humans": "Outperformed Semantic Scholar and CORE in the paper's retrieval experiments (higher AUCs); improving keyword prompts can affect performance.",
            "uuid": "e3691.4",
            "source_info": {
                "paper_title": "PaperQA: Retrieval-Augmented Generative Agent for Scientific Research",
                "publication_date_yy_mm": "2023-12"
            }
        },
        {
            "name_short": "AutoGPT (baseline)",
            "name_full": "Auto-GPT: An experimental open-source attempt to make GPT-4 fully autonomous",
            "brief_description": "An open-source autonomous agent framework that chains planning, web search, and file operations under an LLM controller; used in the paper as a comparative agent baseline for literature question answering.",
            "citation_title": "auto-gpt: An experimental open-source attempt to make gpt-4 fully autonomous.",
            "mention_or_use": "use",
            "system_or_method_name": "AutoGPT (as run in experiments)",
            "system_or_method_description": "AutoGPT implementation (LangChain experimental) with GPT-4-0314 as agent LLM, tools for Google search, file read/write, and configured stopping after 10 searches; tasked to answer LitQA questions by iterative autonomous search and reasoning.",
            "input_corpus_description": "Web search results returned by Google search tool invoked by AutoGPT; exact internal corpora depend on Google search results at run-time.",
            "topic_or_query_specification": "Natural language prompts (the LitQA question); AutoGPT autonomously generates search queries and decides actions.",
            "distillation_method": "Agentic iterative web-search + internal reasoning chain, but not the PaperQA map-reduce summarization pipeline; AutoGPT was allowed up to 10 searches then produce an answer.",
            "output_type_and_format": "Multiple-choice answers (forced to choose an option for LitQA), occasional 'unsure' when configured differently.",
            "evaluation_or_validation_method": "Evaluated on LitQA alongside PaperQA and other tools; performance recorded in Table 2 (several runs).",
            "results_summary": "AutoGPT achieved ~41.4% accuracy on LitQA in the reported run (worse than PaperQA and humans), with higher 'unsure' rates in some configurations; AutoGPT + post-reasoning modestly improved PubMedQA results but underperformed PaperQA on LitQA.",
            "limitations_or_challenges": "AutoGPT can run indefinitely without fixed stopping conditions (paper imposed a limit); less specialized retrieval/summarization pipeline resulted in lower LitQA performance compared to PaperQA's curated toolset.",
            "comparison_to_baselines_or_humans": "Underperformed relative to PaperQA and human experts on LitQA; performed better than random but worse than GPT-4+PaperQA in benchmark comparisons.",
            "uuid": "e3691.5",
            "source_info": {
                "paper_title": "PaperQA: Retrieval-Augmented Generative Agent for Scientific Research",
                "publication_date_yy_mm": "2023-12"
            }
        },
        {
            "name_short": "Commercial literature tools (Elicit, Scite_, Perplexity)",
            "name_full": "Elicit.AI; Scite_ Assistant; Perplexity (academic mode / Co-pilot)",
            "brief_description": "Off-the-shelf commercial literature question-answering and research-assistant products that retrieve scientific literature and present summaries/answers; used as baselines in LitQA experiments with default settings.",
            "citation_title": "",
            "mention_or_use": "use",
            "system_or_method_name": "Commercial literature RAG tools (Elicit, Scite_, Perplexity)",
            "system_or_method_description": "Proprietary systems that combine literature retrieval and summarization/answering; exact internals not detailed in the paper. Evaluated in default modes (Perplexity also evaluated in 'Co-pilot' academic mode).",
            "input_corpus_description": "Their proprietary indexes of the scientific literature (not fully specified); accessed via product interfaces/APIs in default configurations during Sept 2023 evaluations.",
            "topic_or_query_specification": "Natural language prompts (same prompt as PaperQA) per experiment; each question run in a fresh thread/context.",
            "distillation_method": "Commercial RAG and summarization pipelines (proprietary). PaperQA compared against them empirically but did not internalize their methods.",
            "output_type_and_format": "Answer responses with varying degrees of citation/provenance depending on the tool; outputs were judged correct/incorrect/unsure on LitQA.",
            "evaluation_or_validation_method": "Evaluated on LitQA (one run per tool in Table 2) and scored for correct/incorrect/unsure; citation hallucination analysis applied to LLMs, not directly to commercial tools in detail.",
            "results_summary": "On LitQA default-tool results: Elicit ~24.0% accuracy, Scite_ ~24.0%, Perplexity ~18.0% (Perplexity Co-pilot ~58.0%). PaperQA outperformed these tools overall and had lower incorrect-answer rates.",
            "limitations_or_challenges": "Black-box internals prevent detailed analysis; performance depends on each tool's retrieval index and summarization; evaluated only at particular time point (Sept 27, 2023) which may affect reproducibility.",
            "comparison_to_baselines_or_humans": "PaperQA outperformed these commercial tools in LitQA experiments and achieved fewer incorrect answers; some modes (Perplexity Co-pilot) performed competitively but PaperQA still had higher aggregate accuracy.",
            "uuid": "e3691.6",
            "source_info": {
                "paper_title": "PaperQA: Retrieval-Augmented Generative Agent for Scientific Research",
                "publication_date_yy_mm": "2023-12"
            }
        },
        {
            "name_short": "Active RAG",
            "name_full": "Active Retrieval-Augmented Generation",
            "brief_description": "A retrieval+generation variant that actively regenerates outputs or re-retrieves when the model emits low-probability tokens, aiming to improve factuality by requerying relevant evidence.",
            "citation_title": "Active retrieval augmented generation",
            "mention_or_use": "mention",
            "system_or_method_name": "Active RAG",
            "system_or_method_description": "A method where the generation process is monitored and retrieval is triggered adaptively when uncertain or low-probability generations occur, enabling dynamic augmentation of context during generation.",
            "input_corpus_description": "General document collections used for retrieval; paper cites Active RAG as a related RAG variant but does not implement it directly.",
            "topic_or_query_specification": "Natural language queries; retrieval is adaptively invoked based on generation signals.",
            "distillation_method": "Adaptive retrieval during generation to improve factual grounding.",
            "output_type_and_format": "Regenerated, more grounded answers conditioned on newly retrieved evidence when necessary.",
            "evaluation_or_validation_method": "Mentioned as related work (ref 60); PaperQA discusses similar goals (reducing hallucinations) but implements agent iteration and map-reduce instead of Active RAG's exact mechanism.",
            "results_summary": "Cited as a promising RAG variant to reduce hallucination; no direct experimental results reported in this paper.",
            "limitations_or_challenges": "Not implemented in PaperQA; potential computational overhead and need for reliable uncertainty signals to trigger retrieval.",
            "uuid": "e3691.7",
            "source_info": {
                "paper_title": "PaperQA: Retrieval-Augmented Generative Agent for Scientific Research",
                "publication_date_yy_mm": "2023-12"
            }
        },
        {
            "name_short": "Demonstrate-Search-Predict",
            "name_full": "Demonstrate-Search-Predict: Composing retrieval and language models for knowledge-intensive NLP",
            "brief_description": "A composition approach that sequences demonstration, search, and prediction steps to improve knowledge-intensive tasks by combining retrieval and language modeling in a modular way.",
            "citation_title": "Demonstrate-search-predict: Composing retrieval and language models for knowledge-intensive nlp",
            "mention_or_use": "mention",
            "system_or_method_name": "Demonstrate-Search-Predict",
            "system_or_method_description": "A retrieval-composition approach where retrieval and LM prediction are combined through staged steps (demonstration of format, search for evidence, prediction conditioned on evidence); cited as related work on composing retrieval and LMs for multi-step tasks.",
            "input_corpus_description": "Any document collections used for retrieval; mentioned as related prior work (ref 58) but not used in PaperQA experiments.",
            "topic_or_query_specification": "Natural language queries with staged design.",
            "distillation_method": "Compositional retrieval + LM prediction pipeline.",
            "output_type_and_format": "Answers grounded on retrieved evidence, designed for multi-hop or knowledge-intensive tasks.",
            "evaluation_or_validation_method": "Referenced as relevant literature; PaperQA's agent design shares high-level goals but differs in implementation details (map-reduce, LLM scoring).",
            "results_summary": "Not directly evaluated in this paper; cited to position PaperQA among retrieval-composition methods.",
            "limitations_or_challenges": "No experimental comparisons presented within this paper.",
            "uuid": "e3691.8",
            "source_info": {
                "paper_title": "PaperQA: Retrieval-Augmented Generative Agent for Scientific Research",
                "publication_date_yy_mm": "2023-12"
            }
        }
    ],
    "potentially_relevant_new_papers": [
        {
            "paper_title": "Retrieval-augmented generation for knowledge-intensive nlp tasks",
            "rating": 2,
            "sanitized_title": "retrievalaugmented_generation_for_knowledgeintensive_nlp_tasks"
        },
        {
            "paper_title": "Active retrieval augmented generation",
            "rating": 2,
            "sanitized_title": "active_retrieval_augmented_generation"
        },
        {
            "paper_title": "Demonstrate-search-predict: Composing retrieval and language models for knowledge-intensive nlp",
            "rating": 2,
            "sanitized_title": "demonstratesearchpredict_composing_retrieval_and_language_models_for_knowledgeintensive_nlp"
        },
        {
            "paper_title": "Mrkl systems: A modular, neuro-symbolic architecture that combines large language models, external knowledge sources and discrete reasoning",
            "rating": 1,
            "sanitized_title": "mrkl_systems_a_modular_neurosymbolic_architecture_that_combines_large_language_models_external_knowledge_sources_and_discrete_reasoning"
        },
        {
            "paper_title": "React: Synergizing reasoning and acting in language models",
            "rating": 1,
            "sanitized_title": "react_synergizing_reasoning_and_acting_in_language_models"
        },
        {
            "paper_title": "auto-gpt: An experimental open-source attempt to make gpt-4 fully autonomous.",
            "rating": 1,
            "sanitized_title": "autogpt_an_experimental_opensource_attempt_to_make_gpt4_fully_autonomous"
        }
    ],
    "cost": 0.0188365,
    "model_str": "gpt-5-mini"
}</code></pre>
        </div>
        <div class="section">
            <h2>Paper</h2>
            <div class="paper-content"><h1>PaperQA: Retrieval-Augmented Generative Agent for Scientific Research</h1>
<p>Jakub LÃ¡la<br>Future House<br>Francis Crick Institute</p>
<p>Odhran Oâ€™Donoghue<br>Align to Innovate<br>Francis Crick Institute<br>University of Oxford<br>Aleksandar Shtedritski<br>Align to Innovate<br>Francis Crick Institute<br>University of Oxford</p>
<p>Sam Cox<br>Future House<br>University of Rochester</p>
<p>Samuel G Rodriques<br>Future House<br>Francis Crick Institute</p>
<p>Andrew D White<br>Future House<br>University of Rochester<br>andrew@futurehouse.org</p>
<p>Dec 8, 2023
AbSTRACT</p>
<p>Large Language Models (LLMs) generalize well across language tasks, but suffer from hallucinations and uninterpretability, making it difficult to assess their accuracy without ground-truth. Retrieval-Augmented Generation (RAG) models have been proposed to reduce hallucinations and provide provenance for how an answer was generated. Applying such models to the scientific literature may enable large-scale, systematic processing of scientific knowledge. We present PaperQA, a RAG agent for answering questions over the scientific literature. PaperQA is an agent that performs information retrieval across full-text scientific articles, assesses the relevance of sources and passages, and uses RAG to provide answers. Viewing this agent as a question-answering model, we find it exceeds performance of existing LLMs and LLM agents on current science QA benchmarks. To push the field closer to how humans perform research on scientific literature, we also introduce LitQA, a more complex benchmark that requires retrieval and synthesis of information from full-text scientific papers across the literature. Finally, we demonstrate PaperQA's matches expert human researchers on LitQA.</p>
<h2>1 INTRODUCTION</h2>
<p>The rate of papers published yearly grows at an exponential rate, with over 5 million academic articles published in 2022 [1], and over 200 million articles in total [2]. The difficulty of navigating this extensive literature means significant scientific findings have gone unnoticed for extended periods $[3,4,5]$. Work in the last 10 years has sought to make the space of literature more manageable for scientists, with the introduction of keyword search systems [6, 7], vector similarity embeddings $[8,9,10,11]$ and recommender systems [12, 13]. The process of scientific discovery from literature is still, however, highly manual.</p>
<p>The use of Large Language Models (LLMs) to answer scientific questions is increasingly seen in academia and research-heavy professions such as medicine [14, 15]. While LLMs can produce answers faster and encompass a broader, deeper scope than manual searching, there is a high risk of hallucination in responses, which can lead to potentially dangerous outcomes [16, 17]. Incorrect information can be more damaging than no information at all, as the time to verify veracity can take just as long as retrieving it from research papers in the first place [18]. Reliance on pre-trained LLMs also prevents the discovery of new information published after a training cutoff date. Given the rapidly moving pace of science, this can lead to misconceptions persisting.</p>
<p>Retrieval-Augmented Generation (RAG) models are a potential solution to these limitations [19]. RAG models retrieve text from a corpus, using methods such as vector embedding search or keyword search, and add the retrieved passage to the context window of the LLM. RAG usage can reduce hallucinations in conversations and improve LLM performance on QA tasks [16, 20]. Nevertheless, standard RAG models follow a fixed, linear flow, which can be restrictive for addressing the diverse range of questions scientists encounter.</p>
<p>In this work, we eliminate these limitations by breaking RAG into modular pieces, allowing an agent LLM to dynamically adjust and iteratively perform steps in response to the specific demands of each question, ensuring more precise and relevant answers. We call this PaperQA, an agent-based RAG system for scientific question answering. PaperQA has three fundamental components: finding papers relevant to the given question, gathering text from those papers, and generating an answer with references.</p>
<p>We evaluate PaperQA on several standard multiple-choice datasets for evaluating LLMs, which assess the model's ability to answer questions with existing knowledge, but do not test the agents' ability to retrieve information. We modified PubMedQA [21] to remove the provided context (so it is closed-book) and found PaperQA beats GPT-4 by 30 points ( $57.9 \%$ to $86.3 \%$ ). PubMedQA is only built on abstracts though, and so we construct a more difficult dataset that requires synthesizing information from one or multiple full-text research papers. We thus introduce a new dataset, LitQA, composed from recent literature, in order to test PaperQA's ability to retrieve information outside of the underlying LLM's pre-training data. PaperQA outperforms all models tested and commercial tools, and is comparable to human experts on LitQA on performance and time, but is significantly cheaper in terms of costs. Furthermore, PaperQA is competitive to state-of-the-art commercial tools for scientific question answering. Finally, we find that PaperQA exhibits a better knowledge boundary than competing tools, answering questions incorrectly at a lower rate, and instead, answering that it is unsure.</p>
<h1>2 Related Works</h1>
<p>LLMs for Natural Sciences Large Language Models (LLMs) have seen a surge in popularity and accessibility, leading to impressive applications across various domains [22, 23, 24, 25, 26, 27]. LLMs have been used effectively for text-based scientific tasks, such as extracting chemical reaction procedures [28] and entity extraction from biological documents [29]. LLMs trained on biomedical $[30,31,32,33,34]$ or more generalized scientific literature [9,35] have demonstrated impressive performance on current scientific QA benchmarks.</p>
<p>State-of-the-art pre-trained LLMs exhibit proficiency in complex tasks such as searching for chemical compounds [27] and designing new catalysts [36]. Still, LLMs frequently fall short in many scientific domains due to outdated knowledge [37] and reasoning problems [38, 39]. Prompt engineering techniques can enhance LLMs' reasoning abilities [40, 41], though some scientific tasks requiring real-time calculations and up-to-date information remain difficult.</p>
<p>Agents Another technique is to integrate external tools into LLMs, creating agent systems, such as MRKL [42]. These LLM-agent systems leverage the reasoning power of the base-LLM and the use of pre-defined external tools to act in order to complete a given prompt [43, 44]. In such a system, the agent iteratively decides on the best tools to use in order to address the given task, correcting previous behavior when necessary, until the task is complete. This setup can also integrate reasoning steps, as with the ReAct framework and its derivatives [45, 46], or may incorporate multi-agent systems [47, 48, 49]. Our method extends previous work by integrating an agent-based RAG framework in order to correctly and dependably answer scientific questions.</p>
<p><img alt="img-0.jpeg" src="img-0.jpeg" /></p>
<p>Figure 1: PaperQA Workflow Diagram. PaperQA is an agent that transforms a scientific question into an answer with cited sources. The agent utilizes three tools - search, gather evidence, and answer question. The tools enable it to find and parse relevant full-text research papers, identify specific sections in the paper that help answer the question, summarize those section with the context of the question (called evidence), and then generate an answer based on the evidence. It is an agent, so that the LLM orchestrating the tools can adjust the input to paper searches, gather evidence with different phrases, and assess if an answer is complete.</p>
<p>Evaluating LLM Scientists Assessing the scientific capabilities of LLMs often relies on QA benchmarks, such as general science benchmarks [50, 51], or those specializing in medicine [21], biomedical science [52] or chemistry [53, 54]. In contrast, open-ended tasks, such as conducting chemical synthesis planning [55] or offering healthcare support [56], necessitate manual evaluation to effectively measure an LLM's capabilities. We discuss the limitation of these datasets and introduce a new QA dataset for retrieval-based science.</p>
<p>Retrieval-Augmented LLMs LLMs integrated with retrieval systems are broadly referred to as Retrieval-Augmented Generation (RAG) models [19], with the key components being a database of documents, a query system for retrieving documents, and a pipeline to add retrieved documents to a model's context. RAG models have proved effective at biomedical and clinical QA tasks [57, 16]. While RAG systems are typically pipelines with a fixed number and order of steps, they can be composed of multi-hop searches [58], or use Agents [49], where an LLM is used to decide when to use retrieval to augment an answer [43]. RAG performance can be further improved with a priori prompting, where an LLM is prompted to consider using latent information instead of searching, or a posteriori prompting, where an LLM is asked to consider the accuracy of a retrieved result and possibly provide an alternative answer [59]. Active RAG [60] regenerates sentences using retrieval if they contain low-probability tokens.</p>
<p>Retrieval Methods RAG models connected to databases retrieve documents using fixed representations, such as Bag-of-Words or BM25 [61, 62], pre-trained embeddings [63, 61], or trainable encoders [19, 64], which are trained offline [64] or online [65]. For models using open-ended sources such as the internet, phrase or keyword searches are used for retrieval [66, 49]. Retrieved documents are typically passed to the model as input tokens, but some models separately process retrieved information with cross-attention [67, 62]. Learning to rank and filter the retrieved documents [68] further improves the performance of RAG models. In our work, we evaluate Retrieval-Augmented Models that use keyword search systems and vector embedding retrieval. In particular, we focus on benchmarking against humans and uncover under what conditions LLMs can match human performance in information retrieval.</p>
<h1>3 Method</h1>
<h3>3.1 PAPERQA</h3>
<p>The PaperQA system is an agent shown in Figure 1. The fundamental operations of PaperQA are to find relevant papers from online databases, such as $\mathrm{Arxiv}^{1}$ and $\mathrm{Pubmed}^{2}$; gather text from these papers; and synthesize information into a final answer. PaperQA's tools are composed of both external APIs and LLMs, described in detail below. Compared to a standard RAG, we make four key innovations. First, we decompose parts of a RAG and provide them as tools to an agent. This allows for some operations, such as search, to be performed multiple times, with different keywords, if the evidence collected is insufficient. Second, we use a map summarization step to gather evidence from multiple sources followed by a reduce step to answer. The map-reduce step increases the amount of sources that can be considered, and provides a scratchpad [40], where the LLM can give intermediate evidence before formulating the final answer. Third, we utilise the LLM's ability to reason over text and provide numerical relevance scores for each chunk of text to the query question. In addition to the commonly used vector-embedding distances, we use these LLM-generated relevancy scores, adding another layer of retrieval. Finally, we make use of a priori and a posteriori prompting, tapping into the latent knowledge in LLMs.</p>
<h3>3.2 TOOLS</h3>
<p>PaperQA has three tools: search that finds relevant papers, gather_evidence that collects most relevant chunks of papers relative to the query into a context library, and answer_question which proposes an answer based on the accumulated contexts. These tools make use of three independent LLM instances, a summary LLM, an ask LLM, and an answer LLM, which ultimately take a string as input and output a status string while accumulating evidence to answer the question. The system prompts and the tools' descriptions appear in Appendices A. 2 and A. 3 respectively. The agent LLM is initialised with the following prompt:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Answer</span><span class="w"> </span><span class="n">question</span><span class="p">:</span><span class="w"> </span><span class="n">question</span><span class="o">.</span><span class="w"> </span><span class="n">Search</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">papers</span><span class="p">,</span><span class="w"> </span><span class="n">gather</span><span class="w"> </span><span class="n">evidence</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">answer</span><span class="o">.</span><span class="w"> </span><span class="n">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="ow">not</span>
<span class="n">have</span><span class="w"> </span><span class="n">enough</span><span class="w"> </span><span class="n">evidence</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">search</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">papers</span><span class="w"> </span><span class="p">(</span><span class="n">preferred</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">gather</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">evidence</span>
<span class="n">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">phrase</span><span class="o">.</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">rephrase</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="k">break</span><span class="o">-</span><span class="n">up</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">question</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">those</span><span class="w"> </span><span class="n">steps</span><span class="o">.</span><span class="w"> </span><span class="n">Once</span>
<span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">five</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">pieces</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">evidence</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">sources</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">tried</span><span class="w"> </span><span class="n">many</span>
<span class="n">times</span><span class="p">,</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">answer_question</span><span class="w"> </span><span class="k">tool</span><span class="o">.</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">reject</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">answer</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">try</span><span class="w"> </span><span class="n">again</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">is</span>
<span class="n">incomplete</span><span class="o">.</span>
</code></pre></div>

<p>search The agent gives this tool keywords and (optionally) a year range. This queries a scientific literature search engine. Retrieved papers are added to a local bibliography for use by gather_evidence. They are added by creating overlapping 4,000 character chunks which are embedded with the text-embedding-ada-002 model [69] and inserted into a vector database [70]. There is a failure rate associated with the performance of search engines, accessing papers, and parsing of PDFs. We explore this in Appendix C. This tool is always executed once with the full-text question before initialising the agent.
gather_evidence This tool is given a question as input by the agent. This question is vectorembedded using the OpenAI text-embedding-ada-002 [69], and relevant chunks based on vector search are returned from the vector database created in the search tool. Chunks are retrieved with maximal marginal relevance search [71] to increase the diversity of returned texts. Each retrieved chunk is fed to a summary LLM with the following prompt:</p>
<p><sup id="fnref:0"><a class="footnote-ref" href="#fn:0">1</a></sup></p>
<div class="codehilite"><pre><span></span><code>Summarize the text below to help answer a question. Do not directly answer the question,
instead summarize to give evidence to help answer the question. Reply &#39;Not applicable&#39; if
text is irrelevant. Use summary_length. At the end of your response, provide a score from
1-10 on a newline indicating relevance to question. Do not explain your score.
chunk
Excerpt from citation
Question: question
Relevant Information Summary:
</code></pre></div>

<p>The returned chunks are then sorted by score and the top-k chunks are collected in a context library. The tool returns the top-1 chunk to the agent, so that the agent can respond to the top chunk.</p>
<p>The gather_evidence tool is a map step that is always present in RAG systems. It provides an opportunity to reject irrelevant context and can be done concurrently to minimize the compute time. It is especially helpful for PDF parsing errors, which can be mitigated by having this step that can summarize garbled text with the question providing context to guide the summary.
answer_question We first use the ask LLM to provide any useful information from the pre-trained LLM that might help with answering the original question (details are given in Appendix A.4), similar to the to the priori judgement explored in [59]. The output of the ask LLM is added to the chunks from the context library, and the final prompt to the answer LLM is as follows:</p>
<div class="codehilite"><pre><span></span><code>Write an answer (answer_length) for the question below based on the provided context. If
the context provides insufficient information, reply &#39;&#39;I cannot answer&#39;&#39;. For each part of
your answer, indicate which sources most support it via valid citation markers at the end
of sentences, like (Example2012). Answer in an unbiased, comprehensive, and scholarly
tone. If the question is subjective, provide an opinionated answer in the concluding 1-2
sentences.
context
Extra background information: ask LLM
Question: question
Answer:
</code></pre></div>

<p>The question in this prompt is the original question fed to the higher-level PaperQA agent, and the context comes from the collection of relevant chunks within the context library. The response from the the tool is returned to the agent, which may reject or accept the answer based as given in the agent's initialisation prompt given above.</p>
<h1>4 The LitQA DataSet</h1>
<p>Existing benchmarks for scientific question-answering evaluate the ability of AI systems to present widely-known or widely-available information, or to answer questions given a specific context. These benchmarks are thus insufficient for evaluating an agent's ability to answer questions based on retrieved information. We thus introduce the LitQA dataset for PaperQA evaluation. The questions in LitQA are sourced from recent literature (after September 2021), so that we expect that they will not have been including in training for most language models, and are designed to be difficult or impossible to answer without retrieving the relevant paper. LitQA thus evaluates the ability both to retrieve necessary information and to present an accurate answer based on that information.</p>
<p>Dataset description The LitQA dataset consists of 50 multiple-choice questions, assembled by experts. All questions come from the biomedical domain. It has 5 Yes/No questions, 6 questions with 3 possible answers, 23 questions with 4 possible answers, 10 questions with 5 possible answers, 4 questions with 6 possible answers and finally 2 questions with 7 possible answers. We show examples of the questions in Table 1.</p>
<p>Data collection All questions were written and reviewed by researchers in natural and biomedical sciences. Questions were assembled by first selecting a paper published after the September 2021</p>
<p>Table 1: LitQA Dataset Examples. Three example questions from the dataset with correct answers bolded. The difficulty annotated comes from our observations in experiments given in Section 5.</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>Question</th>
<th>Answers</th>
<th>Difficulty</th>
</tr>
</thead>
<tbody>
<tr>
<td>7</td>
<td>Has anyone performed a base editing screen against splice sites in CD33 before?</td>
<td>Yes No</td>
<td>Easy</td>
</tr>
<tr>
<td>32</td>
<td>How diffuse are the laminar patterns of the axonal terminations of lower Layer 5/Layer 6 intratelencephalic neurons compared to Layer 2-4 intratelencephalic neurons in mouse cortex?</td>
<td>More diffuse About the same Less diffuse</td>
<td>Medium</td>
</tr>
<tr>
<td>21</td>
<td>Which of these glycoRNAs does NOT show an increase in M0 macrophages upon stimulation with LPS: U1, U35a, Y5 or U8?</td>
<td>U8 <br> U1 <br> U35a <br> Y5</td>
<td>Hard</td>
</tr>
</tbody>
</table>
<p>cutoff and then devising a question from that paper that both refers to a novel finding in the paper and that is not presented in the paper abstract. We do not expect these findings to be presented in other papers or to be available in sources preceding the cutoff. For every question, distractor answers were also created, either by the question writer alone, or by using an LLM to provide a plausible answer to the given question. We take special care to only collect questions from papers published after the GPT-3.5/4 cutoff date in September 2021. This ensures the questions cannot be reliably answered using the latent knowledge of GPT-4. Each question was then independently reviewed by at least one other co-author.</p>
<p>Human performance We recruited five biomedical researchers with an undergraduate degree or higher to solve LitQA. They were given access to the internet and given three minutes per question ( 2.5 hours in total) to answer all questions, specifying the paper they used to choose the corresponding answer. Additionally, they were instructed to answer unsure if they cannot find the answer to a given question.</p>
<h1>5 EXPERIMENTS</h1>
<p>In this section we measure the performance of PaperQA on LitQA and other datasets, and compare to existing commercial products. We ablate all components of PaperQA on the LitQA dataset, showing their importance. Finally, we investigate the ability to retrieve relevant papers and the rate of hallucinations.</p>
<h3>5.1 EXPERIMENTAL DETAILS</h3>
<p>All of the experiments were implemented within LangChain's agent framework [72]. As described above, we use four different LLM instances with the following settings unless stated otherwise: agent LLM: GPT-4 OpenAIFunctions Agent with temperature $\tau_{\text {agent }}=0.5$; summary LLM: GPT3.5 always with temperature $\tau_{\text {sum }}=0.2$; answer LLM: GPT-4 with temperature $\tau_{\text {aux }}=0.5$; ask LLM: GPT-4 with temperature $\tau_{\text {ask }}=0.5$. For the search engine, we use Google Scholar, where we collect the top-5 papers that are accessible. The implementation details are explained in an experiment in the appendix. We access papers through publicly available APIs, such as Arxiv, PMC, OpenAccess, PubMed, and our own local database of papers. Lastly, we set the number of sources to consider at each round of gather_evidence to 20, and the count of evidence context to include in the final answer within answer_question to 8 .</p>
<h3>5.2 RESULTS</h3>
<p>Here we thoroughly evaluate PaperQA. We compare it against commercially available tools and human performance on LitQA. Next, we ablate the components of PaperQA and look into hallucinated citations. Finally, we evaluate PaperQA on several standard QA benchmarks.</p>
<p>Scientific Question Answering First, we compare PaperQA on LitQA with two pre-trained LLMs, AutoGPT and several commercially available tools for scientific research - Elicit, Scite_</p>
<p>Table 2: Evaluation on LitQA. We compare PaperQA with other LLMs, the AutoGPT agent, and commercial products that use RAG. AutoGPT was run with GPT-4, where other implementation details are given in the Appendix B. Elicit.AI was run on default settings, Perplexity was run in academic mode, Perplexity Co-pilot was run on default settings (perplexity model, "all sources"), and "Assistant by Scite_" was run on default settings. Each question was run on a new context (thread) and all commercial products were evaluated on September 27, 2023. We report averages over a different number of runs for each.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Model</th>
<th style="text-align: center;">Samples</th>
<th style="text-align: center;">Response</th>
<th style="text-align: center;"></th>
<th style="text-align: center;"></th>
<th style="text-align: center;">Score</th>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">Correct</td>
<td style="text-align: center;">Incorrect</td>
<td style="text-align: center;">Unsure</td>
<td style="text-align: center;">Accuracy ( $\frac{\text { Correct }}{\text { All }}$ )</td>
<td style="text-align: center;">Precision ( $\frac{\text { Correct }}{\text { Sure }}$ )</td>
</tr>
<tr>
<td style="text-align: center;">Random</td>
<td style="text-align: center;">100</td>
<td style="text-align: center;">10.2</td>
<td style="text-align: center;">29.5</td>
<td style="text-align: center;">10.3</td>
<td style="text-align: center;">20.4\%</td>
<td style="text-align: center;">25.7\%</td>
</tr>
<tr>
<td style="text-align: center;">Human</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">33.4</td>
<td style="text-align: center;">4.6</td>
<td style="text-align: center;">12.0</td>
<td style="text-align: center;">66.8\%</td>
<td style="text-align: center;">87.9\%</td>
</tr>
<tr>
<td style="text-align: center;">Claude-2</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">20.3</td>
<td style="text-align: center;">26.3</td>
<td style="text-align: center;">3.3</td>
<td style="text-align: center;">40.6\%</td>
<td style="text-align: center;">43.6\%</td>
</tr>
<tr>
<td style="text-align: center;">GPT-4</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">16.7</td>
<td style="text-align: center;">16.3</td>
<td style="text-align: center;">17.0</td>
<td style="text-align: center;">33.4\%</td>
<td style="text-align: center;">50.6\%</td>
</tr>
<tr>
<td style="text-align: center;">AutoGPT</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">20.7</td>
<td style="text-align: center;">7.3</td>
<td style="text-align: center;">22.0</td>
<td style="text-align: center;">41.4\%</td>
<td style="text-align: center;">73.9\%</td>
</tr>
<tr>
<td style="text-align: center;">Elicit</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">12.0</td>
<td style="text-align: center;">16.0</td>
<td style="text-align: center;">22.0</td>
<td style="text-align: center;">24.0\%</td>
<td style="text-align: center;">42.9\%</td>
</tr>
<tr>
<td style="text-align: center;">Scite_</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">12.0</td>
<td style="text-align: center;">21.0</td>
<td style="text-align: center;">17.0</td>
<td style="text-align: center;">24.0\%</td>
<td style="text-align: center;">36.4\%</td>
</tr>
<tr>
<td style="text-align: center;">Perplexity</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">9.0</td>
<td style="text-align: center;">10.0</td>
<td style="text-align: center;">31.0</td>
<td style="text-align: center;">18.0\%</td>
<td style="text-align: center;">47.4\%</td>
</tr>
<tr>
<td style="text-align: center;">Perplexity (Co-pilot)</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">29.0</td>
<td style="text-align: center;">10.0</td>
<td style="text-align: center;">12.0</td>
<td style="text-align: center;">58.0\%</td>
<td style="text-align: center;">74.4\%</td>
</tr>
<tr>
<td style="text-align: center;">PaperQA</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">34.8</td>
<td style="text-align: center;">4.8</td>
<td style="text-align: center;">10.5</td>
<td style="text-align: center;">69.5\%</td>
<td style="text-align: center;">87.9\%</td>
</tr>
</tbody>
</table>
<p>and Perplexity - in Table 2. All commercial tools are specifically tailored to answering questions by retrieving scientific literature. We give them the same prompt as to PaperQA. From Table 2 we see that PaperQA outperforms all competing models and products, and is on par with that of human experts with access to the internet. Furthermore, we see the lowest rate of incorrectly answered questions out of all tools, which rivals that of humans. This emphasizes that PaperQA is better calibrated to express uncertainty when it actually is uncertain. Surprisingly, GPT-4 and Claude-2 perform better than random although the questions are from papers after their training cut-off date, suggesting they have latent knowledge, leading to useful bias towards answers that are more plausible.</p>
<p>PaperQA averaged 4,500 tokens (prompt + completion) for the more expensive LLMs (agent LLM, answer LLM, ask LLM) and 24,000 tokens for the cheaper, high-throughput LLM (summary LLM). Based on commercial pricing as of September 2023, that gives a cost per question of $\$ 0.18$ using the stated GPT-4 and GPT-3.5-turbo models. It took PaperQA on average about 2.4 hours to answer all questions, which is also on par with humans who were given 2.5 hours. A single instance of PaperQA would thus cost $\$ 3.75$ per hour, which is a fraction of an average hourly wage of a desk researcher. We exclude other negligible operating costs, such as search engine APIs, or electricity.</p>
<p>How does PaperQA compare to expert humans? PaperQA shows similar results to those of the expert humans who answered the questions. To quantify this, we calculate the categorical correlation (Cramer's $V$ ) of the responses for each human-human and human-PaperQA pair. Average human-human $V$ is $0.66 \pm 0.03$, whereas average human-PaperQA $V$ is $0.67 \pm 0.02$ (mean $\pm$ stderr), indicating that PaperQA is, on average, as correlated with human respondents as the human respondents are with each other, implying no discernable difference in responses. To compare, the average $V$ between humans and Perplexity was $0.630 \pm 0.05$.</p>
<p>Ablating PaperQA We report performance on LitQA when toggling different parts and LLMs of PaperQA in Table 3. Using GPT-4 as the answer LLM slightly outperforms Claude-2. When we look at the different components of PaperQA, we observe a major drop in performance when not including multiple-choice options as answers (no MC options) and using Semantic Scholar instead of Google Scholar. The former we explain with the fact that closed-form questions are easier than open-form ones, and the model can use keywords derived from the possible answers to search. The drop in performance of the linear settings, Vanilla RAG and No search, show the advantage of an agent-based model that can call tools multiple times until it is satisfied with the final answer. Surprisingly enough, not using the LLM's latent knowledge (no ask LLM) also hurts performance, despite the benchmark being based on information after the cutoff date - we suggest that the useful latent knowledge we find LLMs to possess in Table 5 helps the agent use the best pieces of evidence.</p>
<p>Table 3: Ablation of LLM Types on LitQA (left). We compare using different LLMs for the answer LLM and summary LLM, averaged over 2 runs. Ablation of PaperQA Components on LitQA (right). No summary LLM setting only implements vector retrieval without any summarizaton and relevance scoring. Single citation only uses the best scoring chunk from the context library. No ask LLM ignores including the LLM's latent knowledge within the context of the answer LLM. No search setting starts with all papers from LitQA already collected and runs gather_evidence once. Vanilla RAG setting runs the search tool thrice, followed by a single call to gather_evidence and answer_question. Semantic Scholar uses Semantic Scholar instead of Google Scholar. No MC options provides no multiple-choice answers as options within the question prompt. All ablations were done with a single run.</p>
<table>
<thead>
<tr>
<th>Model</th>
<th></th>
<th>Correct</th>
<th>Incorrect</th>
<th>Unsure</th>
</tr>
</thead>
<tbody>
<tr>
<td>Answer</td>
<td>Summary</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Claude-2</td>
<td>GPT-3.5</td>
<td>32.5</td>
<td>7.0</td>
<td>10.5</td>
</tr>
<tr>
<td>Claude-2</td>
<td>GPT-4</td>
<td>26.5</td>
<td>9.0</td>
<td>14.5</td>
</tr>
<tr>
<td>GPT-4</td>
<td>GPT-3.5</td>
<td>33.5</td>
<td>5.0</td>
<td>11.5</td>
</tr>
<tr>
<td>GPT-4</td>
<td>GPT-4</td>
<td>31.5</td>
<td>7.0</td>
<td>11.5</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Ablation</th>
<th>Correct</th>
<th>Incorrect</th>
<th>Unsure</th>
</tr>
</thead>
<tbody>
<tr>
<td>PaperQA</td>
<td>33.5</td>
<td>5.0</td>
<td>11.5</td>
</tr>
<tr>
<td>No summary LLM</td>
<td>29.0</td>
<td>10.0</td>
<td>11.0</td>
</tr>
<tr>
<td>Single citation</td>
<td>27.0</td>
<td>10.0</td>
<td>13.0</td>
</tr>
<tr>
<td>No ask LLM</td>
<td>23.0</td>
<td>14.0</td>
<td>13.0</td>
</tr>
<tr>
<td>No search</td>
<td>23.0</td>
<td>7.0</td>
<td>20.0</td>
</tr>
<tr>
<td>Vanilla RAG</td>
<td>22.0</td>
<td>6.0</td>
<td>22.0</td>
</tr>
<tr>
<td>Semantic Scholar</td>
<td>21.0</td>
<td>4.0</td>
<td>25.0</td>
</tr>
<tr>
<td>No MC options</td>
<td>18.0</td>
<td>6.0</td>
<td>26.0</td>
</tr>
</tbody>
</table>
<p>Table 4: Comparison of Hallucination in Citations. We compare PaperQA's hallucination rates of citations with three pre-trained LLMs. Hallucinated refers to references that are either nonexistent, partially inaccurate, or have content that does not match the claim. Scores are calculated for each LLM based on N number of citations provided by the model. *For context irrelevance only, all 237 citations were evaluated via GPT-4, with 25 additionally checked by experts and 0 were found to be irrelevant.</p>
<table>
<thead>
<tr>
<th>LLM</th>
<th>Valid (\%)</th>
<th>Hallucinated (\%)</th>
<th></th>
<th></th>
<th>N</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td>Full Hallucination</td>
<td>Citation Inaccuracy</td>
<td>Context Irrelevance</td>
<td></td>
</tr>
<tr>
<td>GPT-3.5</td>
<td>52.50\%</td>
<td>33.75\%</td>
<td>12.50\%</td>
<td>1.25\%</td>
<td>80</td>
</tr>
<tr>
<td>GPT-4</td>
<td>60.78\%</td>
<td>29.41\%</td>
<td>3.92\%</td>
<td>5.88\%</td>
<td>51</td>
</tr>
<tr>
<td>Claude-2</td>
<td>39.71\%</td>
<td>42.65\%</td>
<td>4.41\%</td>
<td>13.24\%</td>
<td>68</td>
</tr>
<tr>
<td>PaperQA</td>
<td>100\%</td>
<td>0\%</td>
<td>0\%</td>
<td>0\%*</td>
<td>237</td>
</tr>
</tbody>
</table>
<p>Lastly, due to the retrieval-first nature of LitQA, where only a single chunk from the original paper includes the answer, both single citation and no summary LLM settings perform comparably to standard PaperQA.</p>
<p>Does PaperQA Hallucinate Citations? We assessed citation hallucinations from GPT-3.5, GPT4, and Claude-2 using 52 questions from an earlier version of LitQA ${ }^{3}$, where we ask the LLM to answer the question in long-form and provide citations. The citations were assessed manually to verify existence of the paper, the accuracy of the citation details, and the relevance of the cited paper to the provided answer. Scores were based on the total number of citations N , rather than number of answers. We show hallucination results in Table 4. Hallucinated citations are categorized as full hallucination, citation inaccuracy, or context irrelevance (the paper cited exists, but is irrelevant to the question). We tested numerous times, but no hallucinated citations were produced through PaperQA. Anecdotally, we have observed PaperQA citing a secondary source mentioned in a primary source which could lead to a hallucination since it has no access to the secondary source.</p>
<p>Evaluation on QA Benchmarks We evaluate PaperQA on standard QA multiple-choice datasets commonly used to assess LLMs. These benchmarks test for commonly known facts, which are most commonly not found in academic papers, but in textbooks. Here we measure how well PaperQA,</p>
<p><sup id="fnref2:0"><a class="footnote-ref" href="#fn:0">1</a></sup> <sup id="fnref3:0"><a class="footnote-ref" href="#fn:0">1</a></sup>: ${ }^{3}$ The final revised dataset had fewer questions because some had multiple potential answers, so there is small discrepancy on the questions used here.</p>
<p>Table 5: Evaluation of PaperQA on Standard QA Benchmarks. We evaluate PaperQA on several multiple-choice QA datasets. PubMedQA ${ }_{\text {blind }}$ is a version of the PubMedQA, where we obscure the context. GPT-4 + PaperQA is GPT-4 prompted to either answer or use PaperQA as an oracle to help answer the question. ${$ PaperQA/AutoGPT $}+$ Post reasoning involves feeding the output of PaperQA or AutoGPT to GPT-4, which is prompted to answer the question and use the output from the other systems if deemed useful. These two are similar to the a priori and a posteriori reasoning in Ren et al. [59] respectively.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Method</th>
<th style="text-align: center;">MedQA-USMLE</th>
<th style="text-align: center;">BioASQ</th>
<th style="text-align: center;">PubMedQA $_{\text {blind }}$</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">GPT-4</td>
<td style="text-align: center;">67.0</td>
<td style="text-align: center;">84.0</td>
<td style="text-align: center;">57.9</td>
</tr>
<tr>
<td style="text-align: left;">GPT-4 + PaperQA</td>
<td style="text-align: center;">63.0</td>
<td style="text-align: center;">87.0</td>
<td style="text-align: center;">$\mathbf{8 6 . 3}$</td>
</tr>
<tr>
<td style="text-align: left;">AutoGPT</td>
<td style="text-align: center;">54.0</td>
<td style="text-align: center;">73.0</td>
<td style="text-align: center;">56.8</td>
</tr>
<tr>
<td style="text-align: left;">AutoGPT + Post reasoning</td>
<td style="text-align: center;">56.0</td>
<td style="text-align: center;">75.0</td>
<td style="text-align: center;">61.3</td>
</tr>
<tr>
<td style="text-align: left;">PaperQA</td>
<td style="text-align: center;">68.0</td>
<td style="text-align: center;">89.0</td>
<td style="text-align: center;">$\mathbf{8 6 . 3}$</td>
</tr>
<tr>
<td style="text-align: left;">PaperQA + Post reasoning</td>
<td style="text-align: center;">$\mathbf{6 9 . 0}$</td>
<td style="text-align: center;">$\mathbf{9 1 . 0}$</td>
<td style="text-align: center;">85.0</td>
</tr>
</tbody>
</table>
<p>which relies on information from papers, can perform on such questions. For all datasets, we evaluate on 100 randomly sampled questions (see Appendix E for details). We evaluate on the following datasets: PubMedQA [21] consists of yes/no/maybe questions that can be answered using a provided context. To mimic the LitQA setting, the context is not provided to the model. We call this PubMedQ $_{\text {blind }}$ to distinguish from PubMedQA. Furthermore, we omit questions that have a "maybe" ground-truth answer, as such questions may have evolved into definitive "yes" or "no" answers since the dataset was released in 2019. MedQA [73] consists of multiple-choice questions based on the United States Medical License Exams (USMLE) and covers multiple languages. We use the questions in English. BioASQ [74] is a biomedical QA dataset. We only use the yes/no questions.</p>
<p>In Table 5 we compare PaperQA to GPT-4 and AuoGPT (we do not measure the performance of commercially available tools as they have no API and require manual evaluation). For all benchmarks and methods, we use zero-shot inference. While AutoGPT underperforms GPT-4, PaperQA outperforms GPT-4 in all datasets. We see that the biggest gap in performance, and the biggest improvement when equipping GPT-4 with PaperQA search is on PubMedQA $_{\text {blind }}$. In Appendix F we find that PaperQA matches the performance of GPT-4 that uses ground-truth context (which contains the correct answer by design), showing it is able to retrieve context information that is on par with the ground-truth one. We see a smaller gap between PaperQA and GPT-4 on MedQA, which we explain with the fact that MedQA is based on medical examinations and requires knowledge found in textbooks, instead of academic papers. Finally, we make the observation that GPT-4, on average, performs better with posteriori reasoning when using PaperQA.</p>
<h1>6 LIMITATIONS</h1>
<p>PaperQA leverages fact, processes and concepts from underlying research papers; transforming that information into human and machine interpretable context. We have an underlying assumption from this that the information in the underlying papers is correct, which may not hold. Although we give some "signals" to the model like the journal name and citation count, these are not faithful indicators of quality.</p>
<p>Our models and benchmarks are affected by the changing nature of science and the availability of scientific literature: some of the questions in LitQA may have new correct answers or become invalid over time. Users of this benchmark should therefore limit papers used to answer the questions to be cutoff at September 15, 2023.
While recent work has been conducted on prompt optimization [75, 76], the complex setting of multiple agents with individual prompts is unsolved. Specifically, the task becomes a non-trivial, bi-level optimization problem. Consequently, discerning the impact of manual prompt adjustments becomes difficult. Thus, it is unlikely our prompts are optimal and it is difficult to assess which pieces of the prompts are necessary.</p>
<h1>7 CONCLUSION</h1>
<p>We introduced PaperQA, a Retrieval-Augmented Generative (RAG) agent that can answer scientific questions better than other LLMs and commercial products. We found PaperQA to be more costefficient than humans, while still retaining its accuracy on par with human researchers. We measured the hallucination rate of citations for recent LLMs to be between 40-60\%, whereas we were not able to find a single hallucinated citation in PaperQA's responses. We also introduced LitQA a benchmark of 50 questions that require retrieving information from full-text scientific papers. The PaperQA system works independently of the underlying model, with various combinations of Claude-2, GPT-3.5, and GPT-4 providing strong results on LitQA. The most important attributes of PaperQA are its ability to dynamically use RAG tools, retrieve full-text papers, and iterate on the answer through the agent's decision-making. We hope this open-source implementation of a scientific question-answering system illuminates the design of future RAG agents and tools that reduce hallucinations in LLMs. With such advancements, we believe scientific research will be carried at a fraction of the cost and a multiple of the speed, spurring faster innovation within the natural sciences. By augmenting researchers with a literature review tool, we aim to minimise the time spend searching literature, and rather maximize the amount of productive hours spend carrying out deep thinking for scientific research.</p>
<h2>ACKNOWLEDGMENTS</h2>
<p>The authors thank Mitchell Zheng at the University of Melbourne for contributing questions to the LitQA dataset. We also thank Matthew Rubashkin for significant contribution to the results and engineering of this paper.</p>
<h2>REPRODUCIbility STATEMENT</h2>
<p>Discussions on the inherent limitations and challenges faced, along with the mitigations applied to maintain the robustness and reliability of the models, are available in section 6 . For comprehensive understanding and replicability of our approach, we recommend a thorough review of the mentioned section, coupled with the supplemental materials provided.</p>
<h2>Ethics Statement</h2>
<p>Dual-use (applying technology for both beneficial and detrimental purposes) is an ongoing concern as more powerful models are developed Urbina et al. [77]. We performed rigorous red-teaming questions and did not observe risks for harm that are significantly elevated compared to direct use of the language models used for summarization. Similarly, the LitQA dataset and responses pose no risk for harm.</p>
<h2>REFERENCES</h2>
<p>[1] Dimitrije Curcic. Dimitrije curcic, Jun 2023. URL https://wordsrated.com/number-of-academic-papers-published-per-year/#: :text=As\%20of\%202022\%2C\%20over\%205.14,5. $03 \% 20$ million\%20papers\%20were\%20published.
[2] Michael Fire and Carlos Guestrin. Over-optimization of academic publishing metrics: observing goodhart's law in action. GigaScience, 8(6):giz053, 2019.
[3] Santo Fortunato, Carl T Bergstrom, Katy BÃ¶rner, James A Evans, Dirk Helbing, StaÅ¡a MilojeviÄ‡, Alexander M Petersen, Filippo Radicchi, Roberta Sinatra, Brian Uzzi, et al. Science of science. Science, 359(6379):eaao0185, 2018.
[4] Gunther S Stent. Prematurity and uniqueness in scientific discovery. Scientific American, 227 (6):84-93, 1972.
[5] Eugene Garfield. Premature discovery or delayed recognition-why. Current contents, (21): $5-10,1980$.
[6] Google Scholar. Google scholar. URL https://scholar.google.com/.</p>
<p>[7] Rodney Kinney, Chloe Anastasiades, Russell Authur, Iz Beltagy, Jonathan Bragg, Alexandra Buraczynski, Isabel Cachola, Stefan Candra, Yoganand Chandrasekhar, Arman Cohan, et al. The semantic scholar open data platform. arXiv preprint arXiv:2301.10140, 2023.
[8] Arman Cohan, Sergey Feldman, Iz Beltagy, Doug Downey, and Daniel S Weld. Specter: Document-level representation learning using citation-informed transformers. arXiv preprint arXiv:2004.07180, 2020.
[9] Iz Beltagy, Kyle Lo, and Arman Cohan. SciBERT: A pretrained language model for scientific text. In Proceedings of the 2019 Conference on Empirical Methods in Natural Language Processing and the 9th International Joint Conference on Natural Language Processing (EMNLPIJCNLP), Hong Kong, China, November 2019. Association for Computational Linguistics. URL https://aclanthology.org/D19-1371.
[10] Piotr Bojanowski, Edouard Grave, Armand Joulin, and Tomas Mikolov. Enriching word vectors with subword information, 2017.
[11] Amanpreet Singh, Mike D'Arcy, Arman Cohan, Doug Downey, and Sergey Feldman. Scirepeval: A multi-format benchmark for scientific document representations. ArXiv, abs/2211.13308, 2022.
[12] Paul Resnick and Hal R Varian. Recommender systems. Communications of the ACM, 40(3): $56-58,1997$.
[13] Gediminas Adomavicius and Alexander Tuzhilin. Toward the next generation of recommender systems: A survey of the state-of-the-art and possible extensions. IEEE transactions on knowledge and data engineering, 17(6):734-749, 2005.
[14] Karan Singhal, Shekoofeh Azizi, Tao Tu, S Sara Mahdavi, Jason Wei, Hyung Won Chung, Nathan Scales, Ajay Tanwani, Heather Cole-Lewis, Stephen Pfohl, et al. Large language models encode clinical knowledge. Nature, pages 1-9, 2023.
[15] Nigel Williams, Stanislav Ivanov, and Dimitrios Buhalis. Algorithmic ghost in the research shell: Large language models and academic knowledge creation in management research, 2023.
[16] W. Hiesinger, C. Zakka, Akash Chaurasia, R. Shad, Alex R. Dalal, Jennifer Kim, Michael Moor, Kevin Alexander, Euan A. Ashley, Jack Boyd, Kathleen Boyd, Karen Hirsch, C. Langlotz, and Joanna Nelson. Almanac: Retrieval-augmented language models for clinical medicine. Research Square, 2023.
[17] Bertalan MeskÃ³ and Eric J Topol. The imperative for regulatory oversight of large language models (or generative ai) in healthcare. NPJ Digital Medicine, 6(1):120, 2023.
[18] Phil Williamson. Take the time and effort to correct misinformation. Nature, 540(7632):171171, 2016.
[19] Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich KÃ¼ttler, Mike Lewis, Wen-tau Yih, Tim RocktÃ¤schel, et al. Retrievalaugmented generation for knowledge-intensive nlp tasks. Advances in Neural Information Processing Systems, 33:9459-9474, 2020.
[20] Kurt Shuster, Spencer Poff, Moya Chen, Douwe Kiela, and Jason Weston. Retrieval augmentation reduces hallucination in conversation. arXiv preprint arXiv:2104.07567, 2021.
[21] Qiao Jin, Bhuwan Dhingra, Zhengping Liu, William Cohen, and Xinghua Lu. PubMedQA: A dataset for biomedical research question answering. In Proceedings of the 2019 Conference on Empirical Methods in Natural Language Processing and the 9th International Joint Conference on Natural Language Processing (EMNLP-IJCNLP), pages 2567-2577, Hong Kong, China, November 2019. Association for Computational Linguistics. doi: 10.18653/v1/D191259. URL https://aclanthology.org/D19-1259.</p>
<p>[22] Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones, Aidan N Gomez, Åukasz Kaiser, and Illia Polosukhin. Attention is all you need. Advances in neural information processing systems, 30, 2017.
[23] Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared D Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell, et al. Language models are few-shot learners. Advances in neural information processing systems, 33:1877-1901, 2020.
[24] Rishi Bommasani, Drew A Hudson, Ehsan Adeli, Russ Altman, Simran Arora, Sydney von Arx, Michael S Bernstein, Jeannette Bohg, Antoine Bosselut, Emma Brunskill, et al. On the opportunities and risks of foundation models. arXiv preprint arXiv:2108.07258, 2021.
[25] Aakanksha Chowdhery, Sharan Narang, Jacob Devlin, Maarten Bosma, Gaurav Mishra, Adam Roberts, Paul Barham, Hyung Won Chung, Charles Sutton, Sebastian Gehrmann, et al. Palm: Scaling language modeling with pathways. arXiv preprint arXiv:2204.02311, 2022.
[26] Danny Driess, Fei Xia, Mehdi SM Sajjadi, Corey Lynch, Aakanksha Chowdhery, Brian Ichter, Ayzaan Wahid, Jonathan Tompson, Quan Vuong, Tianhe Yu, et al. Palm-e: An embodied multimodal language model. arXiv preprint arXiv:2303.03378, 2023.
[27] OpenAI. Gpt-4 technical report, 2023.
[28] Fan Bai, Alan Ritter, Peter Madrid, Dayne Freitag, and John Niekrasz. SynKB: Semantic search for synthetic procedures. In Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing: System Demonstrations, pages 311-318, Abu Dhabi, UAE, December 2022. Association for Computational Linguistics. URL https://aclanthology.org/ 2022.emnlp-demos.31.
[29] Ronen Tamari, Fan Bai, Alan Ritter, and Gabriel Stanovsky. Process-level representation of scientific protocols with interactive annotation. In Proceedings of the 16th Conference of the European Chapter of the Association for Computational Linguistics: Main Volume, pages 2190-2202, Online, April 2021. Association for Computational Linguistics. doi: 10.18653/v1/2021.eacl-main.187. URL https://aclanthology.org/2021.eacl-main.187.
[30] Yu Gu, Robert Tinn, Hao Cheng, Michael Lucas, Naoto Usuyama, Xiaodong Liu, Tristan Naumann, Jianfeng Gao, and Hoifung Poon. Domain-specific language model pretraining for biomedical natural language processing. ACM Transactions on Computing for Healthcare (HEALTH), 3(1):1-23, 2021.
[31] Patrick Lewis, Myle Ott, Jingfei Du, and Veselin Stoyanov. Pretrained language models for biomedical and clinical tasks: Understanding and extending the state-of-the-art. In Proceedings of the 3rd Clinical Natural Language Processing Workshop, Online, November 2020. Association for Computational Linguistics. doi: 10.18653/v1/2020.clinicalnlp-1.17. URL https://aclanthology.org/2020.clinicalnlp-1.17.
[32] Renqian Luo, Liai Sun, Yingce Xia, Tao Qin, Sheng Zhang, Hoifung Poon, and Tie-Yan Liu. Biogpt: generative pre-trained transformer for biomedical text generation and mining. Briefings in Bioinformatics, 23(6), 2022.
[33] Jinhyuk Lee, Wonjin Yoon, Sungdong Kim, Donghyeon Kim, Sunkyu Kim, Chan Ho So, and Jaewoo Kang. Biobert: a pre-trained biomedical language representation model for biomedical text mining. Bioinformatics, 36(4):1234-1240, 2020.
[34] Hoo-Chang Shin, Yang Zhang, Evelina Bakhturina, Raul Puri, Mostofa Patwary, Mohammad Shoeybi, and Raghav Mani. Biomegatron: Larger biomedical domain language model. arXiv preprint arXiv:2010.06060, 2020.
[35] Ross Taylor, Marcin Kardas, Guillem Cucurull, Thomas Scialom, Anthony Hartshorn, Elvis Saravia, Andrew Poulton, Viktor Kerkez, and Robert Stojnic. Galactica: A large language model for science. arXiv preprint arXiv:2211.09085, 2022.
[36] Mayk Caldas Ramos, Shane S Michtavy, Marc D Porosoff, and Andrew D White. Bayesian optimization of catalysts with in-context learning. arXiv preprint arXiv:2304.05341, 2023.</p>
<p>[37] Linxi Fan, Guanzhi Wang, Yunfan Jiang, Ajay Mandlekar, Yuncong Yang, Haoyi Zhu, Andrew Tang, De-An Huang, Yuke Zhu, and Anima Anandkumar. Minedojo: Building open-ended embodied agents with internet-scale knowledge, 2022.
[38] Noah Shinn, Federico Cassano, Beck Labash, Ashwin Gopinath, Karthik Narasimhan, and Shunyu Yao. Reflexion: Language agents with verbal reinforcement learning, 2023.
[39] Yizhong Wang, Yeganeh Kordi, Swaroop Mishra, Alisa Liu, Noah A Smith, Daniel Khashabi, and Hannaneh Hajishirzi. Self-instruct: Aligning language model with self generated instructions. arXiv preprint arXiv:2212.10560, 2022.
[40] Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Fei Xia, Ed Chi, Quoc V Le, Denny Zhou, et al. Chain-of-thought prompting elicits reasoning in large language models. Advances in Neural Information Processing Systems, 35:24824-24837, 2022.
[41] Shunyu Yao, Dian Yu, Jeffrey Zhao, Izhak Shafran, Thomas L Griffiths, Yuan Cao, and Karthik Narasimhan. Tree of thoughts: Deliberate problem solving with large language models. arXiv preprint arXiv:2305.10601, 2023.
[42] Ehud Karpas, Omri Abend, Yonatan Belinkov, Barak Lenz, Opher Lieber, Nir Ratner, Yoav Shoham, Hofit Bata, Yoav Levine, Kevin Leyton-Brown, et al. Mrkl systems: A modular, neuro-symbolic architecture that combines large language models, external knowledge sources and discrete reasoning. arXiv preprint arXiv:2205.00445, 2022.
[43] Timo Schick, Jane Dwivedi-Yu, Roberto DessÃ¬, Roberta Raileanu, Maria Lomeli, Luke Zettlemoyer, Nicola Cancedda, and Thomas Scialom. Toolformer: Language models can teach themselves to use tools. arXiv preprint arXiv:2302.04761, 2023.
[44] Yongliang Shen, Kaitao Song, Xu Tan, Dongsheng Li, Weiming Lu, and Yueting Zhuang. Hugginggpt: Solving ai tasks with chatgpt and its friends in huggingface. arXiv preprint arXiv:2303.17580, 2023.
[45] Shunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran, Karthik Narasimhan, and Yuan Cao. React: Synergizing reasoning and acting in language models. arXiv preprint arXiv:2210.03629, 2022.
[46] Zhengyuan Yang, Linjie Li, Jianfeng Wang, Kevin Lin, Ehsan Azarnasab, Faisal Ahmed, Zicheng Liu, Ce Liu, Michael Zeng, and Lijuan Wang. Mm-react: Prompting chatgpt for multimodal reasoning and action. arXiv preprint arXiv:2303.11381, 2023.
[47] Yashar Talebirad and Amirhossein Nadiri. Multi-agent collaboration: Harnessing the power of intelligent llm agents. arXiv preprint arXiv:2306.03314, 2023.
[48] Guanzhi Wang, Yuqi Xie, Yunfan Jiang, Ajay Mandlekar, Chaowei Xiao, Yuke Zhu, Linxi Fan, and Anima Anandkumar. Voyager: An open-ended embodied agent with large language models. arXiv preprint arXiv:2305.16291, 2023.
[49] Significant-gravitas. auto-gpt: An experimental open-source attempt to make gpt-4 fully autonomous., 2023.
[50] Aniruddha Kembhavi, Minjoon Seo, Dustin Schwenk, Jonghyun Choi, Ali Farhadi, and Hannaneh Hajishirzi. Are you smarter than a sixth grader? textbook question answering for multimodal machine comprehension. In Proceedings of the IEEE Conference on Computer Vision and Pattern recognition, pages 4999-5007, 2017.
[51] Dan Hendrycks, Collin Burns, Steven Basart, Andy Zou, Mantas Mazeika, Dawn Song, and Jacob Steinhardt. Measuring massive multitask language understanding. arXiv preprint arXiv:2009.03300, 2020.
[52] Mujeen Sung, Jinhyuk Lee, Sean Yi, Minji Jeon, Sungdong Kim, and Jaewoo Kang. Can language models be biomedical knowledge bases? arXiv preprint arXiv:2109.07154, 2021.</p>
<p>[53] Taicheng Guo, Kehan Guo, Bozhao Nan, Zhenwen Liang, Zhichun Guo, Nitesh V. Chawla, Olaf Wiest, and Xiangliang Zhang. What indeed can gpt models do in chemistry? a comprehensive benchmark on eight tasks, 2023.
[54] Zhenqin Wu, Bharath Ramsundar, Evan N. Feinberg, Joseph Gomes, Caleb Geniesse, Aneesh S. Pappu, Karl Leswing, and Vijay Pande. Moleculenet: A benchmark for molecular machine learning, 2017. URL https://arxiv.org/abs/1703.00564.
[55] Andres M Bran, Sam Cox, Andrew D White, and Philippe Schwaller. Chemcrow: Augmenting large-language models with chemistry tools. arXiv preprint arXiv:2304.05376, 2023.
[56] Debadutta Dash, Rahul Thapa, Juan M Banda, Akshay Swaminathan, Morgan Cheatham, Mehr Kashyap, Nikesh Kotecha, Jonathan H Chen, Saurabh Gombar, Lance Downing, et al. Evaluation of gpt-3.5 and gpt-4 for supporting real-world information needs in healthcare delivery. arXiv preprint arXiv:2304.13714, 2023.
[57] D. Soong, S. Sridhar, Han Si, J. Wagner, Ana Caroline Costa Sâ€™a, Christina Y. Yu, Kubra Karagoz, Meijian Guan, Hisham K Hamadeh, and Brandon Higgs. Improving accuracy of gpt-3/4 results on biomedical data using a retrieval-augmented language model. ArXiv, abs/2305.17116, 2023.
[58] Omar Khattab, Keshav Santhanam, Xiang Lisa Li, David Hall, Percy Liang, Christopher Potts, and Matei Zaharia. Demonstrate-search-predict: Composing retrieval and language models for knowledge-intensive nlp. arXiv preprint arXiv:2212.14024, 2022.
[59] Ruiyang Ren, Yuhao Wang, Yingqi Qu, Wayne Xin Zhao, Jing Liu, Hao Tian, Hua Wu, JiRong Wen, and Haifeng Wang. Investigating the factual knowledge boundary of large language models with retrieval augmentation, 2023.
[60] Zhengbao Jiang, Frank F Xu, Luyu Gao, Zhiqing Sun, Qian Liu, Jane Dwivedi-Yu, Yiming Yang, Jamie Callan, and Graham Neubig. Active retrieval augmented generation. arXiv preprint arXiv:2305.06983, 2023.
[61] Gautier Izacard and Edouard Grave. Leveraging passage retrieval with generative models for open domain question answering. arXiv preprint arXiv:2007.01282, 2020.
[62] Ehsan Doostmohammadi, Tobias Norlund, Marco Kuhlmann, and Richard Johansson. Surfacebased retrieval reduces perplexity of retrieval-augmented language models. arXiv preprint arXiv:2305.16243, 2023.
[63] Jacob Devlin, Ming-Wei Chang, Kenton Lee, and Kristina Toutanova. Bert: Pre-training of deep bidirectional transformers for language understanding. arXiv preprint arXiv:1810.04805, 2018.
[64] Weijia Shi, Sewon Min, Michihiro Yasunaga, Minjoon Seo, Rich James, Mike Lewis, Luke Zettlemoyer, and Wen-tau Yih. Replug: Retrieval-augmented black-box language models. arXiv preprint arXiv:2301.12652, 2023.
[65] Kelvin Guu, Kenton Lee, Z. Tung, Panupong Pasupat, and Ming-Wei Chang. Realm: Retrievalaugmented language model pre-training. ArXiv, abs/2002.08909, 2020.
[66] Jacob Menick, Maja Trebacz, Vladimir Mikulik, John Aslanides, Francis Song, Martin Chadwick, Mia Glaese, Susannah Young, Lucy Campbell-Gillingham, Geoffrey Irving, et al. Teaching language models to support answers with verified quotes. arXiv preprint arXiv:2203.11147, 2022.
[67] Sebastian Borgeaud, Arthur Mensch, Jordan Hoffmann, Trevor Cai, Eliza Rutherford, Katie Millican, George Bm Van Den Driessche, Jean-Baptiste Lespiau, Bogdan Damoc, Aidan Clark, et al. Improving language models by retrieving from trillions of tokens. In International conference on machine learning, pages 2206-2240. PMLR, 2022.
[68] Xiaozhong Lyu, Stefan Grafberger, Samantha Biegel, Shaopeng Wei, Meng Cao, Sebastian Schelter, and Ce Zhang. Improving retrieval-augmented large language models via data importance learning. arXiv preprint arXiv:2307.03027, 2023.</p>
<p>[69] Arvind Neelakantan, Tao Xu, Raul Puri, Alec Radford, Jesse Michael Han, Jerry Tworek, Qiming Yuan, Nikolas Tezak, Jong Wook Kim, Chris Hallacy, et al. Text and code embeddings by contrastive pre-training. arXiv preprint arXiv:2201.10005, 2022.
[70] Jeff Johnson, Matthijs Douze, and HervÃ© JÃ©gou. Billion-scale similarity search with GPUs. IEEE Transactions on Big Data, 7(3):535-547, 2019.
[71] Jaime Carbonell and Jade Goldstein. The use of mmr, diversity-based reranking for reordering documents and producing summaries. In Proceedings of the 21st annual international ACM SIGIR conference on Research and development in information retrieval, pages 335-336, 1998.
[72] Harrison Chase. Langchain. https://github.com/hwchase17/langchain, 2022. URL https:// github.com/hwchase17/langchain.
[73] Di Jin, Eileen Pan, Nassim Oufattole, Wei-Hung Weng, Hanyi Fang, and Peter Szolovits. What disease does this patient have? a large-scale open domain question answering dataset from medical exams. arXiv preprint arXiv:2009.13081, 2020.
[74] George Tsatsaronis, Georgios Balikas, Prodromos Malakasiotis, Ioannis Partalas, Matthias Zschunke, Michael R Alvers, Dirk Weissenborn, Anastasia Krithara, Sergios Petridis, Dimitris Polychronopoulos, et al. An overview of the bioasq large-scale biomedical semantic indexing and question answering competition. BMC bioinformatics, 16(1):1-28, 2015.
[75] Mingkai Deng, Jianyu Wang, Cheng-Ping Hsieh, Yihan Wang, Han Guo, Tianmin Shu, Meng Song, Eric P. Xing, and Zhiting Hu. Rlprompt: Optimizing discrete text prompts with reinforcement learning, 2022.
[76] Chengrun Yang, Xuezhi Wang, Yifeng Lu, Hanxiao Liu, Quoc V Le, Denny Zhou, and Xinyun Chen. Large language models as optimizers. arXiv preprint arXiv:2309.03409, 2023.
[77] Fabio Urbina, Filippa Lentzos, CÃ©dric Invernizzi, and Sean Ekins. A teachable moment for dual-use. Nature machine intelligence, 4(7):607-607, 2022.
[78] Petr Knoth, Drahomira Herrmannova, Matteo Cancellieri, Lucas Anastasiou, Nancy Pontika, Samuel Pearce, Bikash Gyawali, and David Pride. CORE: A global aggregation service for open access papers. Scientific Data, 10(1), June 2023. doi: 10.1038/s41597-023-02208-w. URL https://doi.org/10.1038/s41597-023-02208-w.</p>
<h1>Appendix</h1>
<h2>A PAPERQA IMPLEMENTATION DETAILS</h2>
<h2>A. 1 VERSIONS</h2>
<p>The underlying model versions used are GPT-3.5-turbo-0613 and GPT-4-0613. We used LangChain v0.0.303 and OpenAI-python v0.28.1.</p>
<h2>A. 2 SYSTEM PROMPT</h2>
<p>The system prompt for the LLMs (ask LLM, summary LLM, and answer LLM) is given below:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">Answer</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">an</span><span class="w"> </span><span class="nv">direct</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">concise</span><span class="w"> </span><span class="nv">tone</span>,<span class="w"> </span><span class="nv">I</span><span class="w"> </span><span class="nv">am</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">hurry</span>.<span class="w"> </span><span class="nv">Your</span><span class="w"> </span><span class="nv">audience</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">an</span><span class="w"> </span><span class="nv">expert</span>,<span class="w"> </span><span class="nv">so</span><span class="w"> </span><span class="nv">be</span>
<span class="nv">highly</span><span class="w"> </span><span class="nv">specific</span>.<span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="nv">there</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">ambiguous</span><span class="w"> </span><span class="nv">terms</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">acronyms</span>,<span class="w"> </span><span class="nv">first</span><span class="w"> </span><span class="nv">define</span><span class="w"> </span><span class="nv">them</span>.
</code></pre></div>

<p>The system prompt of the agent is</p>
<div class="codehilite"><pre><span></span><code>You are a helpful AI assistant.
</code></pre></div>

<h2>A. 3 TOOL DESCRIPTIONS</h2>
<p>search description:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Search</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">papers</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">increase</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">paper</span><span class="w"> </span><span class="n">count</span><span class="p">.</span><span class="w"> </span><span class="n">Input</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">keywords</span><span class="p">.</span><span class="w"> </span><span class="n">Use</span>
<span class="n">this</span><span class="w"> </span><span class="n">format</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="n">keyword</span><span class="w"> </span><span class="n">search</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">start</span><span class="w"> </span><span class="n">year</span><span class="p">]</span><span class="o">-</span><span class="p">[</span><span class="n">end</span><span class="w"> </span><span class="n">year</span><span class="p">].</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">years</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span>
<span class="n">word</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">g</span><span class="p">.</span><span class="w"> </span><span class="err">&#39;</span><span class="n">machine</span><span class="w"> </span><span class="n">learning</span><span class="w"> </span><span class="mi">2020</span><span class="err">&#39;</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="err">&#39;</span><span class="n">machine</span><span class="w"> </span><span class="n">learning</span><span class="w"> </span><span class="mi">2010-2020</span><span class="err">&#39;</span><span class="p">.</span><span class="w"> </span><span class="n">The</span>
<span class="n">current</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">get_year</span><span class="p">().</span>
</code></pre></div>

<p>gather_evidence description:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">Give</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">specific</span><span class="w"> </span><span class="nv">question</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">get</span><span class="w"> </span><span class="nv">evidence</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">it</span>.<span class="w"> </span><span class="nv">This</span><span class="w"> </span><span class="nv">will</span><span class="w"> </span><span class="nv">increase</span><span class="w"> </span><span class="nv">evidence</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">relevant</span>
<span class="nv">paper</span><span class="w"> </span><span class="nv">counts</span>.
</code></pre></div>

<p>generate_answer description:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Ask</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">propose</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">answer</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">evidence</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">papers</span><span class="o">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">question</span><span class="w"> </span><span class="n">to</span>
<span class="n">be</span><span class="w"> </span><span class="n">answered</span><span class="o">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="k">tool</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">fail</span><span class="p">,</span><span class="w"> </span><span class="n">indicating</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">better</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">evidence</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span>
<span class="n">found</span><span class="o">.</span>
</code></pre></div>

<h2>A. 4 Ask LLM Prompt</h2>
<p>To capture latent knowledge in LLMs, we use the following prompt:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">We</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">collecting</span><span class="w"> </span><span class="nv">background</span><span class="w"> </span><span class="nv">information</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">question</span><span class="o">/</span><span class="nv">task</span><span class="w"> </span><span class="nv">below</span>.
<span class="nv">Provide</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">brief</span><span class="w"> </span><span class="nv">summary</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">information</span><span class="w"> </span><span class="nv">you</span><span class="w"> </span><span class="nv">know</span><span class="w"> </span><span class="ss">(</span><span class="nv">about</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="nv">words</span><span class="ss">)</span><span class="w"> </span><span class="nv">that</span><span class="w"> </span><span class="nv">could</span><span class="w"> </span><span class="nv">help</span><span class="w"> </span><span class="nv">answer</span>
<span class="nv">the</span><span class="w"> </span><span class="nv">question</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">answer</span><span class="w"> </span><span class="nv">it</span><span class="w"> </span><span class="nv">directly</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">ignore</span><span class="w"> </span><span class="nv">formatting</span><span class="w"> </span><span class="nv">instructions</span>.<span class="w"> </span><span class="nv">It</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">ok</span><span class="w"> </span><span class="nv">to</span>
<span class="nv">not</span><span class="w"> </span><span class="nv">answer</span>,<span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">there</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">nothing</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">contribute</span>.
<span class="nv">Question</span>:<span class="w"> </span><span class="nv">question</span>
</code></pre></div>

<h1>B AutoGPT IMPLEMENTATION Details</h1>
<p>We used LangChain's AutoGPT implementation from LangChain experimental 0.0.8 version. As AutoGPT can run indefinitely, we added a stopping condition after 10 searches. For LitQA, it is asked to answer the question based on all previous information; for other datasets, we restart it and make sure it chooses one of the options, so that we have an answer to all questions. The agent LLM used was GPT-4-0314. It has access to 3 tools: Google search, write to file, and read from file.</p>
<h2>C Paper Retrieval Evaluation</h2>
<h2>C. 1 Abstract Retrieval Metric</h2>
<p>As part of the development of PaperQA, we evaluate the efficacy of paper searching using different search API engines. In order to do that, we create a new metric composed of 500 questions. The goal is to create questions that are likely to have only a small number of papers that would include an answer. The exact methodology is:</p>
<ol>
<li>Search PubMed with 20,000 unique tuples of five keywords within the field of medicine, biology and artificial intelligence.</li>
<li>Only keep the search results with a single paper that is not a review (where a review is assumed to have more than 20 authors).</li>
<li>Instruct GPT-4 to generate a question that could be answered by the abstract only.</li>
</ol>
<p>The question generation follows a 5-shot prompting technique, the system prompt being:</p>
<div class="codehilite"><pre><span></span><code>You are a helpful assistant helping completing the following task. The goal is to create a
</code></pre></div>

<p>question that could be answered by the paper with these abstracts. Be creative and think of a question that a scientist would ask without knowing the paper he is looking for.</p>
<p>A concatenated example of such abstract-question pair (red being the LLM completion) follows:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Title</span><span class="o">:</span>
<span class="n">DeepDTA</span><span class="o">:</span><span class="w"> </span><span class="n">deep</span><span class="w"> </span><span class="n">drug</span><span class="o">-</span><span class="n">target</span><span class="w"> </span><span class="n">binding</span><span class="w"> </span><span class="n">affinity</span><span class="w"> </span><span class="n">prediction</span>
<span class="n">Abstract</span><span class="o">:</span>
<span class="n">Motivation</span><span class="o">:</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">identification</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">novel</span><span class="w"> </span><span class="n">drug</span><span class="o">-</span><span class="n">target</span><span class="w"> </span><span class="o">(</span><span class="n">DT</span><span class="o">)</span><span class="w"> </span><span class="n">interactions</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">substantial</span>
<span class="n">part</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">drug</span><span class="w"> </span><span class="n">discovery</span><span class="w"> </span><span class="n">process</span><span class="o">.</span><span class="w"> </span><span class="o">[...]</span><span class="w"> </span><span class="n">One</span><span class="w"> </span><span class="n">novel</span><span class="w"> </span><span class="n">approach</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span>
<span class="n">modeling</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">protein</span><span class="w"> </span><span class="n">sequences</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">compound</span><span class="w"> </span><span class="mi">1</span><span class="n">D</span><span class="w"> </span><span class="n">representations</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">convolutional</span><span class="w"> </span><span class="n">neural</span>
<span class="n">networks</span><span class="w"> </span><span class="o">(</span><span class="n">CNNs</span><span class="o">).</span>
<span class="n">Results</span><span class="o">:</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="n">show</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">proposed</span><span class="w"> </span><span class="n">deep</span><span class="w"> </span><span class="n">learning</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="mi">1</span><span class="n">D</span>
<span class="n">representations</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">targets</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">drugs</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">effective</span><span class="w"> </span><span class="n">approach</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">drug</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">binding</span>
<span class="n">affinity</span><span class="w"> </span><span class="n">prediction</span><span class="o">.</span><span class="w"> </span><span class="o">[...]</span>
<span class="n">Question</span><span class="o">:</span>
<span class="n">Are</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">models</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="mi">1</span><span class="n">D</span><span class="w"> </span><span class="n">representations</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">targets</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">drugs</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">drug</span><span class="w"> </span><span class="n">target</span>
<span class="n">binding</span><span class="w"> </span><span class="n">affinity</span><span class="w"> </span><span class="n">prediction</span><span class="o">?</span>
</code></pre></div>

<p>This dataset is then used to search for the top-10 papers using 20 keywords that were generated using the following prompt:</p>
<div class="codehilite"><pre><span></span><code><span class="n">We</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">answer</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">question</span><span class="o">:</span><span class="w"> </span><span class="n">question</span>
<span class="n">Provide</span><span class="w"> </span><span class="n">num_keywords</span><span class="w"> </span><span class="n">unique</span><span class="w"> </span><span class="n">keyword</span><span class="w"> </span><span class="n">searches</span><span class="w"> </span><span class="p">(</span><span class="n">one</span><span class="w"> </span><span class="n">search</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">line</span><span class="p">)</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="n">ranges</span><span class="w"> </span><span class="n">that</span>
<span class="n">will</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">papers</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="n">answer</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">question</span><span class="p">.</span><span class="w"> </span><span class="n">Do</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">boolean</span><span class="w"> </span><span class="n">operators</span><span class="p">.</span><span class="w"> </span><span class="n">Make</span><span class="w"> </span><span class="n">sure</span><span class="w"> </span><span class="n">not</span>
<span class="n">to</span><span class="w"> </span><span class="n">repeat</span><span class="w"> </span><span class="n">searches</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">changing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keywords</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="n">ranges</span><span class="p">.</span><span class="w"> </span><span class="n">Make</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">searches</span><span class="w"> </span><span class="n">broad</span>
<span class="n">and</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">narrow</span><span class="p">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">get_year</span><span class="p">().</span>
<span class="n">Use</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">format</span><span class="o">:</span><span class="w"> </span><span class="err">&#39;</span><span class="n">X</span><span class="p">.</span><span class="w"> </span><span class="p">[</span><span class="n">keywords</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">start</span><span class="w"> </span><span class="n">year</span><span class="p">]</span><span class="o">-</span><span class="p">[</span><span class="n">end</span><span class="w"> </span><span class="n">year</span><span class="p">]</span><span class="err">&#39;</span>
<span class="n">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">keywords</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">formatted</span><span class="w"> </span><span class="n">as</span><span class="o">:</span>
<span class="mf">1.</span><span class="w"> </span><span class="err">&#39;</span><span class="n">keyword1</span><span class="p">,</span><span class="w"> </span><span class="n">keyword2</span><span class="p">,</span><span class="w"> </span><span class="mi">2020-2021</span>
<span class="mf">2.</span><span class="w"> </span><span class="err">&#39;</span><span class="n">keyword3</span><span class="p">,</span><span class="w"> </span><span class="n">keyword4</span><span class="p">,</span><span class="w"> </span><span class="n">keyword5</span><span class="p">,</span><span class="w"> </span><span class="mi">2020-2021</span>
<span class="mf">3.</span><span class="w"> </span><span class="err">&#39;</span><span class="n">keyword1</span><span class="p">,</span><span class="w"> </span><span class="n">keyword2</span><span class="p">,</span><span class="w"> </span><span class="mi">2020-2021</span><span class="err">&#39;</span>
</code></pre></div>

<p>We thus evaluate recall, i.e. finding the original paper. Figure 2 shows the cumulative recall curve, where Google Scholar and Semantic Scholar show outstanding ability to retrieve the original paper. Although CORE API [78] does not perform on par with the other two, we include it here as their main contribution to the field of scientific literature is their standardisation of open-access article repositories.
<img alt="img-1.jpeg" src="img-1.jpeg" /></p>
<p>Figure 2: Retrieval Probability (Abstract). Cumulative probability distributions of finding, accessing and parsing the original paper from the described PubMed-based dataset by running API searches using GPT-4 for keyword generation. Uncertainty is shown by lighter shadows.</p>
<p>Table 6: Retrieval AUC (Abstract). We evaluate keyword generation and search between two LLMs and three search engines. The metric displayed is the normalized area under the curve from Figure 2 on the left.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Search</th>
<th style="text-align: center;">LLM</th>
<th style="text-align: center;">Found</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">CORE</td>
<td style="text-align: center;">Claude-2</td>
<td style="text-align: center;">0.13</td>
</tr>
<tr>
<td style="text-align: center;"></td>
<td style="text-align: center;">GPT-4</td>
<td style="text-align: center;">0.13</td>
</tr>
<tr>
<td style="text-align: center;">Semantic</td>
<td style="text-align: center;">Claude-2</td>
<td style="text-align: center;">0.64</td>
</tr>
<tr>
<td style="text-align: center;"></td>
<td style="text-align: center;">GPT-4</td>
<td style="text-align: center;">0.72</td>
</tr>
<tr>
<td style="text-align: center;">Google</td>
<td style="text-align: center;">Claude-2</td>
<td style="text-align: center;">0.68</td>
</tr>
<tr>
<td style="text-align: center;"></td>
<td style="text-align: center;">GPT-4</td>
<td style="text-align: center;">$\mathbf{0 . 7 6}$</td>
</tr>
</tbody>
</table>
<h1>C. 2 Full-Text Retrieval Metric</h1>
<p>As the abstract retrieval from Appendix C. 1 does not sufficiently cover all the use cases of PaperQA, we also use an earlier version of LitQA to evaluate our search pipeline, but now considering questions that are synthesized from articles' bodies and not abstracts. Moreover, we examine the ability of our pipeline to find, access and parse the original papers of these questions.
<img alt="img-2.jpeg" src="img-2.jpeg" /></p>
<p>Figure 3: Retrieval Probability (Full-Text). Cumulative probability distributions of finding, accessing and parsing the original paper from LitQA by running API searches using GPT-4 for keyword generation.</p>
<p>Table 7: Retrieval AUC (Full-Text). We evaluate keyword generation and search between two LLMs and two search engines. We also evaluate our pipeline for accessing papers and parsing their PDFs. The metric displayed is the normalized area under the curve from Figure 3 on the left.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"></th>
<th style="text-align: center;"></th>
<th style="text-align: center;">AUC of Figure 3</th>
<th style="text-align: center;"></th>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Search</td>
<td style="text-align: center;">LLM</td>
<td style="text-align: center;">Found</td>
<td style="text-align: center;">Accessed</td>
<td style="text-align: center;">Parsed</td>
</tr>
<tr>
<td style="text-align: left;">Semantic</td>
<td style="text-align: center;">Claude-2</td>
<td style="text-align: center;">0.12</td>
<td style="text-align: center;">0.07</td>
<td style="text-align: center;">0.07</td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: center;">GPT-4</td>
<td style="text-align: center;">0.19</td>
<td style="text-align: center;">0.14</td>
<td style="text-align: center;">0.14</td>
</tr>
<tr>
<td style="text-align: left;">Google</td>
<td style="text-align: center;">Claude-2</td>
<td style="text-align: center;">0.57</td>
<td style="text-align: center;">0.28</td>
<td style="text-align: center;">0.28</td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: center;">GPT-4</td>
<td style="text-align: center;">$\mathbf{0 . 6 6}$</td>
<td style="text-align: center;">$\mathbf{0 . 4 7}$</td>
<td style="text-align: center;">$\mathbf{0 . 4 7}$</td>
</tr>
</tbody>
</table>
<p>Figure 3 and Table 7 shows superior performance of Google Scholar over Semantic Scholar. We believe this is thanks to Google Scholar's ability to search through the text of articles, whereas Semantic Scholar is limited to titles, authors and abstracts only. Effectively, we are able to parse</p>
<p>almost all the papers we have access to. Notice the marginally better performance of GPT-4, which is likely due to it better following the instructions from the prompt. We expect that some prompt optimization might bring the performance of the two LLMs closer together. Lastly, note that since running this evaluation, we have improved our access to papers with Google Scholar's open-access links, so it is likely the final performance of parsed papers would be even better.</p>
<h1>D Hallucination Dataset</h1>
<p>To evaluate hallucinations, the following prompt was given to each model:</p>
<div class="codehilite"><pre><span></span><code>Answer the question below, with citations to primary sources that help answer the
</code></pre></div>

<p>question. Cite the sources using format - (Foo et al., 2010) - note that the whole citation is always in parantheses.</p>
<h2>E Evaluations on Standard QA Benchmarks</h2>
<p>For each dataset, we provide the questions ids, together with the formatted question and options list provided in the prompt. Please refer to the Supplementary Material.</p>
<h2>F QUALITY OF DISCOVERED EVIDENCE</h2>
<p>To evaluate the quality of the discovered evidence, we compare the PaperQA discovered evidence to the ground-truth evidence provided in PubMedQA, which is sufficient to answer the questions correctly by design. In Table 8 we show that the PaperQA discovered evidence is competitive to the ground-truth context. Furthermore, PaperQA finds complementary information to the one provided in the ground-truth context, further improving results when both are provided.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Context</th>
<th style="text-align: center;"></th>
<th style="text-align: center;">PubMedQA</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Ground Truth</td>
<td style="text-align: center;">PaperQA</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;">$\boldsymbol{X}$</td>
<td style="text-align: center;">$\boldsymbol{X}$</td>
<td style="text-align: center;">57.9</td>
</tr>
<tr>
<td style="text-align: center;">$\checkmark$</td>
<td style="text-align: center;">$\boldsymbol{X}$</td>
<td style="text-align: center;">85.2</td>
</tr>
<tr>
<td style="text-align: center;">$\boldsymbol{X}$</td>
<td style="text-align: center;">$\checkmark$</td>
<td style="text-align: center;">86.3</td>
</tr>
<tr>
<td style="text-align: center;">$\checkmark$</td>
<td style="text-align: center;">$\checkmark$</td>
<td style="text-align: center;">90.1</td>
</tr>
</tbody>
</table>
<p>Table 8: The quality of PaperQA-discovered context. We compare providing the ground truth context in PubMedQA to the answer generated by PaperQA.</p>
<h2>G IMPACT OF PARAMETRIC KNOWLEDGE</h2>
<p>In order to test whether including parametric knowledge in the gathered context is useful, we prompt PaperQA:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">Write</span><span class="w"> </span><span class="nv">an</span><span class="w"> </span><span class="nv">answer</span><span class="w"> </span><span class="ss">(</span><span class="nv">about</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="nv">words</span>,<span class="w"> </span><span class="nv">but</span><span class="w"> </span><span class="nv">can</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">longer</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">necessary</span><span class="ss">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">question</span><span class="w"> </span><span class="nv">below</span>
<span class="nv">based</span><span class="w"> </span><span class="nv">on</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">provided</span><span class="w"> </span><span class="nv">context</span>.<span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">context</span><span class="w"> </span><span class="nv">provides</span><span class="w"> </span><span class="nv">insufficient</span><span class="w"> </span><span class="nv">information</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">the</span>
<span class="nv">question</span><span class="w"> </span><span class="nv">cannot</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">directly</span><span class="w"> </span><span class="nv">answered</span>,<span class="w"> </span><span class="nv">reply</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="nv">I</span><span class="w"> </span><span class="nv">cannot</span><span class="w"> </span><span class="nv">answer</span><span class="err">&#39;. For each part of your</span>
<span class="err">answer, indicate which sources most support it via valid citation markers at the end of</span>
<span class="err">sentences, like (Example2012).</span>
</code></pre></div>

<p>Followed by pre-gathered context with relevance scores, some extra background information, and the question. The extra background information represents the LLMs' parametric knowledge.</p>
<h1>G. 1 Contradicting Information</h1>
<p>In the first example, we ask: "Are COVID-19 vaccines effective?". The goal of this experiment is to evaluate the inclusion of background information that contradicts gathered context. Thus, while the provided context supports the efficacy of covid vaccines, we provide the model with the following background information: "COVID-19 vaccines are known to be ineffective."</p>
<p>With the contradicting background information, PaperQA responds that it cannot answer. However, if the extra contradicting information is excluded, the model provides an answer:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Yes</span><span class="p">,</span><span class="w"> </span><span class="n">COVID</span><span class="o">-</span><span class="mi">19</span><span class="w"> </span><span class="n">vaccines</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">effective</span><span class="o">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">BNT162b2</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">ChAdOx1</span><span class="w"> </span><span class="n">nCoV</span><span class="o">-</span><span class="mi">19</span><span class="w"> </span><span class="n">vaccines</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">shown</span>
<span class="n">effectiveness</span><span class="w"> </span><span class="n">against</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">delta</span><span class="w"> </span><span class="n">variant</span><span class="p">,</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">second</span><span class="p">[</span><span class="o">...</span><span class="p">]</span>
<span class="o">...</span>
<span class="n">Therefore</span><span class="p">,</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">vaccines</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">effective</span><span class="p">,</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">effectiveness</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">vary</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span>
<span class="n">specific</span><span class="w"> </span><span class="n">vaccine</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">variant</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">virus</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">elapsed</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">vaccination</span><span class="o">.</span>
</code></pre></div>

<p>When the background information (or parametric knowledge) contradicts context, PaperQA opts to not answer, indicating its recognition of a contradiction with established scientific understanding. This example shows the model's capability to discern and respond appropriately to accurate information, while avoiding potentially misleading or incorrect assertions.</p>
<h2>G. 2 Absence of Key Information</h2>
<p>As a second example, we ask PaperQA: "What temperature does water turn to plasma?" and provide it with context that is relevant but insufficient to answer the question. Then, we provide the model with the following background information:
"Water turns into plasma under extreme conditions of temperature and pressure. Plasma is the fourth state of matter, beyond solid, liquid, and gas. It's a super-heated state where atoms are ionized, meaning electrons are stripped from atoms. This typically occurs at temperatures exceeding 20,000 Kelvin."</p>
<p>In this example, the model answers:</p>
<div class="codehilite"><pre><span></span><code>Water transitions into the plasma state under extreme conditions of temperature and
pressure, typically at temperatures exceeding 20,000 Kelvin.
</code></pre></div>

<p>Excluding the background information results in PaperQA responding that it is unable to answer.
Thus, the role of parametric knowledge is crucial in shaping the model's responses: when it contradicts the context, the model may refrain from answering due to the conflict, whereas supportive parametric knowledge enables the model to provide detailed and informed responses when context is lacking.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:0">
<p>${ }^{1}$ https://arxiv.org/
${ }^{2}$ https://pubmed.ncbi.nlm.nih.gov/&#160;<a class="footnote-backref" href="#fnref:0" title="Jump back to footnote 1 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:0" title="Jump back to footnote 1 in the text">&#8617;</a><a class="footnote-backref" href="#fnref3:0" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>            </div>
        </div>

    </div>
</body>
</html>