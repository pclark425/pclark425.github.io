<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extraction extraction-result-9522 - Theorizer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <div class="header">
        <a href="../index.html"><i class="fas fa-flask"></i> Theorizer</a>
    </div>

    <div class="content">
        <h1>Extracted Data Details for extraction-result-9522</h1>

        <div class="section">
            <h2>Extracted Data (Header)</h2>
            <div class="info-section">
                <p><strong>Extraction ID:</strong> extraction-result-9522</p>
                <p><strong>Extraction Schema Used (ID):</strong> <a href="../schemas/extraction-schema-165.html">extraction-schema-165</a></p>
                <div class="extraction-query"><strong>Extraction Query:</strong> Extract any mentions of large language models (LLMs) being used to distill, extract, or synthesize qualitative laws, principles, or generalizable rules from large numbers of scholarly input papers, including details of the methods, domains, evaluation, and results.</div>
                <p><strong>Paper ID:</strong> paper-7e55d8701785818776323b4147cb13354c820469</p>
                <p><strong>Paper Title:</strong> <a href="https://www.semanticscholar.org/paper/7e55d8701785818776323b4147cb13354c820469" target="_blank">PaperQA: Retrieval-Augmented Generative Agent for Scientific Research</a></p>
                <p><strong>Paper Venue:</strong> arXiv.org</p>
                <p><strong>Paper TL;DR:</strong> PaperQA is an agent that performs information retrieval across full-text scientific articles, assesses the relevance of sources and passages, and uses RAG to provide answers, and exceeds performance of existing LLMs and LLM agents on current science QA benchmarks.</p>
                <p><strong>Paper Abstract:</strong> Large Language Models (LLMs) generalize well across language tasks, but suffer from hallucinations and uninterpretability, making it difficult to assess their accuracy without ground-truth. Retrieval-Augmented Generation (RAG) models have been proposed to reduce hallucinations and provide provenance for how an answer was generated. Applying such models to the scientific literature may enable large-scale, systematic processing of scientific knowledge. We present PaperQA, a RAG agent for answering questions over the scientific literature. PaperQA is an agent that performs information retrieval across full-text scientific articles, assesses the relevance of sources and passages, and uses RAG to provide answers. Viewing this agent as a question answering model, we find it exceeds performance of existing LLMs and LLM agents on current science QA benchmarks. To push the field closer to how humans perform research on scientific literature, we also introduce LitQA, a more complex benchmark that requires retrieval and synthesis of information from full-text scientific papers across the literature. Finally, we demonstrate PaperQA's matches expert human researchers on LitQA.</p>
                <p><strong>Cost:</strong> 0.014</p>
            </div>
        </div>

        <div class="section">
            <h2>Extracted Data (Details)</h2>
            <div class="extraction-instance-container" id="e9522.0">
                <h3 class="extraction-instance">Extracted Data Instance 0 (e9522.0)</h3>
                <div class="extraction-query"><strong>Extraction Query:</strong> Extract any mentions of large language models (LLMs) being used to distill, extract, or synthesize qualitative laws, principles, or generalizable rules from large numbers of scholarly input papers, including details of the methods, domains, evaluation, and results.</div>
                <table>
                    <thead>
                        <tr>
                            <th style="width: 30%;">Field</th>
                            <th style="width: 70%;">Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>name_short</strong></td>
                            <td>PaperQA</td>
                        </tr>
                        <tr>
                            <td><strong>name_full</strong></td>
                            <td>PaperQA: Retrieval-Augmented Generative Agent for Scientific Research</td>
                        </tr>
                        <tr>
                            <td><strong>brief_description</strong></td>
                            <td>An agent-style Retrieval-Augmented Generation (RAG) system that uses multiple LLM instances plus search and vector retrieval to retrieve, summarize, score, and synthesize evidence from full-text scientific papers to answer literature-derived questions.</td>
                        </tr>
                        <tr>
                            <td><strong>citation_title</strong></td>
                            <td>here</td>
                        </tr>
                        <tr>
                            <td><strong>mention_or_use</strong></td>
                            <td>use</td>
                        </tr>
                        <tr>
                            <td><strong>llm_model_name</strong></td>
                            <td>GPT-4 (agent + answer), GPT-3.5-turbo (summary), GPT-4 (ask)</td>
                        </tr>
                        <tr>
                            <td><strong>llm_model_description</strong></td>
                            <td>Composite pipeline using OpenAI GPT-4 (proprietary large transformer, used as the agent LLM and answer LLM via API; exact model size undisclosed) and GPT-3.5-turbo (used for high-throughput chunk summarization); embedding model text-embedding-ada-002 used for dense vector retrieval. Models were run with explicit temperature settings (agent τ=0.5, summary τ=0.2, answer τ=0.5, ask τ=0.5) and specific system prompts.</td>
                        </tr>
                        <tr>
                            <td><strong>application_domain</strong></td>
                            <td>Biomedical / scientific literature question answering (general natural sciences; experiments focused on biomedical domain for LitQA)</td>
                        </tr>
                        <tr>
                            <td><strong>input_corpus_description</strong></td>
                            <td>Full-text scientific articles retrieved via Google Scholar, ArXiv, PubMed, PMC, OpenAccess and local databases; PaperQA indexes retrieved PDFs as overlapping ~4,000-character chunks, embeds them with text-embedding-ada-002, and stores them in a vector database. Evaluation corpora include LitQA (50 biomedical questions based on papers published after Sept 15, 2021) plus standard QA benchmarks (PubMedQA_blind, MedQA, BioASQ).</td>
                        </tr>
                        <tr>
                            <td><strong>qualitative_law_type</strong></td>
                            <td>Synthesis of empirical findings / distilled literature conclusions (i.e., literature-derived qualitative rules or conclusions used to answer factual or comparative scientific questions)</td>
                        </tr>
                        <tr>
                            <td><strong>qualitative_law_example</strong></td>
                            <td>Example distilled conclusion used as evidence: 'BNT162b2 and ChAdOx1 nCoV-19 vaccines show effectiveness against the Delta variant' (Appendix G example demonstrating distillation of paper evidence into a high-level factual claim); more generally, PaperQA outputs yes/no or multiple-choice answers that represent distilled findings from one or multiple papers.</td>
                        </tr>
                        <tr>
                            <td><strong>extraction_methodology</strong></td>
                            <td>Agent-based RAG with modular tools: (1) search tool (keyword-based Google Scholar queries, collect top-5 accessible papers), (2) chunking full-text into overlapping ~4000-character chunks and embedding them (text-embedding-ada-002) into a vector DB, (3) gather_evidence: vector retrieval with maximal marginal relevance to return diverse chunks, then a summary LLM summarizes each chunk and returns a 1–10 relevance score (map step), (4) map-reduce style assembly of top-k chunks into a context library, (5) ask LLM to supply latent parametric background knowledge (a priori), (6) answer LLM composes final answer citing supporting sources; iterative agent loop allows multiple searches/gathers before final answer.</td>
                        </tr>
                        <tr>
                            <td><strong>evaluation_method</strong></td>
                            <td>Quantitative benchmark evaluation and ablations: primary evaluation on LitQA (50 expert-written biomedical multiple-choice questions from post-cutoff literature) with human baseline (5 biomedical researchers, 3 minutes per question), comparisons to GPT-4, Claude-2, AutoGPT, and commercial RAG tools (Elicit, Scite_, Perplexity); additional evaluation on PubMedQA_blind, MedQA, BioASQ (100 sampled questions each), ablation studies toggling components (no summary LLM, single citation, no ask LLM, no search, Vanilla RAG, different search engines), retrieval AUC experiments for retrieval performance, and manual citation-hallucination auditing.</td>
                        </tr>
                        <tr>
                            <td><strong>results_summary</strong></td>
                            <td>PaperQA outperformed competing pre-trained LLMs, AutoGPT, and several commercial RAG tools on LitQA and matched or exceeded human expert accuracy/time tradeoffs. Key reported results: LitQA accuracy PaperQA ≈ 69.5% (precision 87.9%) vs human 66.8% (precision 87.9%); PubMedQA_blind: PaperQA 86.3% vs GPT-4 57.9%; PaperQA produced zero detectable hallucinated citations in their assessed sample (N=237) versus ~40–60% hallucination rates measured for standalone LLM outputs in tests. Ablations show major performance drops without the summary LLM, without multiple-choice cues, and when using a linear RAG pipeline instead of the agent loop.</td>
                        </tr>
                        <tr>
                            <td><strong>comparison_to_baseline</strong></td>
                            <td>Compared to baselines: GPT-4 alone (no retrieval/agent) performed substantially worse on retrieval-dependent benchmarks (e.g., PubMedQA_blind 57.9%); AutoGPT and other agent baselines underperformed PaperQA on LitQA. Against commercial tools (Elicit, Scite_, Perplexity), PaperQA achieved higher accuracy and a lower incorrect-answer rate. PaperQA's retrieved contexts were competitive with ground-truth context in PubMedQA (PaperQA context produced accuracy ~86.3% vs ground-truth context 85.2% in tested configurations).</td>
                        </tr>
                        <tr>
                            <td><strong>reported_limitations</strong></td>
                            <td>Assumes correctness of underlying papers (no robust trustworthiness vetting); dependence on search engine/APIs and PDF parsing (access/parsing failure rates); prompts and multi-agent prompt tuning are complex and likely suboptimal (bi-level optimization problem); benchmarks time-sensitivity (answers/papers may change over time); some retrieval failure modes and anecdotal secondary-source citation issues noted.</td>
                        </tr>
                        <tr>
                            <td><strong>bias_or_hallucination_issues</strong></td>
                            <td>Explicitly measured hallucination of citations: PaperQA produced no hallucinated citations in their evaluation sample, while standalone LLM outputs (GPT-3.5, GPT-4, Claude-2) showed substantial rates of full hallucination or inaccuracies. The authors note LLMs possess latent (parametric) knowledge that can bias search and synthesis (sometimes useful), and that conflicting parametric knowledge can cause the agent to abstain (Appendix G). They also caution about latent knowledge bias and that prompt/agent design influences hallucination and calibration.</td>
                        </tr>
                        <tr>
                            <td><strong>source_info</strong></td>
                            <td>{'paper_title': 'PaperQA: Retrieval-Augmented Generative Agent for Scientific Research', 'publication_date_yy_mm': '2023-12'}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="extraction-instance-container" id="e9522.1">
                <h3 class="extraction-instance">Extracted Data Instance 1 (e9522.1)</h3>
                <div class="extraction-query"><strong>Extraction Query:</strong> Extract any mentions of large language models (LLMs) being used to distill, extract, or synthesize qualitative laws, principles, or generalizable rules from large numbers of scholarly input papers, including details of the methods, domains, evaluation, and results.</div>
                <table>
                    <thead>
                        <tr>
                            <th style="width: 30%;">Field</th>
                            <th style="width: 70%;">Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>name_short</strong></td>
                            <td>Summary LLM (gpt-3.5)</td>
                        </tr>
                        <tr>
                            <td><strong>name_full</strong></td>
                            <td>Summary LLM: GPT-3.5-turbo used for chunk summarization and relevance scoring</td>
                        </tr>
                        <tr>
                            <td><strong>brief_description</strong></td>
                            <td>A high-throughput LLM instance (GPT-3.5-turbo-0613) used to summarize retrieved text chunks with respect to the question and to provide a 1–10 relevance score per chunk, forming the map step of evidence extraction.</td>
                        </tr>
                        <tr>
                            <td><strong>citation_title</strong></td>
                            <td>here</td>
                        </tr>
                        <tr>
                            <td><strong>mention_or_use</strong></td>
                            <td>use</td>
                        </tr>
                        <tr>
                            <td><strong>llm_model_name</strong></td>
                            <td>gpt-3.5-turbo-0613</td>
                        </tr>
                        <tr>
                            <td><strong>llm_model_description</strong></td>
                            <td>OpenAI GPT-3.5-turbo conversational transformer used as a lower-cost, high-throughput summarizer (used with temperature τ=0.2); exact model architecture/size proprietary.</td>
                        </tr>
                        <tr>
                            <td><strong>application_domain</strong></td>
                            <td>Chunk-level evidence extraction for biomedical / scientific literature retrieval</td>
                        </tr>
                        <tr>
                            <td><strong>input_corpus_description</strong></td>
                            <td>Retrieved ~4,000-character overlapping text chunks from full-text scientific PDFs (sources: Google Scholar, ArXiv, PubMed, PMC, OpenAccess, local DB), selected by vector retrieval (text-embedding-ada-002) with maximal marginal relevance.</td>
                        </tr>
                        <tr>
                            <td><strong>qualitative_law_type</strong></td>
                            <td>Chunk-level evidence distillation that supports higher-level conclusions; i.e., condensing experimental statements and results into compact evidence summaries that can be combined to form generalizable conclusions.</td>
                        </tr>
                        <tr>
                            <td><strong>qualitative_law_example</strong></td>
                            <td>Summaries returned include concise evidence statements: e.g., extracted claim that a paper reports vaccine effectiveness against a variant or that a particular glycoRNA does not increase in macrophages upon LPS stimulation (used as evidence to answer LitQA questions).</td>
                        </tr>
                        <tr>
                            <td><strong>extraction_methodology</strong></td>
                            <td>Prompted summarization: each retrieved chunk is passed to the summary LLM with a template that asks for an evidence summary (not to directly answer the question) and ends with a numeric relevance score (1–10). Top-k scored chunks are then collected into the context library.</td>
                        </tr>
                        <tr>
                            <td><strong>evaluation_method</strong></td>
                            <td>Ablation studies (No summary LLM vs with summary LLM) showing performance drops when the summary LLM is removed; manual checks of chunk relevance; final QA performance on LitQA and other datasets indirectly evaluates the quality of chunk summarization and scoring.</td>
                        </tr>
                        <tr>
                            <td><strong>results_summary</strong></td>
                            <td>Including the summary LLM improved LitQA accuracy (ablation: No summary LLM reduced correct answers from ~33.5 to 29 in single-run ablation). The map (summarize+score) step mitigated PDF parsing errors and improved selection of relevant evidence chunks.</td>
                        </tr>
                        <tr>
                            <td><strong>comparison_to_baseline</strong></td>
                            <td>Vector-only retrieval without the summary LLM performed worse (No summary LLM ablation), indicating that LLM-based summarization+relevance scoring outperforms naive vector retrieval alone for downstream synthesis tasks.</td>
                        </tr>
                        <tr>
                            <td><strong>reported_limitations</strong></td>
                            <td>Dependent on summary prompt quality; small risk of mis-scoring or producing 'Not applicable' for noisy chunks; summary LLM quality is a trade-off between cost and fidelity (used cheaper model for throughput).</td>
                        </tr>
                        <tr>
                            <td><strong>bias_or_hallucination_issues</strong></td>
                            <td>Summary LLM is instructed not to answer but summarize; authors report it can mark irrelevant/garbled text as 'Not applicable', which helps reduce hallucinated context, but mis-summaries or mis-scores remain possible if chunk content is garbled from PDF parsing.</td>
                        </tr>
                        <tr>
                            <td><strong>source_info</strong></td>
                            <td>{'paper_title': 'PaperQA: Retrieval-Augmented Generative Agent for Scientific Research', 'publication_date_yy_mm': '2023-12'}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="extraction-instance-container" id="e9522.2">
                <h3 class="extraction-instance">Extracted Data Instance 2 (e9522.2)</h3>
                <div class="extraction-query"><strong>Extraction Query:</strong> Extract any mentions of large language models (LLMs) being used to distill, extract, or synthesize qualitative laws, principles, or generalizable rules from large numbers of scholarly input papers, including details of the methods, domains, evaluation, and results.</div>
                <table>
                    <thead>
                        <tr>
                            <th style="width: 30%;">Field</th>
                            <th style="width: 70%;">Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>name_short</strong></td>
                            <td>Ask LLM (latent knowledge probe)</td>
                        </tr>
                        <tr>
                            <td><strong>name_full</strong></td>
                            <td>Ask LLM: LLM probe for parametric (latent) background knowledge</td>
                        </tr>
                        <tr>
                            <td><strong>brief_description</strong></td>
                            <td>A GPT-4 instance prompted to provide brief background knowledge that might aid answering the question (a priori knowledge) which is then appended to retrieved context before final answer composition.</td>
                        </tr>
                        <tr>
                            <td><strong>citation_title</strong></td>
                            <td>here</td>
                        </tr>
                        <tr>
                            <td><strong>mention_or_use</strong></td>
                            <td>use</td>
                        </tr>
                        <tr>
                            <td><strong>llm_model_name</strong></td>
                            <td>GPT-4 (ask LLM)</td>
                        </tr>
                        <tr>
                            <td><strong>llm_model_description</strong></td>
                            <td>OpenAI GPT-4 used as a short-form latent-knowledge probe (temperature τ=0.5); returns ~50 words of background knowledge conditioned on the question but instructed not to answer directly.</td>
                        </tr>
                        <tr>
                            <td><strong>application_domain</strong></td>
                            <td>Supplementing retrieved evidence with parametric knowledge across biomedical/scientific questions</td>
                        </tr>
                        <tr>
                            <td><strong>input_corpus_description</strong></td>
                            <td>Question text (no external papers) — the ask LLM returns background knowledge derived from model parameters; this output is combined with gathered evidence for final answering.</td>
                        </tr>
                        <tr>
                            <td><strong>qualitative_law_type</strong></td>
                            <td>Parametric background augmentation: supplying established domain knowledge or rules from model parameters to fill gaps when retrieved context is insufficient (e.g., generic statements about vaccine effectiveness or plasma formation thresholds).</td>
                        </tr>
                        <tr>
                            <td><strong>qualitative_law_example</strong></td>
                            <td>Appendix G example: when context lacked an explicit statement, an ask-LM-provided background ('COVID-19 vaccines are known to be ineffective' — intentionally contradictory in an experiment) influenced the agent to abstain; conversely, supportive background info ('plasma occurs >20,000 K') enabled an answer when context alone was insufficient.</td>
                        </tr>
                        <tr>
                            <td><strong>extraction_methodology</strong></td>
                            <td>Zero-shot prompt: a short prompt requests ~50 words of background knowledge relevant to the question; output is appended to the context library before final answer composition (a priori prompting).</td>
                        </tr>
                        <tr>
                            <td><strong>evaluation_method</strong></td>
                            <td>Ablation study (No ask LLM) showing decreased performance on LitQA (No ask LLM ablation reduced correct answers from ~33.5 to 23 in single-run ablation); qualitative examples in Appendix G demonstrate behavior under contradictory/supporting background knowledge.</td>
                        </tr>
                        <tr>
                            <td><strong>results_summary</strong></td>
                            <td>Including the ask LLM improved performance on LitQA, implying that latent parametric knowledge helps retrieval-guided synthesis even for post-cutoff literature; however, contradictory latent knowledge can cause the agent to abstain from answering.</td>
                        </tr>
                        <tr>
                            <td><strong>comparison_to_baseline</strong></td>
                            <td>PaperQA without ask LLM performs substantially worse on LitQA (ablation), indicating that combining parametric LLM knowledge with retrieved evidence outperforms retrieval-only pipelines in this setup.</td>
                        </tr>
                        <tr>
                            <td><strong>reported_limitations</strong></td>
                            <td>Latent knowledge can contradict retrieved evidence and lead to non-answers; raises complexity in calibrating a priori information vs retrieved evidence.</td>
                        </tr>
                        <tr>
                            <td><strong>bias_or_hallucination_issues</strong></td>
                            <td>Authors report that parametric knowledge can introduce bias; when it contradicts the context, PaperQA may abstain, which is conservative but indicates sensitivity to conflicting model-internal priors.</td>
                        </tr>
                        <tr>
                            <td><strong>source_info</strong></td>
                            <td>{'paper_title': 'PaperQA: Retrieval-Augmented Generative Agent for Scientific Research', 'publication_date_yy_mm': '2023-12'}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="section">
            <h2>Potentially Relevant New Papers (mentioned by this paper)</h2>
            <ol>
                <li>Retrieval-augmented generation for knowledge-intensive nlp tasks <em>(Rating: 2)</em></li>
                <li>Investigating the factual knowledge boundary of large language models with retrieval augmentation <em>(Rating: 2)</em></li>
                <li>Active retrieval augmented generation <em>(Rating: 2)</em></li>
                <li>SynKB: Semantic search for synthetic procedures <em>(Rating: 1)</em></li>
                <li>Bayesian optimization of catalysts with in-context learning <em>(Rating: 1)</em></li>
                <li>Large language models encode clinical knowledge <em>(Rating: 1)</em></li>
            </ol>
        </div>

        <div class="section">
            <h2>Extracted Data (Debug)</h2>
            <pre><code>{
    "id": "extraction-result-9522",
    "paper_id": "paper-7e55d8701785818776323b4147cb13354c820469",
    "extraction_schema_id": "extraction-schema-165",
    "extracted_data": [
        {
            "name_short": "PaperQA",
            "name_full": "PaperQA: Retrieval-Augmented Generative Agent for Scientific Research",
            "brief_description": "An agent-style Retrieval-Augmented Generation (RAG) system that uses multiple LLM instances plus search and vector retrieval to retrieve, summarize, score, and synthesize evidence from full-text scientific papers to answer literature-derived questions.",
            "citation_title": "here",
            "mention_or_use": "use",
            "llm_model_name": "GPT-4 (agent + answer), GPT-3.5-turbo (summary), GPT-4 (ask)",
            "llm_model_description": "Composite pipeline using OpenAI GPT-4 (proprietary large transformer, used as the agent LLM and answer LLM via API; exact model size undisclosed) and GPT-3.5-turbo (used for high-throughput chunk summarization); embedding model text-embedding-ada-002 used for dense vector retrieval. Models were run with explicit temperature settings (agent τ=0.5, summary τ=0.2, answer τ=0.5, ask τ=0.5) and specific system prompts.",
            "application_domain": "Biomedical / scientific literature question answering (general natural sciences; experiments focused on biomedical domain for LitQA)",
            "input_corpus_description": "Full-text scientific articles retrieved via Google Scholar, ArXiv, PubMed, PMC, OpenAccess and local databases; PaperQA indexes retrieved PDFs as overlapping ~4,000-character chunks, embeds them with text-embedding-ada-002, and stores them in a vector database. Evaluation corpora include LitQA (50 biomedical questions based on papers published after Sept 15, 2021) plus standard QA benchmarks (PubMedQA_blind, MedQA, BioASQ).",
            "qualitative_law_type": "Synthesis of empirical findings / distilled literature conclusions (i.e., literature-derived qualitative rules or conclusions used to answer factual or comparative scientific questions)",
            "qualitative_law_example": "Example distilled conclusion used as evidence: 'BNT162b2 and ChAdOx1 nCoV-19 vaccines show effectiveness against the Delta variant' (Appendix G example demonstrating distillation of paper evidence into a high-level factual claim); more generally, PaperQA outputs yes/no or multiple-choice answers that represent distilled findings from one or multiple papers.",
            "extraction_methodology": "Agent-based RAG with modular tools: (1) search tool (keyword-based Google Scholar queries, collect top-5 accessible papers), (2) chunking full-text into overlapping ~4000-character chunks and embedding them (text-embedding-ada-002) into a vector DB, (3) gather_evidence: vector retrieval with maximal marginal relevance to return diverse chunks, then a summary LLM summarizes each chunk and returns a 1–10 relevance score (map step), (4) map-reduce style assembly of top-k chunks into a context library, (5) ask LLM to supply latent parametric background knowledge (a priori), (6) answer LLM composes final answer citing supporting sources; iterative agent loop allows multiple searches/gathers before final answer.",
            "evaluation_method": "Quantitative benchmark evaluation and ablations: primary evaluation on LitQA (50 expert-written biomedical multiple-choice questions from post-cutoff literature) with human baseline (5 biomedical researchers, 3 minutes per question), comparisons to GPT-4, Claude-2, AutoGPT, and commercial RAG tools (Elicit, Scite_, Perplexity); additional evaluation on PubMedQA_blind, MedQA, BioASQ (100 sampled questions each), ablation studies toggling components (no summary LLM, single citation, no ask LLM, no search, Vanilla RAG, different search engines), retrieval AUC experiments for retrieval performance, and manual citation-hallucination auditing.",
            "results_summary": "PaperQA outperformed competing pre-trained LLMs, AutoGPT, and several commercial RAG tools on LitQA and matched or exceeded human expert accuracy/time tradeoffs. Key reported results: LitQA accuracy PaperQA ≈ 69.5% (precision 87.9%) vs human 66.8% (precision 87.9%); PubMedQA_blind: PaperQA 86.3% vs GPT-4 57.9%; PaperQA produced zero detectable hallucinated citations in their assessed sample (N=237) versus ~40–60% hallucination rates measured for standalone LLM outputs in tests. Ablations show major performance drops without the summary LLM, without multiple-choice cues, and when using a linear RAG pipeline instead of the agent loop.",
            "comparison_to_baseline": "Compared to baselines: GPT-4 alone (no retrieval/agent) performed substantially worse on retrieval-dependent benchmarks (e.g., PubMedQA_blind 57.9%); AutoGPT and other agent baselines underperformed PaperQA on LitQA. Against commercial tools (Elicit, Scite_, Perplexity), PaperQA achieved higher accuracy and a lower incorrect-answer rate. PaperQA's retrieved contexts were competitive with ground-truth context in PubMedQA (PaperQA context produced accuracy ~86.3% vs ground-truth context 85.2% in tested configurations).",
            "reported_limitations": "Assumes correctness of underlying papers (no robust trustworthiness vetting); dependence on search engine/APIs and PDF parsing (access/parsing failure rates); prompts and multi-agent prompt tuning are complex and likely suboptimal (bi-level optimization problem); benchmarks time-sensitivity (answers/papers may change over time); some retrieval failure modes and anecdotal secondary-source citation issues noted.",
            "bias_or_hallucination_issues": "Explicitly measured hallucination of citations: PaperQA produced no hallucinated citations in their evaluation sample, while standalone LLM outputs (GPT-3.5, GPT-4, Claude-2) showed substantial rates of full hallucination or inaccuracies. The authors note LLMs possess latent (parametric) knowledge that can bias search and synthesis (sometimes useful), and that conflicting parametric knowledge can cause the agent to abstain (Appendix G). They also caution about latent knowledge bias and that prompt/agent design influences hallucination and calibration.",
            "uuid": "e9522.0",
            "source_info": {
                "paper_title": "PaperQA: Retrieval-Augmented Generative Agent for Scientific Research",
                "publication_date_yy_mm": "2023-12"
            }
        },
        {
            "name_short": "Summary LLM (gpt-3.5)",
            "name_full": "Summary LLM: GPT-3.5-turbo used for chunk summarization and relevance scoring",
            "brief_description": "A high-throughput LLM instance (GPT-3.5-turbo-0613) used to summarize retrieved text chunks with respect to the question and to provide a 1–10 relevance score per chunk, forming the map step of evidence extraction.",
            "citation_title": "here",
            "mention_or_use": "use",
            "llm_model_name": "gpt-3.5-turbo-0613",
            "llm_model_description": "OpenAI GPT-3.5-turbo conversational transformer used as a lower-cost, high-throughput summarizer (used with temperature τ=0.2); exact model architecture/size proprietary.",
            "application_domain": "Chunk-level evidence extraction for biomedical / scientific literature retrieval",
            "input_corpus_description": "Retrieved ~4,000-character overlapping text chunks from full-text scientific PDFs (sources: Google Scholar, ArXiv, PubMed, PMC, OpenAccess, local DB), selected by vector retrieval (text-embedding-ada-002) with maximal marginal relevance.",
            "qualitative_law_type": "Chunk-level evidence distillation that supports higher-level conclusions; i.e., condensing experimental statements and results into compact evidence summaries that can be combined to form generalizable conclusions.",
            "qualitative_law_example": "Summaries returned include concise evidence statements: e.g., extracted claim that a paper reports vaccine effectiveness against a variant or that a particular glycoRNA does not increase in macrophages upon LPS stimulation (used as evidence to answer LitQA questions).",
            "extraction_methodology": "Prompted summarization: each retrieved chunk is passed to the summary LLM with a template that asks for an evidence summary (not to directly answer the question) and ends with a numeric relevance score (1–10). Top-k scored chunks are then collected into the context library.",
            "evaluation_method": "Ablation studies (No summary LLM vs with summary LLM) showing performance drops when the summary LLM is removed; manual checks of chunk relevance; final QA performance on LitQA and other datasets indirectly evaluates the quality of chunk summarization and scoring.",
            "results_summary": "Including the summary LLM improved LitQA accuracy (ablation: No summary LLM reduced correct answers from ~33.5 to 29 in single-run ablation). The map (summarize+score) step mitigated PDF parsing errors and improved selection of relevant evidence chunks.",
            "comparison_to_baseline": "Vector-only retrieval without the summary LLM performed worse (No summary LLM ablation), indicating that LLM-based summarization+relevance scoring outperforms naive vector retrieval alone for downstream synthesis tasks.",
            "reported_limitations": "Dependent on summary prompt quality; small risk of mis-scoring or producing 'Not applicable' for noisy chunks; summary LLM quality is a trade-off between cost and fidelity (used cheaper model for throughput).",
            "bias_or_hallucination_issues": "Summary LLM is instructed not to answer but summarize; authors report it can mark irrelevant/garbled text as 'Not applicable', which helps reduce hallucinated context, but mis-summaries or mis-scores remain possible if chunk content is garbled from PDF parsing.",
            "uuid": "e9522.1",
            "source_info": {
                "paper_title": "PaperQA: Retrieval-Augmented Generative Agent for Scientific Research",
                "publication_date_yy_mm": "2023-12"
            }
        },
        {
            "name_short": "Ask LLM (latent knowledge probe)",
            "name_full": "Ask LLM: LLM probe for parametric (latent) background knowledge",
            "brief_description": "A GPT-4 instance prompted to provide brief background knowledge that might aid answering the question (a priori knowledge) which is then appended to retrieved context before final answer composition.",
            "citation_title": "here",
            "mention_or_use": "use",
            "llm_model_name": "GPT-4 (ask LLM)",
            "llm_model_description": "OpenAI GPT-4 used as a short-form latent-knowledge probe (temperature τ=0.5); returns ~50 words of background knowledge conditioned on the question but instructed not to answer directly.",
            "application_domain": "Supplementing retrieved evidence with parametric knowledge across biomedical/scientific questions",
            "input_corpus_description": "Question text (no external papers) — the ask LLM returns background knowledge derived from model parameters; this output is combined with gathered evidence for final answering.",
            "qualitative_law_type": "Parametric background augmentation: supplying established domain knowledge or rules from model parameters to fill gaps when retrieved context is insufficient (e.g., generic statements about vaccine effectiveness or plasma formation thresholds).",
            "qualitative_law_example": "Appendix G example: when context lacked an explicit statement, an ask-LM-provided background ('COVID-19 vaccines are known to be ineffective' — intentionally contradictory in an experiment) influenced the agent to abstain; conversely, supportive background info ('plasma occurs &gt;20,000 K') enabled an answer when context alone was insufficient.",
            "extraction_methodology": "Zero-shot prompt: a short prompt requests ~50 words of background knowledge relevant to the question; output is appended to the context library before final answer composition (a priori prompting).",
            "evaluation_method": "Ablation study (No ask LLM) showing decreased performance on LitQA (No ask LLM ablation reduced correct answers from ~33.5 to 23 in single-run ablation); qualitative examples in Appendix G demonstrate behavior under contradictory/supporting background knowledge.",
            "results_summary": "Including the ask LLM improved performance on LitQA, implying that latent parametric knowledge helps retrieval-guided synthesis even for post-cutoff literature; however, contradictory latent knowledge can cause the agent to abstain from answering.",
            "comparison_to_baseline": "PaperQA without ask LLM performs substantially worse on LitQA (ablation), indicating that combining parametric LLM knowledge with retrieved evidence outperforms retrieval-only pipelines in this setup.",
            "reported_limitations": "Latent knowledge can contradict retrieved evidence and lead to non-answers; raises complexity in calibrating a priori information vs retrieved evidence.",
            "bias_or_hallucination_issues": "Authors report that parametric knowledge can introduce bias; when it contradicts the context, PaperQA may abstain, which is conservative but indicates sensitivity to conflicting model-internal priors.",
            "uuid": "e9522.2",
            "source_info": {
                "paper_title": "PaperQA: Retrieval-Augmented Generative Agent for Scientific Research",
                "publication_date_yy_mm": "2023-12"
            }
        }
    ],
    "potentially_relevant_new_papers": [
        {
            "paper_title": "Retrieval-augmented generation for knowledge-intensive nlp tasks",
            "rating": 2,
            "sanitized_title": "retrievalaugmented_generation_for_knowledgeintensive_nlp_tasks"
        },
        {
            "paper_title": "Investigating the factual knowledge boundary of large language models with retrieval augmentation",
            "rating": 2,
            "sanitized_title": "investigating_the_factual_knowledge_boundary_of_large_language_models_with_retrieval_augmentation"
        },
        {
            "paper_title": "Active retrieval augmented generation",
            "rating": 2,
            "sanitized_title": "active_retrieval_augmented_generation"
        },
        {
            "paper_title": "SynKB: Semantic search for synthetic procedures",
            "rating": 1,
            "sanitized_title": "synkb_semantic_search_for_synthetic_procedures"
        },
        {
            "paper_title": "Bayesian optimization of catalysts with in-context learning",
            "rating": 1,
            "sanitized_title": "bayesian_optimization_of_catalysts_with_incontext_learning"
        },
        {
            "paper_title": "Large language models encode clinical knowledge",
            "rating": 1,
            "sanitized_title": "large_language_models_encode_clinical_knowledge"
        }
    ],
    "cost": 0.014298249999999998,
    "model_str": "gpt-5-mini"
}</code></pre>
        </div>
        <div class="section">
            <h2>Paper</h2>
            <div class="paper-content"><h1>PaperQA: Retrieval-Augmented Generative Agent for Scientific Research</h1>
<p>Jakub Lála<br>Future House<br>Francis Crick Institute</p>
<p>Odhran O’Donoghue<br>Align to Innovate<br>Francis Crick Institute<br>University of Oxford<br>Aleksandar Shtedritski<br>Align to Innovate<br>Francis Crick Institute<br>University of Oxford</p>
<p>Sam Cox<br>Future House<br>University of Rochester</p>
<p>Samuel G Rodriques<br>Future House<br>Francis Crick Institute</p>
<p>Andrew D White<br>Future House<br>University of Rochester<br>andrew@futurehouse.org</p>
<p>Dec 8, 2023
AbSTRACT</p>
<p>Large Language Models (LLMs) generalize well across language tasks, but suffer from hallucinations and uninterpretability, making it difficult to assess their accuracy without ground-truth. Retrieval-Augmented Generation (RAG) models have been proposed to reduce hallucinations and provide provenance for how an answer was generated. Applying such models to the scientific literature may enable large-scale, systematic processing of scientific knowledge. We present PaperQA, a RAG agent for answering questions over the scientific literature. PaperQA is an agent that performs information retrieval across full-text scientific articles, assesses the relevance of sources and passages, and uses RAG to provide answers. Viewing this agent as a question-answering model, we find it exceeds performance of existing LLMs and LLM agents on current science QA benchmarks. To push the field closer to how humans perform research on scientific literature, we also introduce LitQA, a more complex benchmark that requires retrieval and synthesis of information from full-text scientific papers across the literature. Finally, we demonstrate PaperQA's matches expert human researchers on LitQA.</p>
<h2>1 INTRODUCTION</h2>
<p>The rate of papers published yearly grows at an exponential rate, with over 5 million academic articles published in 2022 [1], and over 200 million articles in total [2]. The difficulty of navigating this extensive literature means significant scientific findings have gone unnoticed for extended periods $[3,4,5]$. Work in the last 10 years has sought to make the space of literature more manageable for scientists, with the introduction of keyword search systems [6, 7], vector similarity embeddings $[8,9,10,11]$ and recommender systems [12, 13]. The process of scientific discovery from literature is still, however, highly manual.</p>
<p>The use of Large Language Models (LLMs) to answer scientific questions is increasingly seen in academia and research-heavy professions such as medicine [14, 15]. While LLMs can produce answers faster and encompass a broader, deeper scope than manual searching, there is a high risk of hallucination in responses, which can lead to potentially dangerous outcomes [16, 17]. Incorrect information can be more damaging than no information at all, as the time to verify veracity can take just as long as retrieving it from research papers in the first place [18]. Reliance on pre-trained LLMs also prevents the discovery of new information published after a training cutoff date. Given the rapidly moving pace of science, this can lead to misconceptions persisting.</p>
<p>Retrieval-Augmented Generation (RAG) models are a potential solution to these limitations [19]. RAG models retrieve text from a corpus, using methods such as vector embedding search or keyword search, and add the retrieved passage to the context window of the LLM. RAG usage can reduce hallucinations in conversations and improve LLM performance on QA tasks [16, 20]. Nevertheless, standard RAG models follow a fixed, linear flow, which can be restrictive for addressing the diverse range of questions scientists encounter.</p>
<p>In this work, we eliminate these limitations by breaking RAG into modular pieces, allowing an agent LLM to dynamically adjust and iteratively perform steps in response to the specific demands of each question, ensuring more precise and relevant answers. We call this PaperQA, an agent-based RAG system for scientific question answering. PaperQA has three fundamental components: finding papers relevant to the given question, gathering text from those papers, and generating an answer with references.</p>
<p>We evaluate PaperQA on several standard multiple-choice datasets for evaluating LLMs, which assess the model's ability to answer questions with existing knowledge, but do not test the agents' ability to retrieve information. We modified PubMedQA [21] to remove the provided context (so it is closed-book) and found PaperQA beats GPT-4 by 30 points ( $57.9 \%$ to $86.3 \%$ ). PubMedQA is only built on abstracts though, and so we construct a more difficult dataset that requires synthesizing information from one or multiple full-text research papers. We thus introduce a new dataset, LitQA, composed from recent literature, in order to test PaperQA's ability to retrieve information outside of the underlying LLM's pre-training data. PaperQA outperforms all models tested and commercial tools, and is comparable to human experts on LitQA on performance and time, but is significantly cheaper in terms of costs. Furthermore, PaperQA is competitive to state-of-the-art commercial tools for scientific question answering. Finally, we find that PaperQA exhibits a better knowledge boundary than competing tools, answering questions incorrectly at a lower rate, and instead, answering that it is unsure.</p>
<h1>2 Related Works</h1>
<p>LLMs for Natural Sciences Large Language Models (LLMs) have seen a surge in popularity and accessibility, leading to impressive applications across various domains [22, 23, 24, 25, 26, 27]. LLMs have been used effectively for text-based scientific tasks, such as extracting chemical reaction procedures [28] and entity extraction from biological documents [29]. LLMs trained on biomedical $[30,31,32,33,34]$ or more generalized scientific literature [9,35] have demonstrated impressive performance on current scientific QA benchmarks.</p>
<p>State-of-the-art pre-trained LLMs exhibit proficiency in complex tasks such as searching for chemical compounds [27] and designing new catalysts [36]. Still, LLMs frequently fall short in many scientific domains due to outdated knowledge [37] and reasoning problems [38, 39]. Prompt engineering techniques can enhance LLMs' reasoning abilities [40, 41], though some scientific tasks requiring real-time calculations and up-to-date information remain difficult.</p>
<p>Agents Another technique is to integrate external tools into LLMs, creating agent systems, such as MRKL [42]. These LLM-agent systems leverage the reasoning power of the base-LLM and the use of pre-defined external tools to act in order to complete a given prompt [43, 44]. In such a system, the agent iteratively decides on the best tools to use in order to address the given task, correcting previous behavior when necessary, until the task is complete. This setup can also integrate reasoning steps, as with the ReAct framework and its derivatives [45, 46], or may incorporate multi-agent systems [47, 48, 49]. Our method extends previous work by integrating an agent-based RAG framework in order to correctly and dependably answer scientific questions.</p>
<p><img alt="img-0.jpeg" src="img-0.jpeg" /></p>
<p>Figure 1: PaperQA Workflow Diagram. PaperQA is an agent that transforms a scientific question into an answer with cited sources. The agent utilizes three tools - search, gather evidence, and answer question. The tools enable it to find and parse relevant full-text research papers, identify specific sections in the paper that help answer the question, summarize those section with the context of the question (called evidence), and then generate an answer based on the evidence. It is an agent, so that the LLM orchestrating the tools can adjust the input to paper searches, gather evidence with different phrases, and assess if an answer is complete.</p>
<p>Evaluating LLM Scientists Assessing the scientific capabilities of LLMs often relies on QA benchmarks, such as general science benchmarks [50, 51], or those specializing in medicine [21], biomedical science [52] or chemistry [53, 54]. In contrast, open-ended tasks, such as conducting chemical synthesis planning [55] or offering healthcare support [56], necessitate manual evaluation to effectively measure an LLM's capabilities. We discuss the limitation of these datasets and introduce a new QA dataset for retrieval-based science.</p>
<p>Retrieval-Augmented LLMs LLMs integrated with retrieval systems are broadly referred to as Retrieval-Augmented Generation (RAG) models [19], with the key components being a database of documents, a query system for retrieving documents, and a pipeline to add retrieved documents to a model's context. RAG models have proved effective at biomedical and clinical QA tasks [57, 16]. While RAG systems are typically pipelines with a fixed number and order of steps, they can be composed of multi-hop searches [58], or use Agents [49], where an LLM is used to decide when to use retrieval to augment an answer [43]. RAG performance can be further improved with a priori prompting, where an LLM is prompted to consider using latent information instead of searching, or a posteriori prompting, where an LLM is asked to consider the accuracy of a retrieved result and possibly provide an alternative answer [59]. Active RAG [60] regenerates sentences using retrieval if they contain low-probability tokens.</p>
<p>Retrieval Methods RAG models connected to databases retrieve documents using fixed representations, such as Bag-of-Words or BM25 [61, 62], pre-trained embeddings [63, 61], or trainable encoders [19, 64], which are trained offline [64] or online [65]. For models using open-ended sources such as the internet, phrase or keyword searches are used for retrieval [66, 49]. Retrieved documents are typically passed to the model as input tokens, but some models separately process retrieved information with cross-attention [67, 62]. Learning to rank and filter the retrieved documents [68] further improves the performance of RAG models. In our work, we evaluate Retrieval-Augmented Models that use keyword search systems and vector embedding retrieval. In particular, we focus on benchmarking against humans and uncover under what conditions LLMs can match human performance in information retrieval.</p>
<h1>3 Method</h1>
<h3>3.1 PAPERQA</h3>
<p>The PaperQA system is an agent shown in Figure 1. The fundamental operations of PaperQA are to find relevant papers from online databases, such as $\mathrm{Arxiv}^{1}$ and $\mathrm{Pubmed}^{2}$; gather text from these papers; and synthesize information into a final answer. PaperQA's tools are composed of both external APIs and LLMs, described in detail below. Compared to a standard RAG, we make four key innovations. First, we decompose parts of a RAG and provide them as tools to an agent. This allows for some operations, such as search, to be performed multiple times, with different keywords, if the evidence collected is insufficient. Second, we use a map summarization step to gather evidence from multiple sources followed by a reduce step to answer. The map-reduce step increases the amount of sources that can be considered, and provides a scratchpad [40], where the LLM can give intermediate evidence before formulating the final answer. Third, we utilise the LLM's ability to reason over text and provide numerical relevance scores for each chunk of text to the query question. In addition to the commonly used vector-embedding distances, we use these LLM-generated relevancy scores, adding another layer of retrieval. Finally, we make use of a priori and a posteriori prompting, tapping into the latent knowledge in LLMs.</p>
<h3>3.2 TOOLS</h3>
<p>PaperQA has three tools: search that finds relevant papers, gather_evidence that collects most relevant chunks of papers relative to the query into a context library, and answer_question which proposes an answer based on the accumulated contexts. These tools make use of three independent LLM instances, a summary LLM, an ask LLM, and an answer LLM, which ultimately take a string as input and output a status string while accumulating evidence to answer the question. The system prompts and the tools' descriptions appear in Appendices A. 2 and A. 3 respectively. The agent LLM is initialised with the following prompt:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Answer</span><span class="w"> </span><span class="n">question</span><span class="p">:</span><span class="w"> </span><span class="n">question</span><span class="o">.</span><span class="w"> </span><span class="n">Search</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">papers</span><span class="p">,</span><span class="w"> </span><span class="n">gather</span><span class="w"> </span><span class="n">evidence</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">answer</span><span class="o">.</span><span class="w"> </span><span class="n">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="ow">not</span>
<span class="n">have</span><span class="w"> </span><span class="n">enough</span><span class="w"> </span><span class="n">evidence</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">search</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">papers</span><span class="w"> </span><span class="p">(</span><span class="n">preferred</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">gather</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">evidence</span>
<span class="n">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">phrase</span><span class="o">.</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">rephrase</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="k">break</span><span class="o">-</span><span class="n">up</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">question</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">those</span><span class="w"> </span><span class="n">steps</span><span class="o">.</span><span class="w"> </span><span class="n">Once</span>
<span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">five</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">pieces</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">evidence</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">sources</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">tried</span><span class="w"> </span><span class="n">many</span>
<span class="n">times</span><span class="p">,</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">answer_question</span><span class="w"> </span><span class="k">tool</span><span class="o">.</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">reject</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">answer</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">try</span><span class="w"> </span><span class="n">again</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">is</span>
<span class="n">incomplete</span><span class="o">.</span>
</code></pre></div>

<p>search The agent gives this tool keywords and (optionally) a year range. This queries a scientific literature search engine. Retrieved papers are added to a local bibliography for use by gather_evidence. They are added by creating overlapping 4,000 character chunks which are embedded with the text-embedding-ada-002 model [69] and inserted into a vector database [70]. There is a failure rate associated with the performance of search engines, accessing papers, and parsing of PDFs. We explore this in Appendix C. This tool is always executed once with the full-text question before initialising the agent.
gather_evidence This tool is given a question as input by the agent. This question is vectorembedded using the OpenAI text-embedding-ada-002 [69], and relevant chunks based on vector search are returned from the vector database created in the search tool. Chunks are retrieved with maximal marginal relevance search [71] to increase the diversity of returned texts. Each retrieved chunk is fed to a summary LLM with the following prompt:</p>
<p><sup id="fnref:0"><a class="footnote-ref" href="#fn:0">1</a></sup></p>
<div class="codehilite"><pre><span></span><code>Summarize the text below to help answer a question. Do not directly answer the question,
instead summarize to give evidence to help answer the question. Reply &#39;Not applicable&#39; if
text is irrelevant. Use summary_length. At the end of your response, provide a score from
1-10 on a newline indicating relevance to question. Do not explain your score.
chunk
Excerpt from citation
Question: question
Relevant Information Summary:
</code></pre></div>

<p>The returned chunks are then sorted by score and the top-k chunks are collected in a context library. The tool returns the top-1 chunk to the agent, so that the agent can respond to the top chunk.</p>
<p>The gather_evidence tool is a map step that is always present in RAG systems. It provides an opportunity to reject irrelevant context and can be done concurrently to minimize the compute time. It is especially helpful for PDF parsing errors, which can be mitigated by having this step that can summarize garbled text with the question providing context to guide the summary.
answer_question We first use the ask LLM to provide any useful information from the pre-trained LLM that might help with answering the original question (details are given in Appendix A.4), similar to the to the priori judgement explored in [59]. The output of the ask LLM is added to the chunks from the context library, and the final prompt to the answer LLM is as follows:</p>
<div class="codehilite"><pre><span></span><code>Write an answer (answer_length) for the question below based on the provided context. If
the context provides insufficient information, reply &#39;&#39;I cannot answer&#39;&#39;. For each part of
your answer, indicate which sources most support it via valid citation markers at the end
of sentences, like (Example2012). Answer in an unbiased, comprehensive, and scholarly
tone. If the question is subjective, provide an opinionated answer in the concluding 1-2
sentences.
context
Extra background information: ask LLM
Question: question
Answer:
</code></pre></div>

<p>The question in this prompt is the original question fed to the higher-level PaperQA agent, and the context comes from the collection of relevant chunks within the context library. The response from the the tool is returned to the agent, which may reject or accept the answer based as given in the agent's initialisation prompt given above.</p>
<h1>4 The LitQA DataSet</h1>
<p>Existing benchmarks for scientific question-answering evaluate the ability of AI systems to present widely-known or widely-available information, or to answer questions given a specific context. These benchmarks are thus insufficient for evaluating an agent's ability to answer questions based on retrieved information. We thus introduce the LitQA dataset for PaperQA evaluation. The questions in LitQA are sourced from recent literature (after September 2021), so that we expect that they will not have been including in training for most language models, and are designed to be difficult or impossible to answer without retrieving the relevant paper. LitQA thus evaluates the ability both to retrieve necessary information and to present an accurate answer based on that information.</p>
<p>Dataset description The LitQA dataset consists of 50 multiple-choice questions, assembled by experts. All questions come from the biomedical domain. It has 5 Yes/No questions, 6 questions with 3 possible answers, 23 questions with 4 possible answers, 10 questions with 5 possible answers, 4 questions with 6 possible answers and finally 2 questions with 7 possible answers. We show examples of the questions in Table 1.</p>
<p>Data collection All questions were written and reviewed by researchers in natural and biomedical sciences. Questions were assembled by first selecting a paper published after the September 2021</p>
<p>Table 1: LitQA Dataset Examples. Three example questions from the dataset with correct answers bolded. The difficulty annotated comes from our observations in experiments given in Section 5.</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>Question</th>
<th>Answers</th>
<th>Difficulty</th>
</tr>
</thead>
<tbody>
<tr>
<td>7</td>
<td>Has anyone performed a base editing screen against splice sites in CD33 before?</td>
<td>Yes No</td>
<td>Easy</td>
</tr>
<tr>
<td>32</td>
<td>How diffuse are the laminar patterns of the axonal terminations of lower Layer 5/Layer 6 intratelencephalic neurons compared to Layer 2-4 intratelencephalic neurons in mouse cortex?</td>
<td>More diffuse About the same Less diffuse</td>
<td>Medium</td>
</tr>
<tr>
<td>21</td>
<td>Which of these glycoRNAs does NOT show an increase in M0 macrophages upon stimulation with LPS: U1, U35a, Y5 or U8?</td>
<td>U8 <br> U1 <br> U35a <br> Y5</td>
<td>Hard</td>
</tr>
</tbody>
</table>
<p>cutoff and then devising a question from that paper that both refers to a novel finding in the paper and that is not presented in the paper abstract. We do not expect these findings to be presented in other papers or to be available in sources preceding the cutoff. For every question, distractor answers were also created, either by the question writer alone, or by using an LLM to provide a plausible answer to the given question. We take special care to only collect questions from papers published after the GPT-3.5/4 cutoff date in September 2021. This ensures the questions cannot be reliably answered using the latent knowledge of GPT-4. Each question was then independently reviewed by at least one other co-author.</p>
<p>Human performance We recruited five biomedical researchers with an undergraduate degree or higher to solve LitQA. They were given access to the internet and given three minutes per question ( 2.5 hours in total) to answer all questions, specifying the paper they used to choose the corresponding answer. Additionally, they were instructed to answer unsure if they cannot find the answer to a given question.</p>
<h1>5 EXPERIMENTS</h1>
<p>In this section we measure the performance of PaperQA on LitQA and other datasets, and compare to existing commercial products. We ablate all components of PaperQA on the LitQA dataset, showing their importance. Finally, we investigate the ability to retrieve relevant papers and the rate of hallucinations.</p>
<h3>5.1 EXPERIMENTAL DETAILS</h3>
<p>All of the experiments were implemented within LangChain's agent framework [72]. As described above, we use four different LLM instances with the following settings unless stated otherwise: agent LLM: GPT-4 OpenAIFunctions Agent with temperature $\tau_{\text {agent }}=0.5$; summary LLM: GPT3.5 always with temperature $\tau_{\text {sum }}=0.2$; answer LLM: GPT-4 with temperature $\tau_{\text {aux }}=0.5$; ask LLM: GPT-4 with temperature $\tau_{\text {ask }}=0.5$. For the search engine, we use Google Scholar, where we collect the top-5 papers that are accessible. The implementation details are explained in an experiment in the appendix. We access papers through publicly available APIs, such as Arxiv, PMC, OpenAccess, PubMed, and our own local database of papers. Lastly, we set the number of sources to consider at each round of gather_evidence to 20, and the count of evidence context to include in the final answer within answer_question to 8 .</p>
<h3>5.2 RESULTS</h3>
<p>Here we thoroughly evaluate PaperQA. We compare it against commercially available tools and human performance on LitQA. Next, we ablate the components of PaperQA and look into hallucinated citations. Finally, we evaluate PaperQA on several standard QA benchmarks.</p>
<p>Scientific Question Answering First, we compare PaperQA on LitQA with two pre-trained LLMs, AutoGPT and several commercially available tools for scientific research - Elicit, Scite_</p>
<p>Table 2: Evaluation on LitQA. We compare PaperQA with other LLMs, the AutoGPT agent, and commercial products that use RAG. AutoGPT was run with GPT-4, where other implementation details are given in the Appendix B. Elicit.AI was run on default settings, Perplexity was run in academic mode, Perplexity Co-pilot was run on default settings (perplexity model, "all sources"), and "Assistant by Scite_" was run on default settings. Each question was run on a new context (thread) and all commercial products were evaluated on September 27, 2023. We report averages over a different number of runs for each.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Model</th>
<th style="text-align: center;">Samples</th>
<th style="text-align: center;">Response</th>
<th style="text-align: center;"></th>
<th style="text-align: center;"></th>
<th style="text-align: center;">Score</th>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">Correct</td>
<td style="text-align: center;">Incorrect</td>
<td style="text-align: center;">Unsure</td>
<td style="text-align: center;">Accuracy ( $\frac{\text { Correct }}{\text { All }}$ )</td>
<td style="text-align: center;">Precision ( $\frac{\text { Correct }}{\text { Sure }}$ )</td>
</tr>
<tr>
<td style="text-align: center;">Random</td>
<td style="text-align: center;">100</td>
<td style="text-align: center;">10.2</td>
<td style="text-align: center;">29.5</td>
<td style="text-align: center;">10.3</td>
<td style="text-align: center;">20.4\%</td>
<td style="text-align: center;">25.7\%</td>
</tr>
<tr>
<td style="text-align: center;">Human</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">33.4</td>
<td style="text-align: center;">4.6</td>
<td style="text-align: center;">12.0</td>
<td style="text-align: center;">66.8\%</td>
<td style="text-align: center;">87.9\%</td>
</tr>
<tr>
<td style="text-align: center;">Claude-2</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">20.3</td>
<td style="text-align: center;">26.3</td>
<td style="text-align: center;">3.3</td>
<td style="text-align: center;">40.6\%</td>
<td style="text-align: center;">43.6\%</td>
</tr>
<tr>
<td style="text-align: center;">GPT-4</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">16.7</td>
<td style="text-align: center;">16.3</td>
<td style="text-align: center;">17.0</td>
<td style="text-align: center;">33.4\%</td>
<td style="text-align: center;">50.6\%</td>
</tr>
<tr>
<td style="text-align: center;">AutoGPT</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">20.7</td>
<td style="text-align: center;">7.3</td>
<td style="text-align: center;">22.0</td>
<td style="text-align: center;">41.4\%</td>
<td style="text-align: center;">73.9\%</td>
</tr>
<tr>
<td style="text-align: center;">Elicit</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">12.0</td>
<td style="text-align: center;">16.0</td>
<td style="text-align: center;">22.0</td>
<td style="text-align: center;">24.0\%</td>
<td style="text-align: center;">42.9\%</td>
</tr>
<tr>
<td style="text-align: center;">Scite_</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">12.0</td>
<td style="text-align: center;">21.0</td>
<td style="text-align: center;">17.0</td>
<td style="text-align: center;">24.0\%</td>
<td style="text-align: center;">36.4\%</td>
</tr>
<tr>
<td style="text-align: center;">Perplexity</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">9.0</td>
<td style="text-align: center;">10.0</td>
<td style="text-align: center;">31.0</td>
<td style="text-align: center;">18.0\%</td>
<td style="text-align: center;">47.4\%</td>
</tr>
<tr>
<td style="text-align: center;">Perplexity (Co-pilot)</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">29.0</td>
<td style="text-align: center;">10.0</td>
<td style="text-align: center;">12.0</td>
<td style="text-align: center;">58.0\%</td>
<td style="text-align: center;">74.4\%</td>
</tr>
<tr>
<td style="text-align: center;">PaperQA</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">34.8</td>
<td style="text-align: center;">4.8</td>
<td style="text-align: center;">10.5</td>
<td style="text-align: center;">69.5\%</td>
<td style="text-align: center;">87.9\%</td>
</tr>
</tbody>
</table>
<p>and Perplexity - in Table 2. All commercial tools are specifically tailored to answering questions by retrieving scientific literature. We give them the same prompt as to PaperQA. From Table 2 we see that PaperQA outperforms all competing models and products, and is on par with that of human experts with access to the internet. Furthermore, we see the lowest rate of incorrectly answered questions out of all tools, which rivals that of humans. This emphasizes that PaperQA is better calibrated to express uncertainty when it actually is uncertain. Surprisingly, GPT-4 and Claude-2 perform better than random although the questions are from papers after their training cut-off date, suggesting they have latent knowledge, leading to useful bias towards answers that are more plausible.</p>
<p>PaperQA averaged 4,500 tokens (prompt + completion) for the more expensive LLMs (agent LLM, answer LLM, ask LLM) and 24,000 tokens for the cheaper, high-throughput LLM (summary LLM). Based on commercial pricing as of September 2023, that gives a cost per question of $\$ 0.18$ using the stated GPT-4 and GPT-3.5-turbo models. It took PaperQA on average about 2.4 hours to answer all questions, which is also on par with humans who were given 2.5 hours. A single instance of PaperQA would thus cost $\$ 3.75$ per hour, which is a fraction of an average hourly wage of a desk researcher. We exclude other negligible operating costs, such as search engine APIs, or electricity.</p>
<p>How does PaperQA compare to expert humans? PaperQA shows similar results to those of the expert humans who answered the questions. To quantify this, we calculate the categorical correlation (Cramer's $V$ ) of the responses for each human-human and human-PaperQA pair. Average human-human $V$ is $0.66 \pm 0.03$, whereas average human-PaperQA $V$ is $0.67 \pm 0.02$ (mean $\pm$ stderr), indicating that PaperQA is, on average, as correlated with human respondents as the human respondents are with each other, implying no discernable difference in responses. To compare, the average $V$ between humans and Perplexity was $0.630 \pm 0.05$.</p>
<p>Ablating PaperQA We report performance on LitQA when toggling different parts and LLMs of PaperQA in Table 3. Using GPT-4 as the answer LLM slightly outperforms Claude-2. When we look at the different components of PaperQA, we observe a major drop in performance when not including multiple-choice options as answers (no MC options) and using Semantic Scholar instead of Google Scholar. The former we explain with the fact that closed-form questions are easier than open-form ones, and the model can use keywords derived from the possible answers to search. The drop in performance of the linear settings, Vanilla RAG and No search, show the advantage of an agent-based model that can call tools multiple times until it is satisfied with the final answer. Surprisingly enough, not using the LLM's latent knowledge (no ask LLM) also hurts performance, despite the benchmark being based on information after the cutoff date - we suggest that the useful latent knowledge we find LLMs to possess in Table 5 helps the agent use the best pieces of evidence.</p>
<p>Table 3: Ablation of LLM Types on LitQA (left). We compare using different LLMs for the answer LLM and summary LLM, averaged over 2 runs. Ablation of PaperQA Components on LitQA (right). No summary LLM setting only implements vector retrieval without any summarizaton and relevance scoring. Single citation only uses the best scoring chunk from the context library. No ask LLM ignores including the LLM's latent knowledge within the context of the answer LLM. No search setting starts with all papers from LitQA already collected and runs gather_evidence once. Vanilla RAG setting runs the search tool thrice, followed by a single call to gather_evidence and answer_question. Semantic Scholar uses Semantic Scholar instead of Google Scholar. No MC options provides no multiple-choice answers as options within the question prompt. All ablations were done with a single run.</p>
<table>
<thead>
<tr>
<th>Model</th>
<th></th>
<th>Correct</th>
<th>Incorrect</th>
<th>Unsure</th>
</tr>
</thead>
<tbody>
<tr>
<td>Answer</td>
<td>Summary</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Claude-2</td>
<td>GPT-3.5</td>
<td>32.5</td>
<td>7.0</td>
<td>10.5</td>
</tr>
<tr>
<td>Claude-2</td>
<td>GPT-4</td>
<td>26.5</td>
<td>9.0</td>
<td>14.5</td>
</tr>
<tr>
<td>GPT-4</td>
<td>GPT-3.5</td>
<td>33.5</td>
<td>5.0</td>
<td>11.5</td>
</tr>
<tr>
<td>GPT-4</td>
<td>GPT-4</td>
<td>31.5</td>
<td>7.0</td>
<td>11.5</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Ablation</th>
<th>Correct</th>
<th>Incorrect</th>
<th>Unsure</th>
</tr>
</thead>
<tbody>
<tr>
<td>PaperQA</td>
<td>33.5</td>
<td>5.0</td>
<td>11.5</td>
</tr>
<tr>
<td>No summary LLM</td>
<td>29.0</td>
<td>10.0</td>
<td>11.0</td>
</tr>
<tr>
<td>Single citation</td>
<td>27.0</td>
<td>10.0</td>
<td>13.0</td>
</tr>
<tr>
<td>No ask LLM</td>
<td>23.0</td>
<td>14.0</td>
<td>13.0</td>
</tr>
<tr>
<td>No search</td>
<td>23.0</td>
<td>7.0</td>
<td>20.0</td>
</tr>
<tr>
<td>Vanilla RAG</td>
<td>22.0</td>
<td>6.0</td>
<td>22.0</td>
</tr>
<tr>
<td>Semantic Scholar</td>
<td>21.0</td>
<td>4.0</td>
<td>25.0</td>
</tr>
<tr>
<td>No MC options</td>
<td>18.0</td>
<td>6.0</td>
<td>26.0</td>
</tr>
</tbody>
</table>
<p>Table 4: Comparison of Hallucination in Citations. We compare PaperQA's hallucination rates of citations with three pre-trained LLMs. Hallucinated refers to references that are either nonexistent, partially inaccurate, or have content that does not match the claim. Scores are calculated for each LLM based on N number of citations provided by the model. *For context irrelevance only, all 237 citations were evaluated via GPT-4, with 25 additionally checked by experts and 0 were found to be irrelevant.</p>
<table>
<thead>
<tr>
<th>LLM</th>
<th>Valid (\%)</th>
<th>Hallucinated (\%)</th>
<th></th>
<th></th>
<th>N</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td>Full Hallucination</td>
<td>Citation Inaccuracy</td>
<td>Context Irrelevance</td>
<td></td>
</tr>
<tr>
<td>GPT-3.5</td>
<td>52.50\%</td>
<td>33.75\%</td>
<td>12.50\%</td>
<td>1.25\%</td>
<td>80</td>
</tr>
<tr>
<td>GPT-4</td>
<td>60.78\%</td>
<td>29.41\%</td>
<td>3.92\%</td>
<td>5.88\%</td>
<td>51</td>
</tr>
<tr>
<td>Claude-2</td>
<td>39.71\%</td>
<td>42.65\%</td>
<td>4.41\%</td>
<td>13.24\%</td>
<td>68</td>
</tr>
<tr>
<td>PaperQA</td>
<td>100\%</td>
<td>0\%</td>
<td>0\%</td>
<td>0\%*</td>
<td>237</td>
</tr>
</tbody>
</table>
<p>Lastly, due to the retrieval-first nature of LitQA, where only a single chunk from the original paper includes the answer, both single citation and no summary LLM settings perform comparably to standard PaperQA.</p>
<p>Does PaperQA Hallucinate Citations? We assessed citation hallucinations from GPT-3.5, GPT4, and Claude-2 using 52 questions from an earlier version of LitQA ${ }^{3}$, where we ask the LLM to answer the question in long-form and provide citations. The citations were assessed manually to verify existence of the paper, the accuracy of the citation details, and the relevance of the cited paper to the provided answer. Scores were based on the total number of citations N , rather than number of answers. We show hallucination results in Table 4. Hallucinated citations are categorized as full hallucination, citation inaccuracy, or context irrelevance (the paper cited exists, but is irrelevant to the question). We tested numerous times, but no hallucinated citations were produced through PaperQA. Anecdotally, we have observed PaperQA citing a secondary source mentioned in a primary source which could lead to a hallucination since it has no access to the secondary source.</p>
<p>Evaluation on QA Benchmarks We evaluate PaperQA on standard QA multiple-choice datasets commonly used to assess LLMs. These benchmarks test for commonly known facts, which are most commonly not found in academic papers, but in textbooks. Here we measure how well PaperQA,</p>
<p><sup id="fnref2:0"><a class="footnote-ref" href="#fn:0">1</a></sup> <sup id="fnref3:0"><a class="footnote-ref" href="#fn:0">1</a></sup>: ${ }^{3}$ The final revised dataset had fewer questions because some had multiple potential answers, so there is small discrepancy on the questions used here.</p>
<p>Table 5: Evaluation of PaperQA on Standard QA Benchmarks. We evaluate PaperQA on several multiple-choice QA datasets. PubMedQA ${ }_{\text {blind }}$ is a version of the PubMedQA, where we obscure the context. GPT-4 + PaperQA is GPT-4 prompted to either answer or use PaperQA as an oracle to help answer the question. ${$ PaperQA/AutoGPT $}+$ Post reasoning involves feeding the output of PaperQA or AutoGPT to GPT-4, which is prompted to answer the question and use the output from the other systems if deemed useful. These two are similar to the a priori and a posteriori reasoning in Ren et al. [59] respectively.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Method</th>
<th style="text-align: center;">MedQA-USMLE</th>
<th style="text-align: center;">BioASQ</th>
<th style="text-align: center;">PubMedQA $_{\text {blind }}$</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">GPT-4</td>
<td style="text-align: center;">67.0</td>
<td style="text-align: center;">84.0</td>
<td style="text-align: center;">57.9</td>
</tr>
<tr>
<td style="text-align: left;">GPT-4 + PaperQA</td>
<td style="text-align: center;">63.0</td>
<td style="text-align: center;">87.0</td>
<td style="text-align: center;">$\mathbf{8 6 . 3}$</td>
</tr>
<tr>
<td style="text-align: left;">AutoGPT</td>
<td style="text-align: center;">54.0</td>
<td style="text-align: center;">73.0</td>
<td style="text-align: center;">56.8</td>
</tr>
<tr>
<td style="text-align: left;">AutoGPT + Post reasoning</td>
<td style="text-align: center;">56.0</td>
<td style="text-align: center;">75.0</td>
<td style="text-align: center;">61.3</td>
</tr>
<tr>
<td style="text-align: left;">PaperQA</td>
<td style="text-align: center;">68.0</td>
<td style="text-align: center;">89.0</td>
<td style="text-align: center;">$\mathbf{8 6 . 3}$</td>
</tr>
<tr>
<td style="text-align: left;">PaperQA + Post reasoning</td>
<td style="text-align: center;">$\mathbf{6 9 . 0}$</td>
<td style="text-align: center;">$\mathbf{9 1 . 0}$</td>
<td style="text-align: center;">85.0</td>
</tr>
</tbody>
</table>
<p>which relies on information from papers, can perform on such questions. For all datasets, we evaluate on 100 randomly sampled questions (see Appendix E for details). We evaluate on the following datasets: PubMedQA [21] consists of yes/no/maybe questions that can be answered using a provided context. To mimic the LitQA setting, the context is not provided to the model. We call this PubMedQ $_{\text {blind }}$ to distinguish from PubMedQA. Furthermore, we omit questions that have a "maybe" ground-truth answer, as such questions may have evolved into definitive "yes" or "no" answers since the dataset was released in 2019. MedQA [73] consists of multiple-choice questions based on the United States Medical License Exams (USMLE) and covers multiple languages. We use the questions in English. BioASQ [74] is a biomedical QA dataset. We only use the yes/no questions.</p>
<p>In Table 5 we compare PaperQA to GPT-4 and AuoGPT (we do not measure the performance of commercially available tools as they have no API and require manual evaluation). For all benchmarks and methods, we use zero-shot inference. While AutoGPT underperforms GPT-4, PaperQA outperforms GPT-4 in all datasets. We see that the biggest gap in performance, and the biggest improvement when equipping GPT-4 with PaperQA search is on PubMedQA $_{\text {blind }}$. In Appendix F we find that PaperQA matches the performance of GPT-4 that uses ground-truth context (which contains the correct answer by design), showing it is able to retrieve context information that is on par with the ground-truth one. We see a smaller gap between PaperQA and GPT-4 on MedQA, which we explain with the fact that MedQA is based on medical examinations and requires knowledge found in textbooks, instead of academic papers. Finally, we make the observation that GPT-4, on average, performs better with posteriori reasoning when using PaperQA.</p>
<h1>6 LIMITATIONS</h1>
<p>PaperQA leverages fact, processes and concepts from underlying research papers; transforming that information into human and machine interpretable context. We have an underlying assumption from this that the information in the underlying papers is correct, which may not hold. Although we give some "signals" to the model like the journal name and citation count, these are not faithful indicators of quality.</p>
<p>Our models and benchmarks are affected by the changing nature of science and the availability of scientific literature: some of the questions in LitQA may have new correct answers or become invalid over time. Users of this benchmark should therefore limit papers used to answer the questions to be cutoff at September 15, 2023.
While recent work has been conducted on prompt optimization [75, 76], the complex setting of multiple agents with individual prompts is unsolved. Specifically, the task becomes a non-trivial, bi-level optimization problem. Consequently, discerning the impact of manual prompt adjustments becomes difficult. Thus, it is unlikely our prompts are optimal and it is difficult to assess which pieces of the prompts are necessary.</p>
<h1>7 CONCLUSION</h1>
<p>We introduced PaperQA, a Retrieval-Augmented Generative (RAG) agent that can answer scientific questions better than other LLMs and commercial products. We found PaperQA to be more costefficient than humans, while still retaining its accuracy on par with human researchers. We measured the hallucination rate of citations for recent LLMs to be between 40-60\%, whereas we were not able to find a single hallucinated citation in PaperQA's responses. We also introduced LitQA a benchmark of 50 questions that require retrieving information from full-text scientific papers. The PaperQA system works independently of the underlying model, with various combinations of Claude-2, GPT-3.5, and GPT-4 providing strong results on LitQA. The most important attributes of PaperQA are its ability to dynamically use RAG tools, retrieve full-text papers, and iterate on the answer through the agent's decision-making. We hope this open-source implementation of a scientific question-answering system illuminates the design of future RAG agents and tools that reduce hallucinations in LLMs. With such advancements, we believe scientific research will be carried at a fraction of the cost and a multiple of the speed, spurring faster innovation within the natural sciences. By augmenting researchers with a literature review tool, we aim to minimise the time spend searching literature, and rather maximize the amount of productive hours spend carrying out deep thinking for scientific research.</p>
<h2>ACKNOWLEDGMENTS</h2>
<p>The authors thank Mitchell Zheng at the University of Melbourne for contributing questions to the LitQA dataset. We also thank Matthew Rubashkin for significant contribution to the results and engineering of this paper.</p>
<h2>REPRODUCIbility STATEMENT</h2>
<p>Discussions on the inherent limitations and challenges faced, along with the mitigations applied to maintain the robustness and reliability of the models, are available in section 6 . For comprehensive understanding and replicability of our approach, we recommend a thorough review of the mentioned section, coupled with the supplemental materials provided.</p>
<h2>Ethics Statement</h2>
<p>Dual-use (applying technology for both beneficial and detrimental purposes) is an ongoing concern as more powerful models are developed Urbina et al. [77]. We performed rigorous red-teaming questions and did not observe risks for harm that are significantly elevated compared to direct use of the language models used for summarization. Similarly, the LitQA dataset and responses pose no risk for harm.</p>
<h2>REFERENCES</h2>
<p>[1] Dimitrije Curcic. Dimitrije curcic, Jun 2023. URL https://wordsrated.com/number-of-academic-papers-published-per-year/#: :text=As\%20of\%202022\%2C\%20over\%205.14,5. $03 \% 20$ million\%20papers\%20were\%20published.
[2] Michael Fire and Carlos Guestrin. Over-optimization of academic publishing metrics: observing goodhart's law in action. GigaScience, 8(6):giz053, 2019.
[3] Santo Fortunato, Carl T Bergstrom, Katy Börner, James A Evans, Dirk Helbing, Staša Milojević, Alexander M Petersen, Filippo Radicchi, Roberta Sinatra, Brian Uzzi, et al. Science of science. Science, 359(6379):eaao0185, 2018.
[4] Gunther S Stent. Prematurity and uniqueness in scientific discovery. Scientific American, 227 (6):84-93, 1972.
[5] Eugene Garfield. Premature discovery or delayed recognition-why. Current contents, (21): $5-10,1980$.
[6] Google Scholar. Google scholar. URL https://scholar.google.com/.</p>
<p>[7] Rodney Kinney, Chloe Anastasiades, Russell Authur, Iz Beltagy, Jonathan Bragg, Alexandra Buraczynski, Isabel Cachola, Stefan Candra, Yoganand Chandrasekhar, Arman Cohan, et al. The semantic scholar open data platform. arXiv preprint arXiv:2301.10140, 2023.
[8] Arman Cohan, Sergey Feldman, Iz Beltagy, Doug Downey, and Daniel S Weld. Specter: Document-level representation learning using citation-informed transformers. arXiv preprint arXiv:2004.07180, 2020.
[9] Iz Beltagy, Kyle Lo, and Arman Cohan. SciBERT: A pretrained language model for scientific text. In Proceedings of the 2019 Conference on Empirical Methods in Natural Language Processing and the 9th International Joint Conference on Natural Language Processing (EMNLPIJCNLP), Hong Kong, China, November 2019. Association for Computational Linguistics. URL https://aclanthology.org/D19-1371.
[10] Piotr Bojanowski, Edouard Grave, Armand Joulin, and Tomas Mikolov. Enriching word vectors with subword information, 2017.
[11] Amanpreet Singh, Mike D'Arcy, Arman Cohan, Doug Downey, and Sergey Feldman. Scirepeval: A multi-format benchmark for scientific document representations. ArXiv, abs/2211.13308, 2022.
[12] Paul Resnick and Hal R Varian. Recommender systems. Communications of the ACM, 40(3): $56-58,1997$.
[13] Gediminas Adomavicius and Alexander Tuzhilin. Toward the next generation of recommender systems: A survey of the state-of-the-art and possible extensions. IEEE transactions on knowledge and data engineering, 17(6):734-749, 2005.
[14] Karan Singhal, Shekoofeh Azizi, Tao Tu, S Sara Mahdavi, Jason Wei, Hyung Won Chung, Nathan Scales, Ajay Tanwani, Heather Cole-Lewis, Stephen Pfohl, et al. Large language models encode clinical knowledge. Nature, pages 1-9, 2023.
[15] Nigel Williams, Stanislav Ivanov, and Dimitrios Buhalis. Algorithmic ghost in the research shell: Large language models and academic knowledge creation in management research, 2023.
[16] W. Hiesinger, C. Zakka, Akash Chaurasia, R. Shad, Alex R. Dalal, Jennifer Kim, Michael Moor, Kevin Alexander, Euan A. Ashley, Jack Boyd, Kathleen Boyd, Karen Hirsch, C. Langlotz, and Joanna Nelson. Almanac: Retrieval-augmented language models for clinical medicine. Research Square, 2023.
[17] Bertalan Meskó and Eric J Topol. The imperative for regulatory oversight of large language models (or generative ai) in healthcare. NPJ Digital Medicine, 6(1):120, 2023.
[18] Phil Williamson. Take the time and effort to correct misinformation. Nature, 540(7632):171171, 2016.
[19] Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel, et al. Retrievalaugmented generation for knowledge-intensive nlp tasks. Advances in Neural Information Processing Systems, 33:9459-9474, 2020.
[20] Kurt Shuster, Spencer Poff, Moya Chen, Douwe Kiela, and Jason Weston. Retrieval augmentation reduces hallucination in conversation. arXiv preprint arXiv:2104.07567, 2021.
[21] Qiao Jin, Bhuwan Dhingra, Zhengping Liu, William Cohen, and Xinghua Lu. PubMedQA: A dataset for biomedical research question answering. In Proceedings of the 2019 Conference on Empirical Methods in Natural Language Processing and the 9th International Joint Conference on Natural Language Processing (EMNLP-IJCNLP), pages 2567-2577, Hong Kong, China, November 2019. Association for Computational Linguistics. doi: 10.18653/v1/D191259. URL https://aclanthology.org/D19-1259.</p>
<p>[22] Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones, Aidan N Gomez, Łukasz Kaiser, and Illia Polosukhin. Attention is all you need. Advances in neural information processing systems, 30, 2017.
[23] Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared D Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell, et al. Language models are few-shot learners. Advances in neural information processing systems, 33:1877-1901, 2020.
[24] Rishi Bommasani, Drew A Hudson, Ehsan Adeli, Russ Altman, Simran Arora, Sydney von Arx, Michael S Bernstein, Jeannette Bohg, Antoine Bosselut, Emma Brunskill, et al. On the opportunities and risks of foundation models. arXiv preprint arXiv:2108.07258, 2021.
[25] Aakanksha Chowdhery, Sharan Narang, Jacob Devlin, Maarten Bosma, Gaurav Mishra, Adam Roberts, Paul Barham, Hyung Won Chung, Charles Sutton, Sebastian Gehrmann, et al. Palm: Scaling language modeling with pathways. arXiv preprint arXiv:2204.02311, 2022.
[26] Danny Driess, Fei Xia, Mehdi SM Sajjadi, Corey Lynch, Aakanksha Chowdhery, Brian Ichter, Ayzaan Wahid, Jonathan Tompson, Quan Vuong, Tianhe Yu, et al. Palm-e: An embodied multimodal language model. arXiv preprint arXiv:2303.03378, 2023.
[27] OpenAI. Gpt-4 technical report, 2023.
[28] Fan Bai, Alan Ritter, Peter Madrid, Dayne Freitag, and John Niekrasz. SynKB: Semantic search for synthetic procedures. In Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing: System Demonstrations, pages 311-318, Abu Dhabi, UAE, December 2022. Association for Computational Linguistics. URL https://aclanthology.org/ 2022.emnlp-demos.31.
[29] Ronen Tamari, Fan Bai, Alan Ritter, and Gabriel Stanovsky. Process-level representation of scientific protocols with interactive annotation. In Proceedings of the 16th Conference of the European Chapter of the Association for Computational Linguistics: Main Volume, pages 2190-2202, Online, April 2021. Association for Computational Linguistics. doi: 10.18653/v1/2021.eacl-main.187. URL https://aclanthology.org/2021.eacl-main.187.
[30] Yu Gu, Robert Tinn, Hao Cheng, Michael Lucas, Naoto Usuyama, Xiaodong Liu, Tristan Naumann, Jianfeng Gao, and Hoifung Poon. Domain-specific language model pretraining for biomedical natural language processing. ACM Transactions on Computing for Healthcare (HEALTH), 3(1):1-23, 2021.
[31] Patrick Lewis, Myle Ott, Jingfei Du, and Veselin Stoyanov. Pretrained language models for biomedical and clinical tasks: Understanding and extending the state-of-the-art. In Proceedings of the 3rd Clinical Natural Language Processing Workshop, Online, November 2020. Association for Computational Linguistics. doi: 10.18653/v1/2020.clinicalnlp-1.17. URL https://aclanthology.org/2020.clinicalnlp-1.17.
[32] Renqian Luo, Liai Sun, Yingce Xia, Tao Qin, Sheng Zhang, Hoifung Poon, and Tie-Yan Liu. Biogpt: generative pre-trained transformer for biomedical text generation and mining. Briefings in Bioinformatics, 23(6), 2022.
[33] Jinhyuk Lee, Wonjin Yoon, Sungdong Kim, Donghyeon Kim, Sunkyu Kim, Chan Ho So, and Jaewoo Kang. Biobert: a pre-trained biomedical language representation model for biomedical text mining. Bioinformatics, 36(4):1234-1240, 2020.
[34] Hoo-Chang Shin, Yang Zhang, Evelina Bakhturina, Raul Puri, Mostofa Patwary, Mohammad Shoeybi, and Raghav Mani. Biomegatron: Larger biomedical domain language model. arXiv preprint arXiv:2010.06060, 2020.
[35] Ross Taylor, Marcin Kardas, Guillem Cucurull, Thomas Scialom, Anthony Hartshorn, Elvis Saravia, Andrew Poulton, Viktor Kerkez, and Robert Stojnic. Galactica: A large language model for science. arXiv preprint arXiv:2211.09085, 2022.
[36] Mayk Caldas Ramos, Shane S Michtavy, Marc D Porosoff, and Andrew D White. Bayesian optimization of catalysts with in-context learning. arXiv preprint arXiv:2304.05341, 2023.</p>
<p>[37] Linxi Fan, Guanzhi Wang, Yunfan Jiang, Ajay Mandlekar, Yuncong Yang, Haoyi Zhu, Andrew Tang, De-An Huang, Yuke Zhu, and Anima Anandkumar. Minedojo: Building open-ended embodied agents with internet-scale knowledge, 2022.
[38] Noah Shinn, Federico Cassano, Beck Labash, Ashwin Gopinath, Karthik Narasimhan, and Shunyu Yao. Reflexion: Language agents with verbal reinforcement learning, 2023.
[39] Yizhong Wang, Yeganeh Kordi, Swaroop Mishra, Alisa Liu, Noah A Smith, Daniel Khashabi, and Hannaneh Hajishirzi. Self-instruct: Aligning language model with self generated instructions. arXiv preprint arXiv:2212.10560, 2022.
[40] Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Fei Xia, Ed Chi, Quoc V Le, Denny Zhou, et al. Chain-of-thought prompting elicits reasoning in large language models. Advances in Neural Information Processing Systems, 35:24824-24837, 2022.
[41] Shunyu Yao, Dian Yu, Jeffrey Zhao, Izhak Shafran, Thomas L Griffiths, Yuan Cao, and Karthik Narasimhan. Tree of thoughts: Deliberate problem solving with large language models. arXiv preprint arXiv:2305.10601, 2023.
[42] Ehud Karpas, Omri Abend, Yonatan Belinkov, Barak Lenz, Opher Lieber, Nir Ratner, Yoav Shoham, Hofit Bata, Yoav Levine, Kevin Leyton-Brown, et al. Mrkl systems: A modular, neuro-symbolic architecture that combines large language models, external knowledge sources and discrete reasoning. arXiv preprint arXiv:2205.00445, 2022.
[43] Timo Schick, Jane Dwivedi-Yu, Roberto Dessì, Roberta Raileanu, Maria Lomeli, Luke Zettlemoyer, Nicola Cancedda, and Thomas Scialom. Toolformer: Language models can teach themselves to use tools. arXiv preprint arXiv:2302.04761, 2023.
[44] Yongliang Shen, Kaitao Song, Xu Tan, Dongsheng Li, Weiming Lu, and Yueting Zhuang. Hugginggpt: Solving ai tasks with chatgpt and its friends in huggingface. arXiv preprint arXiv:2303.17580, 2023.
[45] Shunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran, Karthik Narasimhan, and Yuan Cao. React: Synergizing reasoning and acting in language models. arXiv preprint arXiv:2210.03629, 2022.
[46] Zhengyuan Yang, Linjie Li, Jianfeng Wang, Kevin Lin, Ehsan Azarnasab, Faisal Ahmed, Zicheng Liu, Ce Liu, Michael Zeng, and Lijuan Wang. Mm-react: Prompting chatgpt for multimodal reasoning and action. arXiv preprint arXiv:2303.11381, 2023.
[47] Yashar Talebirad and Amirhossein Nadiri. Multi-agent collaboration: Harnessing the power of intelligent llm agents. arXiv preprint arXiv:2306.03314, 2023.
[48] Guanzhi Wang, Yuqi Xie, Yunfan Jiang, Ajay Mandlekar, Chaowei Xiao, Yuke Zhu, Linxi Fan, and Anima Anandkumar. Voyager: An open-ended embodied agent with large language models. arXiv preprint arXiv:2305.16291, 2023.
[49] Significant-gravitas. auto-gpt: An experimental open-source attempt to make gpt-4 fully autonomous., 2023.
[50] Aniruddha Kembhavi, Minjoon Seo, Dustin Schwenk, Jonghyun Choi, Ali Farhadi, and Hannaneh Hajishirzi. Are you smarter than a sixth grader? textbook question answering for multimodal machine comprehension. In Proceedings of the IEEE Conference on Computer Vision and Pattern recognition, pages 4999-5007, 2017.
[51] Dan Hendrycks, Collin Burns, Steven Basart, Andy Zou, Mantas Mazeika, Dawn Song, and Jacob Steinhardt. Measuring massive multitask language understanding. arXiv preprint arXiv:2009.03300, 2020.
[52] Mujeen Sung, Jinhyuk Lee, Sean Yi, Minji Jeon, Sungdong Kim, and Jaewoo Kang. Can language models be biomedical knowledge bases? arXiv preprint arXiv:2109.07154, 2021.</p>
<p>[53] Taicheng Guo, Kehan Guo, Bozhao Nan, Zhenwen Liang, Zhichun Guo, Nitesh V. Chawla, Olaf Wiest, and Xiangliang Zhang. What indeed can gpt models do in chemistry? a comprehensive benchmark on eight tasks, 2023.
[54] Zhenqin Wu, Bharath Ramsundar, Evan N. Feinberg, Joseph Gomes, Caleb Geniesse, Aneesh S. Pappu, Karl Leswing, and Vijay Pande. Moleculenet: A benchmark for molecular machine learning, 2017. URL https://arxiv.org/abs/1703.00564.
[55] Andres M Bran, Sam Cox, Andrew D White, and Philippe Schwaller. Chemcrow: Augmenting large-language models with chemistry tools. arXiv preprint arXiv:2304.05376, 2023.
[56] Debadutta Dash, Rahul Thapa, Juan M Banda, Akshay Swaminathan, Morgan Cheatham, Mehr Kashyap, Nikesh Kotecha, Jonathan H Chen, Saurabh Gombar, Lance Downing, et al. Evaluation of gpt-3.5 and gpt-4 for supporting real-world information needs in healthcare delivery. arXiv preprint arXiv:2304.13714, 2023.
[57] D. Soong, S. Sridhar, Han Si, J. Wagner, Ana Caroline Costa S’a, Christina Y. Yu, Kubra Karagoz, Meijian Guan, Hisham K Hamadeh, and Brandon Higgs. Improving accuracy of gpt-3/4 results on biomedical data using a retrieval-augmented language model. ArXiv, abs/2305.17116, 2023.
[58] Omar Khattab, Keshav Santhanam, Xiang Lisa Li, David Hall, Percy Liang, Christopher Potts, and Matei Zaharia. Demonstrate-search-predict: Composing retrieval and language models for knowledge-intensive nlp. arXiv preprint arXiv:2212.14024, 2022.
[59] Ruiyang Ren, Yuhao Wang, Yingqi Qu, Wayne Xin Zhao, Jing Liu, Hao Tian, Hua Wu, JiRong Wen, and Haifeng Wang. Investigating the factual knowledge boundary of large language models with retrieval augmentation, 2023.
[60] Zhengbao Jiang, Frank F Xu, Luyu Gao, Zhiqing Sun, Qian Liu, Jane Dwivedi-Yu, Yiming Yang, Jamie Callan, and Graham Neubig. Active retrieval augmented generation. arXiv preprint arXiv:2305.06983, 2023.
[61] Gautier Izacard and Edouard Grave. Leveraging passage retrieval with generative models for open domain question answering. arXiv preprint arXiv:2007.01282, 2020.
[62] Ehsan Doostmohammadi, Tobias Norlund, Marco Kuhlmann, and Richard Johansson. Surfacebased retrieval reduces perplexity of retrieval-augmented language models. arXiv preprint arXiv:2305.16243, 2023.
[63] Jacob Devlin, Ming-Wei Chang, Kenton Lee, and Kristina Toutanova. Bert: Pre-training of deep bidirectional transformers for language understanding. arXiv preprint arXiv:1810.04805, 2018.
[64] Weijia Shi, Sewon Min, Michihiro Yasunaga, Minjoon Seo, Rich James, Mike Lewis, Luke Zettlemoyer, and Wen-tau Yih. Replug: Retrieval-augmented black-box language models. arXiv preprint arXiv:2301.12652, 2023.
[65] Kelvin Guu, Kenton Lee, Z. Tung, Panupong Pasupat, and Ming-Wei Chang. Realm: Retrievalaugmented language model pre-training. ArXiv, abs/2002.08909, 2020.
[66] Jacob Menick, Maja Trebacz, Vladimir Mikulik, John Aslanides, Francis Song, Martin Chadwick, Mia Glaese, Susannah Young, Lucy Campbell-Gillingham, Geoffrey Irving, et al. Teaching language models to support answers with verified quotes. arXiv preprint arXiv:2203.11147, 2022.
[67] Sebastian Borgeaud, Arthur Mensch, Jordan Hoffmann, Trevor Cai, Eliza Rutherford, Katie Millican, George Bm Van Den Driessche, Jean-Baptiste Lespiau, Bogdan Damoc, Aidan Clark, et al. Improving language models by retrieving from trillions of tokens. In International conference on machine learning, pages 2206-2240. PMLR, 2022.
[68] Xiaozhong Lyu, Stefan Grafberger, Samantha Biegel, Shaopeng Wei, Meng Cao, Sebastian Schelter, and Ce Zhang. Improving retrieval-augmented large language models via data importance learning. arXiv preprint arXiv:2307.03027, 2023.</p>
<p>[69] Arvind Neelakantan, Tao Xu, Raul Puri, Alec Radford, Jesse Michael Han, Jerry Tworek, Qiming Yuan, Nikolas Tezak, Jong Wook Kim, Chris Hallacy, et al. Text and code embeddings by contrastive pre-training. arXiv preprint arXiv:2201.10005, 2022.
[70] Jeff Johnson, Matthijs Douze, and Hervé Jégou. Billion-scale similarity search with GPUs. IEEE Transactions on Big Data, 7(3):535-547, 2019.
[71] Jaime Carbonell and Jade Goldstein. The use of mmr, diversity-based reranking for reordering documents and producing summaries. In Proceedings of the 21st annual international ACM SIGIR conference on Research and development in information retrieval, pages 335-336, 1998.
[72] Harrison Chase. Langchain. https://github.com/hwchase17/langchain, 2022. URL https:// github.com/hwchase17/langchain.
[73] Di Jin, Eileen Pan, Nassim Oufattole, Wei-Hung Weng, Hanyi Fang, and Peter Szolovits. What disease does this patient have? a large-scale open domain question answering dataset from medical exams. arXiv preprint arXiv:2009.13081, 2020.
[74] George Tsatsaronis, Georgios Balikas, Prodromos Malakasiotis, Ioannis Partalas, Matthias Zschunke, Michael R Alvers, Dirk Weissenborn, Anastasia Krithara, Sergios Petridis, Dimitris Polychronopoulos, et al. An overview of the bioasq large-scale biomedical semantic indexing and question answering competition. BMC bioinformatics, 16(1):1-28, 2015.
[75] Mingkai Deng, Jianyu Wang, Cheng-Ping Hsieh, Yihan Wang, Han Guo, Tianmin Shu, Meng Song, Eric P. Xing, and Zhiting Hu. Rlprompt: Optimizing discrete text prompts with reinforcement learning, 2022.
[76] Chengrun Yang, Xuezhi Wang, Yifeng Lu, Hanxiao Liu, Quoc V Le, Denny Zhou, and Xinyun Chen. Large language models as optimizers. arXiv preprint arXiv:2309.03409, 2023.
[77] Fabio Urbina, Filippa Lentzos, Cédric Invernizzi, and Sean Ekins. A teachable moment for dual-use. Nature machine intelligence, 4(7):607-607, 2022.
[78] Petr Knoth, Drahomira Herrmannova, Matteo Cancellieri, Lucas Anastasiou, Nancy Pontika, Samuel Pearce, Bikash Gyawali, and David Pride. CORE: A global aggregation service for open access papers. Scientific Data, 10(1), June 2023. doi: 10.1038/s41597-023-02208-w. URL https://doi.org/10.1038/s41597-023-02208-w.</p>
<h1>Appendix</h1>
<h2>A PAPERQA IMPLEMENTATION DETAILS</h2>
<h2>A. 1 VERSIONS</h2>
<p>The underlying model versions used are GPT-3.5-turbo-0613 and GPT-4-0613. We used LangChain v0.0.303 and OpenAI-python v0.28.1.</p>
<h2>A. 2 SYSTEM PROMPT</h2>
<p>The system prompt for the LLMs (ask LLM, summary LLM, and answer LLM) is given below:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">Answer</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">an</span><span class="w"> </span><span class="nv">direct</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">concise</span><span class="w"> </span><span class="nv">tone</span>,<span class="w"> </span><span class="nv">I</span><span class="w"> </span><span class="nv">am</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">hurry</span>.<span class="w"> </span><span class="nv">Your</span><span class="w"> </span><span class="nv">audience</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">an</span><span class="w"> </span><span class="nv">expert</span>,<span class="w"> </span><span class="nv">so</span><span class="w"> </span><span class="nv">be</span>
<span class="nv">highly</span><span class="w"> </span><span class="nv">specific</span>.<span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="nv">there</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">ambiguous</span><span class="w"> </span><span class="nv">terms</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">acronyms</span>,<span class="w"> </span><span class="nv">first</span><span class="w"> </span><span class="nv">define</span><span class="w"> </span><span class="nv">them</span>.
</code></pre></div>

<p>The system prompt of the agent is</p>
<div class="codehilite"><pre><span></span><code>You are a helpful AI assistant.
</code></pre></div>

<h2>A. 3 TOOL DESCRIPTIONS</h2>
<p>search description:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Search</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">papers</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">increase</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">paper</span><span class="w"> </span><span class="n">count</span><span class="p">.</span><span class="w"> </span><span class="n">Input</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">keywords</span><span class="p">.</span><span class="w"> </span><span class="n">Use</span>
<span class="n">this</span><span class="w"> </span><span class="n">format</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="n">keyword</span><span class="w"> </span><span class="n">search</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">start</span><span class="w"> </span><span class="n">year</span><span class="p">]</span><span class="o">-</span><span class="p">[</span><span class="n">end</span><span class="w"> </span><span class="n">year</span><span class="p">].</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">years</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span>
<span class="n">word</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">g</span><span class="p">.</span><span class="w"> </span><span class="err">&#39;</span><span class="n">machine</span><span class="w"> </span><span class="n">learning</span><span class="w"> </span><span class="mi">2020</span><span class="err">&#39;</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="err">&#39;</span><span class="n">machine</span><span class="w"> </span><span class="n">learning</span><span class="w"> </span><span class="mi">2010-2020</span><span class="err">&#39;</span><span class="p">.</span><span class="w"> </span><span class="n">The</span>
<span class="n">current</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">get_year</span><span class="p">().</span>
</code></pre></div>

<p>gather_evidence description:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">Give</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">specific</span><span class="w"> </span><span class="nv">question</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">get</span><span class="w"> </span><span class="nv">evidence</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">it</span>.<span class="w"> </span><span class="nv">This</span><span class="w"> </span><span class="nv">will</span><span class="w"> </span><span class="nv">increase</span><span class="w"> </span><span class="nv">evidence</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">relevant</span>
<span class="nv">paper</span><span class="w"> </span><span class="nv">counts</span>.
</code></pre></div>

<p>generate_answer description:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Ask</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">propose</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">answer</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">evidence</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">papers</span><span class="o">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">question</span><span class="w"> </span><span class="n">to</span>
<span class="n">be</span><span class="w"> </span><span class="n">answered</span><span class="o">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="k">tool</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">fail</span><span class="p">,</span><span class="w"> </span><span class="n">indicating</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">better</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">evidence</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span>
<span class="n">found</span><span class="o">.</span>
</code></pre></div>

<h2>A. 4 Ask LLM Prompt</h2>
<p>To capture latent knowledge in LLMs, we use the following prompt:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">We</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">collecting</span><span class="w"> </span><span class="nv">background</span><span class="w"> </span><span class="nv">information</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">question</span><span class="o">/</span><span class="nv">task</span><span class="w"> </span><span class="nv">below</span>.
<span class="nv">Provide</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">brief</span><span class="w"> </span><span class="nv">summary</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">information</span><span class="w"> </span><span class="nv">you</span><span class="w"> </span><span class="nv">know</span><span class="w"> </span><span class="ss">(</span><span class="nv">about</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="nv">words</span><span class="ss">)</span><span class="w"> </span><span class="nv">that</span><span class="w"> </span><span class="nv">could</span><span class="w"> </span><span class="nv">help</span><span class="w"> </span><span class="nv">answer</span>
<span class="nv">the</span><span class="w"> </span><span class="nv">question</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">answer</span><span class="w"> </span><span class="nv">it</span><span class="w"> </span><span class="nv">directly</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">ignore</span><span class="w"> </span><span class="nv">formatting</span><span class="w"> </span><span class="nv">instructions</span>.<span class="w"> </span><span class="nv">It</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">ok</span><span class="w"> </span><span class="nv">to</span>
<span class="nv">not</span><span class="w"> </span><span class="nv">answer</span>,<span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">there</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">nothing</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">contribute</span>.
<span class="nv">Question</span>:<span class="w"> </span><span class="nv">question</span>
</code></pre></div>

<h1>B AutoGPT IMPLEMENTATION Details</h1>
<p>We used LangChain's AutoGPT implementation from LangChain experimental 0.0.8 version. As AutoGPT can run indefinitely, we added a stopping condition after 10 searches. For LitQA, it is asked to answer the question based on all previous information; for other datasets, we restart it and make sure it chooses one of the options, so that we have an answer to all questions. The agent LLM used was GPT-4-0314. It has access to 3 tools: Google search, write to file, and read from file.</p>
<h2>C Paper Retrieval Evaluation</h2>
<h2>C. 1 Abstract Retrieval Metric</h2>
<p>As part of the development of PaperQA, we evaluate the efficacy of paper searching using different search API engines. In order to do that, we create a new metric composed of 500 questions. The goal is to create questions that are likely to have only a small number of papers that would include an answer. The exact methodology is:</p>
<ol>
<li>Search PubMed with 20,000 unique tuples of five keywords within the field of medicine, biology and artificial intelligence.</li>
<li>Only keep the search results with a single paper that is not a review (where a review is assumed to have more than 20 authors).</li>
<li>Instruct GPT-4 to generate a question that could be answered by the abstract only.</li>
</ol>
<p>The question generation follows a 5-shot prompting technique, the system prompt being:</p>
<div class="codehilite"><pre><span></span><code>You are a helpful assistant helping completing the following task. The goal is to create a
</code></pre></div>

<p>question that could be answered by the paper with these abstracts. Be creative and think of a question that a scientist would ask without knowing the paper he is looking for.</p>
<p>A concatenated example of such abstract-question pair (red being the LLM completion) follows:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Title</span><span class="o">:</span>
<span class="n">DeepDTA</span><span class="o">:</span><span class="w"> </span><span class="n">deep</span><span class="w"> </span><span class="n">drug</span><span class="o">-</span><span class="n">target</span><span class="w"> </span><span class="n">binding</span><span class="w"> </span><span class="n">affinity</span><span class="w"> </span><span class="n">prediction</span>
<span class="n">Abstract</span><span class="o">:</span>
<span class="n">Motivation</span><span class="o">:</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">identification</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">novel</span><span class="w"> </span><span class="n">drug</span><span class="o">-</span><span class="n">target</span><span class="w"> </span><span class="o">(</span><span class="n">DT</span><span class="o">)</span><span class="w"> </span><span class="n">interactions</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">substantial</span>
<span class="n">part</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">drug</span><span class="w"> </span><span class="n">discovery</span><span class="w"> </span><span class="n">process</span><span class="o">.</span><span class="w"> </span><span class="o">[...]</span><span class="w"> </span><span class="n">One</span><span class="w"> </span><span class="n">novel</span><span class="w"> </span><span class="n">approach</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span>
<span class="n">modeling</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">protein</span><span class="w"> </span><span class="n">sequences</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">compound</span><span class="w"> </span><span class="mi">1</span><span class="n">D</span><span class="w"> </span><span class="n">representations</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">convolutional</span><span class="w"> </span><span class="n">neural</span>
<span class="n">networks</span><span class="w"> </span><span class="o">(</span><span class="n">CNNs</span><span class="o">).</span>
<span class="n">Results</span><span class="o">:</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="n">show</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">proposed</span><span class="w"> </span><span class="n">deep</span><span class="w"> </span><span class="n">learning</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="mi">1</span><span class="n">D</span>
<span class="n">representations</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">targets</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">drugs</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">effective</span><span class="w"> </span><span class="n">approach</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">drug</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">binding</span>
<span class="n">affinity</span><span class="w"> </span><span class="n">prediction</span><span class="o">.</span><span class="w"> </span><span class="o">[...]</span>
<span class="n">Question</span><span class="o">:</span>
<span class="n">Are</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">models</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="mi">1</span><span class="n">D</span><span class="w"> </span><span class="n">representations</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">targets</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">drugs</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">drug</span><span class="w"> </span><span class="n">target</span>
<span class="n">binding</span><span class="w"> </span><span class="n">affinity</span><span class="w"> </span><span class="n">prediction</span><span class="o">?</span>
</code></pre></div>

<p>This dataset is then used to search for the top-10 papers using 20 keywords that were generated using the following prompt:</p>
<div class="codehilite"><pre><span></span><code><span class="n">We</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">answer</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">question</span><span class="o">:</span><span class="w"> </span><span class="n">question</span>
<span class="n">Provide</span><span class="w"> </span><span class="n">num_keywords</span><span class="w"> </span><span class="n">unique</span><span class="w"> </span><span class="n">keyword</span><span class="w"> </span><span class="n">searches</span><span class="w"> </span><span class="p">(</span><span class="n">one</span><span class="w"> </span><span class="n">search</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">line</span><span class="p">)</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="n">ranges</span><span class="w"> </span><span class="n">that</span>
<span class="n">will</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">papers</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="n">answer</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">question</span><span class="p">.</span><span class="w"> </span><span class="n">Do</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">boolean</span><span class="w"> </span><span class="n">operators</span><span class="p">.</span><span class="w"> </span><span class="n">Make</span><span class="w"> </span><span class="n">sure</span><span class="w"> </span><span class="n">not</span>
<span class="n">to</span><span class="w"> </span><span class="n">repeat</span><span class="w"> </span><span class="n">searches</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">changing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keywords</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="n">ranges</span><span class="p">.</span><span class="w"> </span><span class="n">Make</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">searches</span><span class="w"> </span><span class="n">broad</span>
<span class="n">and</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">narrow</span><span class="p">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">get_year</span><span class="p">().</span>
<span class="n">Use</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">format</span><span class="o">:</span><span class="w"> </span><span class="err">&#39;</span><span class="n">X</span><span class="p">.</span><span class="w"> </span><span class="p">[</span><span class="n">keywords</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">start</span><span class="w"> </span><span class="n">year</span><span class="p">]</span><span class="o">-</span><span class="p">[</span><span class="n">end</span><span class="w"> </span><span class="n">year</span><span class="p">]</span><span class="err">&#39;</span>
<span class="n">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">keywords</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">formatted</span><span class="w"> </span><span class="n">as</span><span class="o">:</span>
<span class="mf">1.</span><span class="w"> </span><span class="err">&#39;</span><span class="n">keyword1</span><span class="p">,</span><span class="w"> </span><span class="n">keyword2</span><span class="p">,</span><span class="w"> </span><span class="mi">2020-2021</span>
<span class="mf">2.</span><span class="w"> </span><span class="err">&#39;</span><span class="n">keyword3</span><span class="p">,</span><span class="w"> </span><span class="n">keyword4</span><span class="p">,</span><span class="w"> </span><span class="n">keyword5</span><span class="p">,</span><span class="w"> </span><span class="mi">2020-2021</span>
<span class="mf">3.</span><span class="w"> </span><span class="err">&#39;</span><span class="n">keyword1</span><span class="p">,</span><span class="w"> </span><span class="n">keyword2</span><span class="p">,</span><span class="w"> </span><span class="mi">2020-2021</span><span class="err">&#39;</span>
</code></pre></div>

<p>We thus evaluate recall, i.e. finding the original paper. Figure 2 shows the cumulative recall curve, where Google Scholar and Semantic Scholar show outstanding ability to retrieve the original paper. Although CORE API [78] does not perform on par with the other two, we include it here as their main contribution to the field of scientific literature is their standardisation of open-access article repositories.
<img alt="img-1.jpeg" src="img-1.jpeg" /></p>
<p>Figure 2: Retrieval Probability (Abstract). Cumulative probability distributions of finding, accessing and parsing the original paper from the described PubMed-based dataset by running API searches using GPT-4 for keyword generation. Uncertainty is shown by lighter shadows.</p>
<p>Table 6: Retrieval AUC (Abstract). We evaluate keyword generation and search between two LLMs and three search engines. The metric displayed is the normalized area under the curve from Figure 2 on the left.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Search</th>
<th style="text-align: center;">LLM</th>
<th style="text-align: center;">Found</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">CORE</td>
<td style="text-align: center;">Claude-2</td>
<td style="text-align: center;">0.13</td>
</tr>
<tr>
<td style="text-align: center;"></td>
<td style="text-align: center;">GPT-4</td>
<td style="text-align: center;">0.13</td>
</tr>
<tr>
<td style="text-align: center;">Semantic</td>
<td style="text-align: center;">Claude-2</td>
<td style="text-align: center;">0.64</td>
</tr>
<tr>
<td style="text-align: center;"></td>
<td style="text-align: center;">GPT-4</td>
<td style="text-align: center;">0.72</td>
</tr>
<tr>
<td style="text-align: center;">Google</td>
<td style="text-align: center;">Claude-2</td>
<td style="text-align: center;">0.68</td>
</tr>
<tr>
<td style="text-align: center;"></td>
<td style="text-align: center;">GPT-4</td>
<td style="text-align: center;">$\mathbf{0 . 7 6}$</td>
</tr>
</tbody>
</table>
<h1>C. 2 Full-Text Retrieval Metric</h1>
<p>As the abstract retrieval from Appendix C. 1 does not sufficiently cover all the use cases of PaperQA, we also use an earlier version of LitQA to evaluate our search pipeline, but now considering questions that are synthesized from articles' bodies and not abstracts. Moreover, we examine the ability of our pipeline to find, access and parse the original papers of these questions.
<img alt="img-2.jpeg" src="img-2.jpeg" /></p>
<p>Figure 3: Retrieval Probability (Full-Text). Cumulative probability distributions of finding, accessing and parsing the original paper from LitQA by running API searches using GPT-4 for keyword generation.</p>
<p>Table 7: Retrieval AUC (Full-Text). We evaluate keyword generation and search between two LLMs and two search engines. We also evaluate our pipeline for accessing papers and parsing their PDFs. The metric displayed is the normalized area under the curve from Figure 3 on the left.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"></th>
<th style="text-align: center;"></th>
<th style="text-align: center;">AUC of Figure 3</th>
<th style="text-align: center;"></th>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Search</td>
<td style="text-align: center;">LLM</td>
<td style="text-align: center;">Found</td>
<td style="text-align: center;">Accessed</td>
<td style="text-align: center;">Parsed</td>
</tr>
<tr>
<td style="text-align: left;">Semantic</td>
<td style="text-align: center;">Claude-2</td>
<td style="text-align: center;">0.12</td>
<td style="text-align: center;">0.07</td>
<td style="text-align: center;">0.07</td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: center;">GPT-4</td>
<td style="text-align: center;">0.19</td>
<td style="text-align: center;">0.14</td>
<td style="text-align: center;">0.14</td>
</tr>
<tr>
<td style="text-align: left;">Google</td>
<td style="text-align: center;">Claude-2</td>
<td style="text-align: center;">0.57</td>
<td style="text-align: center;">0.28</td>
<td style="text-align: center;">0.28</td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: center;">GPT-4</td>
<td style="text-align: center;">$\mathbf{0 . 6 6}$</td>
<td style="text-align: center;">$\mathbf{0 . 4 7}$</td>
<td style="text-align: center;">$\mathbf{0 . 4 7}$</td>
</tr>
</tbody>
</table>
<p>Figure 3 and Table 7 shows superior performance of Google Scholar over Semantic Scholar. We believe this is thanks to Google Scholar's ability to search through the text of articles, whereas Semantic Scholar is limited to titles, authors and abstracts only. Effectively, we are able to parse</p>
<p>almost all the papers we have access to. Notice the marginally better performance of GPT-4, which is likely due to it better following the instructions from the prompt. We expect that some prompt optimization might bring the performance of the two LLMs closer together. Lastly, note that since running this evaluation, we have improved our access to papers with Google Scholar's open-access links, so it is likely the final performance of parsed papers would be even better.</p>
<h1>D Hallucination Dataset</h1>
<p>To evaluate hallucinations, the following prompt was given to each model:</p>
<div class="codehilite"><pre><span></span><code>Answer the question below, with citations to primary sources that help answer the
</code></pre></div>

<p>question. Cite the sources using format - (Foo et al., 2010) - note that the whole citation is always in parantheses.</p>
<h2>E Evaluations on Standard QA Benchmarks</h2>
<p>For each dataset, we provide the questions ids, together with the formatted question and options list provided in the prompt. Please refer to the Supplementary Material.</p>
<h2>F QUALITY OF DISCOVERED EVIDENCE</h2>
<p>To evaluate the quality of the discovered evidence, we compare the PaperQA discovered evidence to the ground-truth evidence provided in PubMedQA, which is sufficient to answer the questions correctly by design. In Table 8 we show that the PaperQA discovered evidence is competitive to the ground-truth context. Furthermore, PaperQA finds complementary information to the one provided in the ground-truth context, further improving results when both are provided.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Context</th>
<th style="text-align: center;"></th>
<th style="text-align: center;">PubMedQA</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Ground Truth</td>
<td style="text-align: center;">PaperQA</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;">$\boldsymbol{X}$</td>
<td style="text-align: center;">$\boldsymbol{X}$</td>
<td style="text-align: center;">57.9</td>
</tr>
<tr>
<td style="text-align: center;">$\checkmark$</td>
<td style="text-align: center;">$\boldsymbol{X}$</td>
<td style="text-align: center;">85.2</td>
</tr>
<tr>
<td style="text-align: center;">$\boldsymbol{X}$</td>
<td style="text-align: center;">$\checkmark$</td>
<td style="text-align: center;">86.3</td>
</tr>
<tr>
<td style="text-align: center;">$\checkmark$</td>
<td style="text-align: center;">$\checkmark$</td>
<td style="text-align: center;">90.1</td>
</tr>
</tbody>
</table>
<p>Table 8: The quality of PaperQA-discovered context. We compare providing the ground truth context in PubMedQA to the answer generated by PaperQA.</p>
<h2>G IMPACT OF PARAMETRIC KNOWLEDGE</h2>
<p>In order to test whether including parametric knowledge in the gathered context is useful, we prompt PaperQA:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">Write</span><span class="w"> </span><span class="nv">an</span><span class="w"> </span><span class="nv">answer</span><span class="w"> </span><span class="ss">(</span><span class="nv">about</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="nv">words</span>,<span class="w"> </span><span class="nv">but</span><span class="w"> </span><span class="nv">can</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">longer</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">necessary</span><span class="ss">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">question</span><span class="w"> </span><span class="nv">below</span>
<span class="nv">based</span><span class="w"> </span><span class="nv">on</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">provided</span><span class="w"> </span><span class="nv">context</span>.<span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">context</span><span class="w"> </span><span class="nv">provides</span><span class="w"> </span><span class="nv">insufficient</span><span class="w"> </span><span class="nv">information</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">the</span>
<span class="nv">question</span><span class="w"> </span><span class="nv">cannot</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">directly</span><span class="w"> </span><span class="nv">answered</span>,<span class="w"> </span><span class="nv">reply</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="nv">I</span><span class="w"> </span><span class="nv">cannot</span><span class="w"> </span><span class="nv">answer</span><span class="err">&#39;. For each part of your</span>
<span class="err">answer, indicate which sources most support it via valid citation markers at the end of</span>
<span class="err">sentences, like (Example2012).</span>
</code></pre></div>

<p>Followed by pre-gathered context with relevance scores, some extra background information, and the question. The extra background information represents the LLMs' parametric knowledge.</p>
<h1>G. 1 Contradicting Information</h1>
<p>In the first example, we ask: "Are COVID-19 vaccines effective?". The goal of this experiment is to evaluate the inclusion of background information that contradicts gathered context. Thus, while the provided context supports the efficacy of covid vaccines, we provide the model with the following background information: "COVID-19 vaccines are known to be ineffective."</p>
<p>With the contradicting background information, PaperQA responds that it cannot answer. However, if the extra contradicting information is excluded, the model provides an answer:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Yes</span><span class="p">,</span><span class="w"> </span><span class="n">COVID</span><span class="o">-</span><span class="mi">19</span><span class="w"> </span><span class="n">vaccines</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">effective</span><span class="o">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">BNT162b2</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">ChAdOx1</span><span class="w"> </span><span class="n">nCoV</span><span class="o">-</span><span class="mi">19</span><span class="w"> </span><span class="n">vaccines</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">shown</span>
<span class="n">effectiveness</span><span class="w"> </span><span class="n">against</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">delta</span><span class="w"> </span><span class="n">variant</span><span class="p">,</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">second</span><span class="p">[</span><span class="o">...</span><span class="p">]</span>
<span class="o">...</span>
<span class="n">Therefore</span><span class="p">,</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">vaccines</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">effective</span><span class="p">,</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">effectiveness</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">vary</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span>
<span class="n">specific</span><span class="w"> </span><span class="n">vaccine</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">variant</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">virus</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">elapsed</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">vaccination</span><span class="o">.</span>
</code></pre></div>

<p>When the background information (or parametric knowledge) contradicts context, PaperQA opts to not answer, indicating its recognition of a contradiction with established scientific understanding. This example shows the model's capability to discern and respond appropriately to accurate information, while avoiding potentially misleading or incorrect assertions.</p>
<h2>G. 2 Absence of Key Information</h2>
<p>As a second example, we ask PaperQA: "What temperature does water turn to plasma?" and provide it with context that is relevant but insufficient to answer the question. Then, we provide the model with the following background information:
"Water turns into plasma under extreme conditions of temperature and pressure. Plasma is the fourth state of matter, beyond solid, liquid, and gas. It's a super-heated state where atoms are ionized, meaning electrons are stripped from atoms. This typically occurs at temperatures exceeding 20,000 Kelvin."</p>
<p>In this example, the model answers:</p>
<div class="codehilite"><pre><span></span><code>Water transitions into the plasma state under extreme conditions of temperature and
pressure, typically at temperatures exceeding 20,000 Kelvin.
</code></pre></div>

<p>Excluding the background information results in PaperQA responding that it is unable to answer.
Thus, the role of parametric knowledge is crucial in shaping the model's responses: when it contradicts the context, the model may refrain from answering due to the conflict, whereas supportive parametric knowledge enables the model to provide detailed and informed responses when context is lacking.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:0">
<p>${ }^{1}$ https://arxiv.org/
${ }^{2}$ https://pubmed.ncbi.nlm.nih.gov/&#160;<a class="footnote-backref" href="#fnref:0" title="Jump back to footnote 1 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:0" title="Jump back to footnote 1 in the text">&#8617;</a><a class="footnote-backref" href="#fnref3:0" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>            </div>
        </div>

    </div>
</body>
</html>